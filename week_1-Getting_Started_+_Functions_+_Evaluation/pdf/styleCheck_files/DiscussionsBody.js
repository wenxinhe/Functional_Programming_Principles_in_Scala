define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});

define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ui",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/author-code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});

define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("nls/cml",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/discussions/components/sessionSwitcher/__styles__/SessionSwitcherDropdown',[],function(){})
define("bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown",["require","exports","module","underscore","react","moment","react-bootstrap","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/waitFor","js/lib/coursera.react-intl","i18n!nls/discussions","css!./__styles__/SessionSwitcherDropdown"],function(require,exports,module){function _defaults(e,i){for(var s=Object.getOwnPropertyNames(i),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(i,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,_=require("underscore"),e=require("react"),t=require("moment"),i=require("react-bootstrap"),l=i.DropdownButton,a=i.MenuItem,d=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),p=require("js/lib/waitFor"),c=require("js/lib/coursera.react-intl"),u=c.FormattedMessage,s=require("i18n!nls/discussions");require("css!./__styles__/SessionSwitcherDropdown");var o="MMM DD, YYYY",f=(n=r=function(r){function SessionSwitcherDropdown(i,o){_classCallCheck(this,SessionSwitcherDropdown);var n=_possibleConstructorReturn(this,r.call(this,i,o));return n.handleDropdownChange=function(e){n.setState({selectedFilter:n.props.filters.find(function(t){return t.id===e})}),n.props.handleDropdownChange(e)},n.buildMenuItemDisplay=function(r,i){if("all"===r.id)return SessionSwitcherDropdown.buildFilterDisplayString(r,i);if("ondemand"===r.id)return e.createElement("div",{className:"horizontal-box"},SessionSwitcherDropdown.buildFilterDisplayString(r,i),"ondemand"===r.id&&i&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},s("Active")));var o=n.props.allSessions.find(function(e){return e.id===r.id}),l=_(o.moduleDeadlines).chain().sortBy(function(e){return e.startedAt}).find(function(e){return t(e.deadline).isAfter(t())}).value(),a=l&&t(l).diff(t(o.startedAt),"weeks")+1;return e.createElement("div",{className:"horizontal-box"},SessionSwitcherDropdown.buildFilterDisplayString(r,i),i&&a>0&&t(o.endedAt).isAfter(t())&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},e.createElement(u,{message:s("Week {weekNumber} assignment due"),weekNumber:a})))},"all"===i.selectedFilter.id&&i.hideAllSessionsOption?n.state={selectedFilter:i.filters.filter(function(e){return"all"!==e.id})[0]}:n.state={selectedFilter:i.selectedFilter},n}return _inherits(SessionSwitcherDropdown,r),SessionSwitcherDropdown.prototype.componentWillMount=function componentWillMount(){this.props.selectedFilter.id!==this.state.selectedFilter.id&&this.props.handleDropdownChange(this.state.selectedFilter.id)},SessionSwitcherDropdown.buildFilterDisplayString=function buildFilterDisplayString(e,n){if("ondemand"===e.id)return"Self Paced";if("all"===e.id)return"All Sessions";var i=t(e.startedAt).format(o),s=t(e.endedAt).format(o),r=i+" - "+s;return e.variantLabel&&n?r+": "+e.variantLabel:r},SessionSwitcherDropdown.prototype.render=function render(){var t=this;return e.createElement("div",{className:"rc-SessionSwitcherDropdown"},e.createElement("div",{className:"dropdown-section"},e.createElement(l,{id:this.props.id,title:this.buildMenuItemDisplay(this.state.selectedFilter,!1),onSelect:this.handleDropdownChange,disabled:this.props.disabled,dropup:this.props.dropup,pullRight:!0},this.props.filters.map(function(r){return e.createElement(a,{key:r.id,eventKey:r.id},t.buildMenuItemDisplay(r,!0))}))))},SessionSwitcherDropdown}(e.Component),r.propTypes={id:e.PropTypes.string,filters:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number})),selectedFilter:e.PropTypes.shape({id:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number}),allSessions:e.PropTypes.array,handleDropdownChange:e.PropTypes.func.isRequired,hideAllSessionsOption:e.PropTypes.bool,disabled:e.PropTypes.bool,dropup:e.PropTypes.bool},r.defaultProps={hideAllSessionsOption:!1,dropup:!1},n);module.exports=_.compose(d(["SessionFilterStore"],function(r,n){var e=r.SessionFilterStore,t=e.filters;return n.hideAllSessionsOption&&(t=t.filter(function(e){return"all"!==e.id})),{loaded:e.filtersLoaded,filters:t,sessionsLoaded:e.filtersLoaded,selectedFilter:e.activeFilter,allSessions:e.allSessions}}),p(function(e){return e.loaded}))(f)});

define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/naptimejs",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/payments-common",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});





define("nls/enroll-course",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define("bundles/discussions/utils/generateThreadPostData",["require","exports","module"],function(require,exports,module){module.exports=function(n,e){var o=n.type,i=n.courseId,d=n.id,t={data:{context:{typeName:o,definition:{courseId:i}},content:{question:e.title,details:e.content}}};return e.context&&"default"!==e.context&&("ondemand"===e.context?t.data.forceOnDemand=!0:t.data.forceSessionId=e.context),"week"===o?t.data.context.definition.weekNumber=parseInt(d,10):t.data.context.definition[o+"Id"]=d,t}});
define("bundles/discussions/utils/routerConnectToCurrentForum",["require","exports","module","bundles/discussions/constants","js/lib/path"],function(require,exports,module){var n=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},o=require("bundles/discussions/constants"),r=o.naptimeForumTypes,e=require("js/lib/path");module.exports=function(i,o){if(!o.courseSlug)throw new Error("routerConnectToCurrentForum requires course slug as argument");var s=o.courseForums||[],c=o.mentorForums||[],p=o.weekNumber||i.params.week_number,a=o.forumId||i.params.forum_id,F=o.groupId||i.params.group_id,g=o.itemId||i.location.pathname.indexOf("/discussionPrompt/")<0&&i.params.item_id,u=void 0;if(p){var f=s.find(function(r){return"weekForumType"===r.forumType.typeName&&r.forumType.definition.weekNumber===parseInt(p,10)});u=f&&f.id}else if(F)u=void 0;else if(a){var T=s.concat(c),l=T.find(function(r){return r.forumId===a||r.legacyForumId===a});u=l&&l.id}else if(g){var y=s.find(function(r){return r.forumType.definition.itemId===g});u=y&&y.id}else{var v=s.find(function(e){return e.forumType.typeName===r.rootForumType});u=v&&v.id}var t=s.concat(c).find(function(r){return r.id===u}),m=void 0;if(t&&t.forumType.typeName===r.itemForumType){var d=i.location.pathname.split("discussions");d.pop(),m=e.join(d.join("discussions"),"discussions")}else t&&(m=e.join("/learn",o.courseSlug,t.link));return n({},o,{currentForumId:u,currentForum:t,currentForumUrl:m,rootPath:"/learn/"+o.courseSlug})}});
define("bundles/discussions/components/discussionsForumsHOC",["require","exports","module","naptime","underscore","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var s=require("naptime"),o=require("underscore"),r=o.compose,n=require("bundles/discussions/utils/discussionsApiRolloutUtil"),e=n.useNewForumApis,u=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),t=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");module.exports=function(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=o.fields,c=o.subcomponents;return r(i(["CourseStore","CourseMembershipStore","ApplicationStore"],function(e){var s=e.CourseStore,o=e.CourseMembershipStore,r=e.ApplicationStore;return{courseId:s.getCourseId(),courseSlug:s.getCourseSlug(),hasModerationRole:o.hasModerationRole()||r.isSuperuser()}}),s.createContainer(function(s){var o=s.hasModerationRole!==!1;return{courseForums:e()?u.course({params:{courseId:s.courseId},fields:n,subcomponents:c}):[],mentorForums:e()&&o?t.course({params:{courseId:s.courseId},fields:n,subcomponents:c}):[]}}))}});

define('css!bundles/discussions/components/__styles__/NewThreadButton',[],function(){})
define("bundles/discussions/components/NewThreadButton",["require","exports","module","react","react-dom","underscore","js/lib/path","bundles/page/components/TrackedButton","bundles/phoenix/components/Modal","bundles/iconfont/Icon","bundles/discussions/components/NewThreadFormComponents","bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown","bundles/discussions/actions/ThreadsActions","bundles/discussions/singletons/viewContexts","pages/open-course/common/utils/ensureEnrolled","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/discussions/utils/generateThreadPostData","bundles/discussions/utils/discussionsUrl","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/viewModels/viewContext","bundles/discussions/constants","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","js/lib/waitFor","js/lib/mapProps","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/utils/routerConnectToCurrentForum","bundles/discussions/components/discussionsForumsHOC","js/lib/provideFluxibleAppContext","i18n!nls/discussions","css!bundles/discussions/components/__styles__/NewThreadButton"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var s=n[t],o=Object.getOwnPropertyDescriptor(r,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,d,e=require("react"),n=require("react-dom"),_=require("underscore"),O=require("js/lib/path"),a=require("bundles/page/components/TrackedButton"),M=require("bundles/phoenix/components/Modal"),I=require("bundles/iconfont/Icon"),l=require("bundles/discussions/components/NewThreadFormComponents"),x=l.TitleInput,E=l.ContentInput,v=l.ForumSelector,P=require("bundles/discussions/components/sessionSwitcher/SessionSwitcherDropdown"),b=require("bundles/discussions/actions/ThreadsActions"),y=b.addThread,g=require("bundles/discussions/singletons/viewContexts"),F=require("pages/open-course/common/utils/ensureEnrolled"),w=require("bundles/discussions/utils/discussionsApiRolloutUtil"),s=w.useNewForumApis,S=require("bundles/discussions/utils/generateThreadPostData"),T=require("bundles/discussions/utils/discussionsUrl"),m=T.buildUrl,C=require("bundles/cml/utils/CMLUtils"),N=require("bundles/discussions/utils/DiscussionsCMLUtils"),h=require("bundles/discussions/viewModels/viewContext"),u=require("bundles/discussions/constants"),f=u.DTD_NAME,o=u.savingStates,i=u.naptimeForumTypes,j=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),D=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),k=require("js/lib/waitFor"),A=require("js/lib/mapProps"),R=require("js/lib/connectToRouter"),B=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),L=require("bundles/discussions/utils/routerConnectToCurrentForum"),U=require("bundles/discussions/components/discussionsForumsHOC"),q=require("js/lib/provideFluxibleAppContext"),t=require("i18n!nls/discussions");require("css!bundles/discussions/components/__styles__/NewThreadButton");var c=(d=r=function(r){function NewThreadButton(t,o){_classCallCheck(this,NewThreadButton);var e=_possibleConstructorReturn(this,r.call(this,t,o));return e.handleSubmit=function(){var a=_(e.state).any(function(e){return e.hasError});if(a)e.state.title.hasError?n.findDOMNode(e.refs.title).focus():e.state.content.hasError?n.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus():e.state.currentForum.hasError&&n.findDOMNode(e.refs.currentForum).focus(),e.setState({showErrors:!0});else{var t={title:e.state.title.value,content:e.state.content.value};e.props.showSessionSelector?t.context=e.state.activeFilterId:e.props.filter&&(t.context=e.props.filter.id);var o=e.state.currentForum,r=S(o.value,t),i=void 0;s()&&(r={content:{question:t.title,details:t.content},overrideSessionId:t.context,state:{},userId:e.props.userId,courseForumId:o.value.id,mentorForumId:o.value.id},i=o.value.forumId);var u=o.value.forumType&&o.value.forumType.typeName;e.setState({saving:!0}),e.context.executeAction(y,{options:r,forumType:u,forumId:i})}},e.handleDropdownChange=function(t){e.setState({activeFilterId:t})},e.handleOpenModal=function(){F().then(function(){return e.handleOpen()})},e.handleCloseModal=function(t){"x"===t?e.setState(e.resetState()):e.setState({showModal:!1})},e.handleCloseModalByX=e.handleCloseModal.bind(e,"x"),e.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},e.state=e.resetState(),e}return _inherits(NewThreadButton,r),NewThreadButton.prototype.componentWillMount=function componentWillMount(){s()||g().then(function(e){var t=_(e).filter(function(e){return"course"!==e.get("type")&&"module"!==e.get("type")});this.setState({forums:t})}.bind(this))},NewThreadButton.prototype.componentDidMount=function componentDidMount(){if(this.props.showForumSelector===!1&&!this.props.defaultForum&&!this.props.currentForumId)throw new Error("must provide an initial forum if hiding the forum selector")},NewThreadButton.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(!this.state.saving){var r=this.props.defaultForum?{id:this.props.defaultForum.get("id"),title:this.props.defaultForum.getDisplayName(),type:this.props.defaultForum.get("type"),discussionsLink:this.props.defaultForum.get("discussionsLink"),courseId:this.props.courseId}:void 0,t=s()?this.props.currentForum:r,n=!t;this.setState({currentForum:{value:t,hasError:n}})}this.props.threadSavingState===o.SAVING&&e.threadSavingState===o.SAVED?this.handleSaveSuccess(e.newThread):this.props.threadSavingState===o.SAVING&&e.threadSavingState===o.ERROR&&this.handleSaveError()},NewThreadButton.prototype.handleSaveSuccess=function handleSaveSuccess(e){if(s()){var t=O.join(this.props.rootPath,this.state.currentForum.value.link);this.context.router.push(m(t,e.questionId))}else this.context.viewContext.isType("item")||this.context.viewContext.isType("question")||this.context.router.push(m(this.state.currentForum.value.discussionsLink,e.id));this.setState(this.resetState())},NewThreadButton.prototype.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})},NewThreadButton.prototype.handleOpen=function handleOpen(){this.setState({showModal:!this.state.showModal})},NewThreadButton.prototype.resetState=function resetState(){var t=this.props.defaultForum?{id:this.props.defaultForum.get("id"),title:this.props.defaultForum.getDisplayName(),type:this.props.defaultForum.get("type"),discussionsLink:this.props.defaultForum.get("discussionsLink"),courseId:this.props.courseId}:void 0,e=s()?this.props.currentForum:t,o=!e;return{showModal:!1,title:{value:"",hasError:!0},content:{value:C.create("",f),hasError:!0},currentForum:{value:e,hasError:o},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:""}},NewThreadButton.prototype.render=function render(){var r=this,u=N.generateContentLengthWarning(this.state.content.value),l=e.createElement("div",{className:"error-text c-modal-error-message"},this.state.saveErrorMessage),n=null,o=[],c=this.state.currentForum.value;if(s()){o=this.props.forums;var d=this.props.forums.filter(function(e){return!e.parentForumId||e.parentForumId===r.props.rootForumId});o=_(d.map(function(e){return[e].concat(r.props.forums.filter(function(t){return t.parentForumId===e.id}))})).flatten()}else o=this.state.forums||[],o=o.map(function(e){return{id:e.get("id"),title:e.getDisplayName(),type:e.get("type"),discussionsLink:e.get("discussionsLink"),courseId:r.props.courseId}});o.length&&(n=e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"forum-selector"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Forum"))),e.createElement(v,{ref:"currentForum",id:"forum-selector",rootForumId:this.props.rootForumId,hasError:this.state.showErrors&&this.state.currentForum.hasError,handleInputChange:this.handleInputChange,forums:o,value:c})));var i=void 0;this.props.showSessionSelector&&(i=e.createElement("div",{className:"context-selector-container"},e.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),e.createElement("div",{className:"c-input-area"},e.createElement("h3",{className:"headline-1-text"},t("You're currently viewing All Sessions.")),e.createElement("label",{htmlFor:"new-thread-sessions-switcher"},e.createElement("span",{className:"caption-text color-secondary-text"},t("Which session should this thread go in?"))),e.createElement(P,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var p=e.createElement(M,{handleClose:this.handleCloseModal,modalName:t("Create a new thread"),className:"new-thread-modal"},e.createElement("h1",{className:"c-modal-title headline-3-text"},t("Create a new thread")),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"title-input"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(x,{id:"title-input",ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"content-input"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(E,{id:"content-input",ref:"content",hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),this.props.showForumSelector&&n,i,e.createElement("div",null,u,this.state.saveError&&l,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCloseModalByX},t("Cancel")),"  ",e.createElement(a,{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit,trackingName:"new_thread_create"},t("Post")))));return e.createElement("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},e.createElement(a,{ref:"newThreadButton",className:"c-new-thread-button secondary large-screen",onClick:this.handleOpenModal,trackingName:"new_thread_button"},t("New Thread")),e.createElement(a,{ref:"newThreadButton",className:"nostyle align-right mobile hide",onClick:this.handleOpenModal,trackingName:"new_thread_button"},e.createElement(I,{name:"plus"})),this.state.showModal&&p)},NewThreadButton}(e.Component),r.propTypes={showForumSelector:e.PropTypes.bool.isRequired,defaultForum:e.PropTypes.instanceOf(h),userId:e.PropTypes.number,rootForumId:e.PropTypes.string,forums:e.PropTypes.arrayOf(e.PropTypes.object),currentForumId:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(j),e.PropTypes.instanceOf(D)]),showSessionSelector:e.PropTypes.bool,videoPlayer:e.PropTypes.object,rootPath:e.PropTypes.string,filter:e.PropTypes.shape({id:e.PropTypes.string}),threadSavingState:e.PropTypes.string,newThread:e.PropTypes.object,courseId:e.PropTypes.string},r.contextTypes={viewContext:e.PropTypes.instanceOf(h),executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},d),p=_.compose(B(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore"],function(e,n){var t=e.SessionFilterStore,s=e.ThreadsStore,o=e.ApplicationStore,r=e.CourseMembershipStore;return{showSessionSelector:r.hasModerationRole()&&"all"===t.activeFilterQueryString,filter:t.activeFilter,threadSavingState:s.savingState,newThread:s.threadToInsert,userId:o.getUserData().id}}),U({fields:["forumType","title","link"]}),R(L),A(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==i.rootForumType&&e.currentForum||void 0,r=s()?!0:e.showForumSelector,o=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===i.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==i.rootForumType}).concat(e.mentorForums):[],rootForumId:o&&o.id,currentForum:t,currentForumId:t&&t.id,showForumSelector:r}}),k(function(e){return!s()||e.forums.length}))(c);module.exports=q()(p),module.exports.NewThreadButtonNaptimeContainer=p,module.exports.BaseComp=c});
define("bundles/page/components/TrackedTextInput",["require","exports","module","react","js/app/retracked"],function(require,exports,module){function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _objectWithoutProperties(t,n){var r={};for(var e in t){if(n.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;r[e]=t[e]}return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t,n,e=require("react"),a=require("js/app/retracked"),o=(n=t=function(t){function TrackedTextInput(){var o,e,s;_classCallCheck(this,TrackedTextInput);for(var c=arguments.length,p=Array(c),n=0;c>n;n++)p[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(p))),e.trackClick=function(t){a.trackComponent(e.context._eventData,e.props.data,e.props.trackingName,"click"),e.props.onClick&&e.props.onClick(t)},e.trackKeyPress=function(t){"Enter"===t.key&&a.trackComponent(e.context._eventData,r({},e.props.data,{inputValue:e.refs.input.value,pressedKey:t.key}),e.props.trackingName,"key_press"),e.props.onKeyPress&&e.props.onKeyPress(t)},s=o,_possibleConstructorReturn(e,s)}return _inherits(TrackedTextInput,t),TrackedTextInput.prototype.render=function render(){var a=this.context._eventData&&this.context._eventData.namespace||{},s=a.app,c=a.page,n=void 0,p=this.props.trackingName,t=this.props,k=t.trackingName,i=t.className,u=t.data,l=t.onClick,f=t.onKeyPress,y=t.children,o=_objectWithoutProperties(t,["trackingName","className","data","onClick","onKeyPress","children"]);return n=this.onKeyPress?"key_press":"click",e.createElement("input",r({ref:"input",onClick:this.trackClick,onKeyPress:this.trackKeyPress,"data-track":!0,"data-track-app":s,"data-track-page":c,"data-track-action":n,"data-track-component":p,className:this.props.className},o),this.props.children)},TrackedTextInput}(e.Component),t.propTypes={trackingName:e.PropTypes.string.isRequired,className:e.PropTypes.string,data:e.PropTypes.object,onClick:e.PropTypes.func,onKeyPress:e.PropTypes.func,children:e.PropTypes.node},t.contextTypes={_eventData:e.PropTypes.object},n);module.exports=o});

define('css!bundles/discussions/components/search/__styles__/SearchBar',[],function(){})
define("bundles/discussions/components/search/SearchBar",["require","exports","module","react","react-dom","i18n!nls/discussions","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBar.css"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),r=0;r<a.length;r++){var t=a[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),o=require("react-dom"),n=require("i18n!nls/discussions"),a=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBar.css");var s=(t=r=function(r){function SearchBar(){var n,e,o;_classCallCheck(this,SearchBar);for(var a=arguments.length,s=Array(a),t=0;a>t;t++)s[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(s))),e.handleChange=function(r){e.props.handleChange(r.target.value)},e.handleSubmitClick=function(r){r.preventDefault(),e.props.handleSubmit()},e.handleClear=function(t){var r=e.context.router.location.query;r.q||e.props.handleBlur(),delete r.q,e.context.router.push({pathname:e.context.router.location.pathname,params:e.context.router.params,query:r})},e.handleBlur=function(r){e.props.handleBlur&&e.props.handleBlur()},e.checkForEnter=function(r){"Enter"===r.key&&e.props.handleSubmit()},e.submitKeyDown=function(r){"Tab"===r.key&&e.props.handleBlur?e.props.handleBlur():("Enter"===r.key||" "===r.key)&&e.props.handleSubmit()},o=n,_possibleConstructorReturn(e,o)}return _inherits(SearchBar,r),SearchBar.prototype.componentDidMount=function componentDidMount(){this.props.focus&&o.findDOMNode(this.refs.searchbox).focus()},SearchBar.prototype.render=function render(){var r=e.createElement("i",{onMouseDown:this.handleClear,ref:"clear",className:"cif-cancel-hint close-icon"});return e.createElement("div",{className:"rc-SearchBar search-bar expand-block expanded flex-1"},e.createElement("div",{className:"input-area"},e.createElement(a,{trackingName:"search_bar",value:this.props.query,onChange:this.handleChange,onKeyPress:this.checkForEnter,ref:"searchbox",onBlur:this.handleBlur,placeholder:n("Search"),className:"search-input"}),"string"==typeof this.props.query&&r),e.createElement("button",{onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,ref:"submit",className:"search-button","aria-label":n("submit search")},e.createElement("i",{className:"cif-search"})))},SearchBar}(e.Component),r.propTypes={handleSubmit:e.PropTypes.func.isRequired,handleChange:e.PropTypes.func.isRequired,query:e.PropTypes.string.isRequired,handleBlur:e.PropTypes.func,focus:e.PropTypes.bool},r.contextTypes={router:e.PropTypes.object.isRequired},r.defaultProps={handleBlur:function handleBlur(){}},t);module.exports=s});

define('css!bundles/discussions/components/search/__styles__/SearchBox',[],function(){})
define("bundles/discussions/components/search/SearchBox",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/components/search/SearchBar","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBox"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],a=Object.getOwnPropertyDescriptor(n,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,a,e=require("react"),r=require("i18n!nls/discussions"),n=require("bundles/discussions/components/search/SearchBar"),s=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBox");var o=(a=t=function(t){function SearchBox(){var a,e,n;_classCallCheck(this,SearchBox);for(var s=arguments.length,o=Array(s),r=0;s>r;r++)o[r]=arguments[r];return a=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),e.state={showBar:!1,query:""},e.handleQueryChange=function(t){e.setState({query:t})},e.handleFocus=function(){e.setState({showBar:!0}),e.props.animateToSearch()},e.handleBlur=function(){e.setState({showBar:!1}),e.props.animateFromSearch()},e.submitSearch=function(){if(e.state.query){var t=e.state.query.replace("*","");e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:{q:t}})}},n=a,_possibleConstructorReturn(e,n)}return _inherits(SearchBox,t),SearchBox.prototype.render=function render(){return this.state.showBar?e.createElement(n,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,focus:!0}):e.createElement("div",{className:"rc-SearchBox expand-block"},e.createElement("div",{className:"large-screen search-bar"},e.createElement("div",{className:"input-area"},e.createElement(s,{trackingName:"search_box",onClick:this.handleFocus,placeholder:r("Search"),value:this.state.query,className:"search-box search-input"})),e.createElement("button",{className:"search-button hide",onClick:this.handleFocus,"aria-label":r("expand search box")},e.createElement("i",{className:"cif-search"}))),e.createElement("div",{className:"mobile hide horizontal-box align-items-right"},e.createElement("button",{className:"nostyle",onClick:this.handleFocus,"aria-label":r("expand search box")},e.createElement("i",{className:"cif-search"}))))},SearchBox}(e.Component),t.propTypes={animateToSearch:e.PropTypes.func.isRequired,animateFromSearch:e.PropTypes.func.isRequired},t.contextTypes={router:e.PropTypes.object.isRequired},a);module.exports=o});

define('css!bundles/discussions/components/__styles__/ControlsBar',[],function(){})
define("bundles/discussions/components/ControlsBar",["require","exports","module","classnames","react","bundles/discussions/components/NewThreadButton","bundles/discussions/components/search/SearchBox","bundles/discussions/viewModels/viewContext","bundles/discussions/constants","bundles/discussions/utils/discussionsApiRolloutUtil","i18n!nls/discussions","css!./__styles__/ControlsBar"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,l=require("classnames"),e=require("react"),a=require("bundles/discussions/components/NewThreadButton"),i=require("bundles/discussions/components/search/SearchBox"),c=require("bundles/discussions/viewModels/viewContext"),o=require("bundles/discussions/constants").questionSorts,r=o.mostRecentSort,u=o.popularSort,p=o.unansweredSort,d=require("bundles/discussions/utils/discussionsApiRolloutUtil"),h=d.useNewForumApis,s=require("i18n!nls/discussions");require("css!./__styles__/ControlsBar");var m=(n=t=function(t){function ControlsBar(){var o,e,n;_classCallCheck(this,ControlsBar);for(var r=arguments.length,i=Array(r),s=0;r>s;s++)i[s]=arguments[s];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.handleChangeSort=function(t){var s=window.location.pathname+"?sort="+t.target.value+"&page=1";e.context.router.push(s)},n=o,_possibleConstructorReturn(e,n)}return _inherits(ControlsBar,t),ControlsBar.prototype.render=function render(){var n=l("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":this.props.inSearch}),t=null,o=!0;return h()||(t="course"!==this.context.viewContext.get("type")?this.context.viewContext:null,o="item"!==this.context.viewContext.get("type")),e.createElement("div",{className:n},e.createElement("div",{className:"flex-2 shrink-block"},e.createElement("span",{className:"label-text color-secondary-text sort-label"},s("Sort By:")),e.createElement("select",{className:"color-secondary-text sort-select",onChange:this.handleChangeSort,value:this.props.sort},e.createElement("option",{value:r},s("Latest")),e.createElement("option",{value:u},s("Top")),e.createElement("option",{value:p},s("Unanswered")))),this.props.showSearchBox&&e.createElement(i,{animateToSearch:this.props.toggleSearch,animateFromSearch:this.props.toggleSearch}),e.createElement(a,{defaultForum:t,showForumSelector:o}))},ControlsBar}(e.Component),t.propTypes={inSearch:e.PropTypes.bool.isRequired,toggleSearch:e.PropTypes.func.isRequired,sort:e.PropTypes.string,showSearchBox:e.PropTypes.bool},t.contextTypes={viewContext:e.PropTypes.instanceOf(c),router:e.PropTypes.object.isRequired},t.defaultProps={sort:r,showSearchBox:!0},n);module.exports=m});

define('css!bundles/discussions/components/__styles__/ListBody',[],function(){})
define("bundles/discussions/components/ListBody",["require","exports","module","react","i18n!nls/discussions","classnames","bundles/discussions/constants","css!./__styles__/ListBody.css"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,e=require("react"),o=require("i18n!nls/discussions"),r=require("classnames"),i=require("bundles/discussions/constants"),t=i.loadingStates;require("css!./__styles__/ListBody.css");var a=(n=s=function(s){function ListBody(){var n,t,o;_classCallCheck(this,ListBody);for(var r=arguments.length,i=Array(r),e=0;r>e;e++)i[e]=arguments[e];return n=t=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(i))),t.state={transitionEnded:!1},o=n,_possibleConstructorReturn(t,o)}return _inherits(ListBody,s),ListBody.prototype.componentDidMount=function componentDidMount(){this.refs.body.addEventListener("transitionend",function(e){this.setState({transitionEnded:!0})}.bind(this))},ListBody.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.setState({transitionEnded:!1})},ListBody.prototype.render=function render(){var s=void 0;s=this.props.loadingState===t.DONE&&this.props.children.length>0?e.createElement("ol",{className:"nostyle"},this.props.children):this.props.loadingState===t.DONE&&0===this.props.children.length?e.createElement("div",{className:"message color-hint-text"},this.props.emptyStatePlaceholderText):this.props.loadingState===t.ERROR?e.createElement("div",{className:"message color-hint-text"},o("There was a problem, please reload the page and try again.")):this.props.loadingState===t.LOADING?e.createElement("div",{className:"message"},e.createElement("i",{className:"cif-spinner cif-spin cif-2x"})):e.createElement("div",null);var n=r("rc-ListBody",{"c-list-expanded":this.props.loadingState===t.DONE&&this.props.children.length>0,"c-post-transition":this.state.transitionEnded}),i=r("c-pre-fossil",{"c-fossilized":this.props.fossilized});return e.createElement("div",{className:n,ref:"body"},e.createElement("div",{className:i}),s)},ListBody}(e.Component),s.propTypes={loadingState:e.PropTypes.string.isRequired,children:e.PropTypes.array,fossilized:e.PropTypes.bool,emptyStatePlaceholderText:e.PropTypes.string},s.defaultProps={children:[],fossilized:!1,emptyStatePlaceholderText:o("No Results")},n);module.exports=a});

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
define("nls/classmates",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/classmates/components/__styles__/ProfileImageWithRole',[],function(){})
define("bundles/classmates/components/ProfileImageWithRole",["require","exports","module","react","classnames","bundles/phoenix/components/ProfileImage","i18n!nls/classmates","css!bundles/classmates/components/__styles__/ProfileImageWithRole"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,t,e=require("react"),n=require("classnames"),s=require("bundles/phoenix/components/ProfileImage"),r=require("i18n!nls/classmates");require("css!bundles/classmates/components/__styles__/ProfileImageWithRole");var a=(t=o=function(t){function ProfileImageWithRole(){return _classCallCheck(this,ProfileImageWithRole),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ProfileImageWithRole,t),ProfileImageWithRole.prototype.getCourseRoleIconInfo=function getCourseRoleIconInfo(e){switch(e){case"INSTRUCTOR":return{letter:r("I"),className:"bgcolor-primary"};case"MENTOR":return{letter:r("M"),className:"bgcolor-accent-brown"};default:return void 0}},ProfileImageWithRole.prototype.render=function render(){var t=this.getCourseRoleIconInfo(this.props.courseRole),o=n("course-role-icon","caption-text","horizontal-box","align-items-absolute-center",t&&t.className);return e.createElement("span",{className:"rc-ProfileImageWithRole"},e.createElement(s,{fullName:this.props.fullName,profileImageUrl:this.props.profileImageUrl,width:36,height:36}),t&&e.createElement("span",{className:o},t.letter))},ProfileImageWithRole}(e.Component),o.propTypes={courseRole:e.PropTypes.string,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string},t);module.exports=a});

define('css!bundles/classmates/components/__styles__/MiniProfile',[],function(){})
define("bundles/classmates/components/MiniProfile",["require","exports","module","underscore","react","classnames","bundles/classmates/actions/ClassmatesProfileActions","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/utils/lib","bundles/classmates/stores/ClassmatesProfileStore","bundles/iconfont/Icon","js/lib/provideFluxibleAppContext","js/lib/setupFluxibleApp","js/lib/coursera.react-intl","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/classmates","css!./__styles__/MiniProfile.css"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var s=n[t],o=Object.getOwnPropertyDescriptor(r,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,_=require("underscore"),e=require("react"),r=require("classnames"),y=require("bundles/classmates/actions/ClassmatesProfileActions"),l=y.getClassmatesProfile,c=require("bundles/classmates/components/ProfileImageWithRole"),s=require("bundles/classmates/utils/lib"),a=s.getProgressString,p=s.getCourseRoleString,u=s.hasModeratorAccess,f=require("bundles/classmates/stores/ClassmatesProfileStore"),m=require("bundles/iconfont/Icon"),d=require("js/lib/provideFluxibleAppContext"),b=require("js/lib/setupFluxibleApp"),h=require("js/lib/coursera.react-intl"),n=h.FormattedMessage,v=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=require("i18n!nls/classmates");require("css!./__styles__/MiniProfile.css");var g=(o=t=function(t){function MiniProfile(){var o,s,r;_classCallCheck(this,MiniProfile);for(var n=arguments.length,i=Array(n),e=0;n>e;e++)i[e]=arguments[e];return o=s=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),s.state={transitionContainer:!1},r=o,_possibleConstructorReturn(s,r)}return _inherits(MiniProfile,t),MiniProfile.prototype.componentWillMount=function componentWillMount(){(!this.props.profile||_(this.props.profile).isEmpty())&&this.context.executeAction(l,this.props.externalId)},MiniProfile.prototype.componentDidMount=function componentDidMount(){var e=this;this.transitionTimeout=setTimeout(function(){e.setState({transitionContainer:!0})},100)},MiniProfile.prototype.componentWillUnmount=function componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout)},MiniProfile.prototype.hasLoaded=function hasLoaded(){return this.props.profile&&!_(this.props.profile).isEmpty()},MiniProfile.prototype.renderCourseProgress=function renderCourseProgress(){var e=this.props.profile,t=this.props.courseRole||e.courseRole;if(u(t))return p(t);return a(e.courseProgressPercentage)},MiniProfile.prototype.renderMiniProfile=function renderMiniProfile(){var t=this.props.profile,s=this.props.courseRole||t.courseRole,o=r("profile-footer","caption-text","color-secondary-text","bgcolor-black-g1","horizontal-box","align-items-absolute-center");return e.createElement("div",{className:"vertical-box"},e.createElement("div",{className:"vertical-box profile-header align-items-vertical-center"},e.createElement("div",{className:"profile-photo"},e.createElement(c,{courseRole:s,fullName:t.fullName,profileImageUrl:t.photoUrl||""})),e.createElement("div",{className:"body-1-text"},t.fullName),e.createElement("div",{className:"caption-text color-secondary-text"},this.renderCourseProgress())),e.createElement("div",{className:o},e.createElement(n,{message:i("{postsCount} {postsCount, plural, =1 { post} other { posts}}"),postsCount:t.postsCount||"0"}),e.createElement("span",{className:"dot-spacing"}," · "),e.createElement(n,{message:i("{upvotes} {upvotes, plural, =1 { upvote} other { upvotes}}"),upvotes:t.votesReceivedCount||"0"})))},MiniProfile.prototype.renderLoading=function renderLoading(){return e.createElement("div",{className:"loading-state"},e.createElement(m,{name:"spinner",size:"3x",spin:!0}))},MiniProfile.prototype.render=function render(){var t=r("rc-MiniProfile","card-one-clicker",this.props.orientationClass,{"transition-in":this.state.transitionContainer});return e.createElement("div",{className:t},this.hasLoaded()?this.renderMiniProfile():this.renderLoading())},MiniProfile}(e.Component),t.propTypes={externalId:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string,orientationClass:e.PropTypes.string.isRequired,profile:e.PropTypes.object},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=_.compose(d(function(e){return b(e,function(t){return t.registerStore(f),e})}),v(["ClassmatesProfileStore"],function(e,t){var s=e.ClassmatesProfileStore,o=t.externalId;return{profile:_(s.profiles).findWhere({externalId:o})}}))(g)});
define("bundles/classmates/components/MiniProfileRenderer",["require","exports","module","jquery","react","bundles/classmates/components/MiniProfile"],function(require,exports,module){var $=require("jquery"),e=require("react"),s=require("bundles/classmates/components/MiniProfile"),i=e.createClass({displayName:"MiniProfileRenderer",propTypes:{externalId:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string,source:e.PropTypes.string.isRequired},statics:{MAX_HEIGHT:200,MIN_HOVER_TIME:500},getInitialState:function getInitialState(){return{showMiniProfile:!1}},componentWillUnmount:function componentWillUnmount(){this.displayTimeout&&clearTimeout(this.displayTimeout)},displayTimeout:null,isDisplayMethodLocked:!1,display:function display(s){var e=this;if(this.isDisplayMethodLocked)return;var t=$(window).height()-(s.pageY-$(window).scrollTop())>i.MAX_HEIGHT;this.isDisplayMethodLocked=!0,this.displayTimeout=setTimeout(function(){var i=e.props.source+(t?"South":"North");e.setState({showMiniProfile:!0,className:i})},i.MIN_HOVER_TIME)},hide:function hide(e){this.displayTimeout&&clearTimeout(this.displayTimeout),this.isDisplayMethodLocked=!1,this.setState({showMiniProfile:!1})},render:function render(){return this.state.showMiniProfile&&e.createElement(s,{externalId:this.props.externalId,courseRole:this.props.courseRole,orientationClass:this.state.className})}});module.exports=i});

define('css!bundles/discussions/components/__styles__/ProfileName',[],function(){})
define("bundles/discussions/components/ProfileName",["require","exports","module","react","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileName"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),r=0;r<o.length;r++){var t=o[r],n=Object.getOwnPropertyDescriptor(s,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),n=require("bundles/classmates/components/MiniProfileRenderer"),s=require("bundles/discussions/utils/discussionsUrl"),o=s.getProfileLink;require("css!./__styles__/ProfileName");var i=(t=r=function(r){function ProfileName(){var n,e,s;_classCallCheck(this,ProfileName);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),e.onNameClick=function(r){e.context.router.push(o(e.props.externalId))},s=n,_possibleConstructorReturn(e,s)}return _inherits(ProfileName,r),ProfileName.prototype.render=function render(){var r=this;return e.createElement("span",{className:"rc-ProfileName"},e.createElement("button",{className:"nostyle profile-name",onClick:this.onNameClick,onMouseEnter:function onMouseEnter(e){return r.refs.miniProfile.display(e)},onMouseLeave:function onMouseLeave(e){return r.refs.miniProfile.hide(e)}},this.props.fullName),e.createElement("span",{"data-js":"mini-profile"},e.createElement(n,{ref:"miniProfile",source:"profileName",externalId:this.props.externalId,userId:this.props.userId})))},ProfileName}(e.Component),r.propTypes={fullName:e.PropTypes.string.isRequired,externalId:e.PropTypes.string.isRequired,userId:e.PropTypes.number},r.contextTypes={router:e.PropTypes.object.isRequired},t);module.exports=i});
define("bundles/discussions/api/flagApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/api/answers","bundles/discussions/api/questions","bundles/discussions/constants","bundles/discussions/utils/discussionsApiRolloutUtil","jsuri"],function(require,exports,module){var s=require("bundles/phoenix/lib/apiWrapper"),i=require("bundles/discussions/api/answers"),n=require("bundles/discussions/api/questions"),a=require("bundles/discussions/constants"),u=a.naptimeForumTypes,t=require("bundles/discussions/utils/discussionsApiRolloutUtil"),r=t.useNewForumApis,o=require("jsuri"),d=s("/api/onDemandCourseForumQuestionFlags.v1/",{type:"rest"}),p=s("/api/onDemandCourseForumAnswerFlags.v1/",{type:"rest"}),l=s("/api/onDemandMentorForumQuestionFlags.v1/",{type:"rest"}),m=s("/api/onDemandMentorForumAnswerFlags.v1/",{type:"rest"}),c=s("/api/onDemandGroupForumQuestionFlags.v1/",{type:"rest"}),y=s("/api/onDemandGroupForumAnswerFlags.v1/",{type:"rest"}),e=function chooseApi(e,n){var s="question"===e.type;switch(n){case u.mentorForumType:return s?l:m;case u.groupForumType:return s?c:y;default:return s?d:p}};exports.flagPost=function(s){if(r())return e(s,s.forumType).put(s.id);var u=(new o).addQueryParam("action","flag").addQueryParam("id",s.id),t="question"===s.type?n:i;return t.post(u.toString())},exports.unflagPost=function(s){if(r())return e(s,s.forumType)["delete"](s.id);var u=(new o).addQueryParam("action","unflag").addQueryParam("id",s.id),t="question"===s.type?n:i;return t.post(u.toString())}});
define("bundles/discussions/actions/DropdownActions",["require","exports","module","bundles/discussions/api/threadActionsApiUtil","bundles/discussions/api/flagApi"],function(require,exports,module){var n=require("bundles/discussions/api/threadActionsApiUtil"),e=n.editThread,i=n.editReply,s=n.deletePost,o=n.undoDelete,t=require("bundles/discussions/api/flagApi"),a=t.flagPost,d=t.unflagPost;exports.editThread=function(s,n){var o=n.id,a=n.questionId,t=n.question,i=n.details,d=n.reason,l=n.handleSuccess,c=n.handleFailure,u=n.dontNotify;e(o,t,i,d,u).then(function(n){l(n),s.dispatch("EDIT_THREAD",{questionId:a,question:t,details:i})}).fail(c).done()},exports.editReply=function(e,n){var t=n.reply,s=n.content,o=n.handleFailure,a=n.onSuccess;i(t,s).then(function(n){e.dispatch("EDIT_REPLY",{reply:t,content:s}),e.dispatch("HIDE_REPLY_EDITOR",{reply:t}),a()}).fail(o).done()},exports.showReplyEditor=function(t,n){var e=n.reply,i=n.reason,s=n.dontNotify;t.dispatch("SHOW_REPLY_EDITOR",{reply:e,reason:i,dontNotify:s})},exports.hideReplyEditor=function(n,t){var e=t.reply;n.dispatch("HIDE_REPLY_EDITOR",{reply:e})},exports.deletePost=function(e,n){var t=n.post,i=n.reason,o=n.handleSuccess,a=n.handleFailure,d=n.dontNotify;s(t,i).then(function(n){o(n),i?e.dispatch("SOFT_DELETE_POST",{post:t}):e.dispatch("DELETE_POST",{post:t})}).fail(a).done()},exports.undoDelete=function(e,n){var t=n.post,i=n.handleFailure,s=n.onSuccess;o(t).then(function(n){e.dispatch("UNDO_DELETE",{post:t}),s()}).fail(i).done()},exports.flagPost=function(e,n){var t=n.post,i=n.handleSuccess,s=n.handleFailure;a(t).then(function(n){e.dispatch("FLAG_POST",{post:t}),i()}).fail(s).done()},exports.unflagPost=function(e,n){var t=n.post,i=n.handleSuccess,s=n.handleFailure;d(t).then(function(n){e.dispatch("UNFLAG_POST",{post:t}),i()}).fail(s).done()},exports.showAdminDetails=function(n,t){var e=t.post;n.dispatch("SHOW_ADMIN_DETAILS",{post:e})},exports.hideAdminDetails=function(n,t){var e=t.post;n.dispatch("HIDE_ADMIN_DETAILS",{post:e})}});

define('css!bundles/discussions/components/__styles__/SoftDelete',[],function(){})
define("bundles/discussions/components/SoftDelete",["require","exports","module","i18n!nls/discussions","react","bundles/discussions/actions/DropdownActions","css!./__styles__/SoftDelete"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,r=require("i18n!nls/discussions"),e=require("react"),n=require("bundles/discussions/actions/DropdownActions"),s=n.undoDelete;require("css!./__styles__/SoftDelete");var c=(o=t=function(t){function SoftDelete(){var o,e,n;_classCallCheck(this,SoftDelete);for(var c=arguments.length,i=Array(c),r=0;c>r;r++)i[r]=arguments[r];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={showError:!1},e.handleUndoDelete=function(t){t.preventDefault(),e.context.executeAction(s,{post:e.props.entry,handleFailure:e.handleError,onSuccess:function onSuccess(){}})},e.handleError=function(t){e.setState({showError:!0})},n=o,_possibleConstructorReturn(e,n)}return _inherits(SoftDelete,t),SoftDelete.prototype.render=function render(){var n=e.createElement("div",{ref:"error",className:"c-soft-delete-error c-error-text"},r("Error undoing delete, please reload the page and try again")),t=this.props.entry,s=t.state.deleted&&t.state.deleted.userId===t.creator.userId,c=r(s?"This post has been deleted by its creator":"This post has been deleted by a moderator"),i=e.createElement("div",{className:"c-soft-delete-header"},e.createElement("span",{ref:"message"},c," · "),e.createElement("a",{ref:"undoDelete",href:"",onClick:this.handleUndoDelete},r("Undo Delete"))),o="c-soft-delete";return this.props.hideUndoDelete&&(o+=" c-soft-delete-clickable"),e.createElement("div",{className:"rc-SoftDelete"},e.createElement("div",{className:o},!this.props.hideUndoDelete&&!this.state.showError&&i,this.state.showError&&n))},SoftDelete}(e.Component),t.propTypes={hideUndoDelete:e.PropTypes.bool,entry:e.PropTypes.object.isRequired},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=c});
define("bundles/discussions/components/WhoRepliedBadge",["require","exports","module","react","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,t=require("react"),e=require("i18n!nls/discussions"),o={INSTRUCTOR_CREATED:e("Instructor Created"),STAFF_CREATED:e("Staff Created"),MENTOR_CREATED:e("Mentor Created"),INSTRUCTOR_RESPONDED:e("Instructor Replied"),STAFF_RESPONDED:e("Staff Replied"),MENTOR_RESPONDED:e("Mentor Replied")},i=(n=r=function(e){function WhoRepliedBadge(){return _classCallCheck(this,WhoRepliedBadge),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(WhoRepliedBadge,e),WhoRepliedBadge.prototype.render=function render(){var r=this.props.badge,e=o[r];if(!e)return null;return t.createElement("span",{className:"moderator-replied-badge bgcolor-accent-brown-light"},e)},WhoRepliedBadge}(t.Component),r.propTypes={badge:t.PropTypes.string},n);module.exports=i});
define("bundles/discussions/lib/propTypes",["require","exports","module","react","underscore","bundles/discussions/constants","bundles/cml/propTypes/cml"],function(require,exports,module){var s=require("react"),e=s.PropTypes,_=require("underscore"),i=require("bundles/discussions/constants"),r=i.naptimeForumTypes,u=require("bundles/cml/propTypes/cml");exports.forumMetadataPropType=e.shape({id:e.string.isRequired,title:e.string.isRequired,forumType:e.shape({typeName:e.oneOf(_(r).values()).isRequired,definition:e.object.isRequired}).isRequired,description:u.isRequired,threadCount:e.number,mostRecentThread:e.object}),exports.profilePropType=e.shape({fullName:e.string.isRequired,userId:e.number.isRequired,externalUserId:e.string.isRequired})});
define("bundles/discussions/utils/threadUtils",["require","exports","module"],function(require,exports,module){exports.formatCount=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(e>1e3){if(t)return Math.round(e/1e3)+"k";return Math.round(e/1e3*10)/10+"k"}return e}});


define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadsListEntry",["require","exports","module","classnames","moment","react","bundles/discussions/components/ProfileName","bundles/discussions/components/SoftDelete","bundles/discussions/components/WhoRepliedBadge","bundles/discussions/lib/propTypes","bundles/discussions/utils/threadUtils","bundles/page/components/TrackedLink2","bundles/cml/components/CMLText","i18n!nls/discussions","css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var s=i[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,n,i,t=require("classnames"),N=require("moment"),e=require("react"),u=require("bundles/discussions/components/ProfileName"),c=require("bundles/discussions/components/SoftDelete"),p=require("bundles/discussions/components/WhoRepliedBadge"),d=require("bundles/discussions/lib/propTypes"),a=d.profilePropType,m=require("bundles/discussions/utils/threadUtils"),l=m.formatCount,y=require("bundles/page/components/TrackedLink2"),f=y.TrackedReactLink,b=require("bundles/cml/components/CMLText"),s=require("i18n!nls/discussions");require("css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry");var g=(r=o=function(t){function Metadata(){return _classCallCheck(this,Metadata),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(Metadata,t),Metadata.prototype.render=function render(){var t=this.props,r=t.badge,n=t.profile,i=t.metadataLabel,o=t.timestamp;return e.createElement("div",{className:"entry-metadata caption-text color-secondary-text"},e.createElement(p,{badge:r}),i||s("Created by")," ",e.createElement(u,{fullName:n.fullName,externalId:n.externalUserId,userId:n.userId}),e.createElement("span",{className:"timestamp-separator"}," · "),e.createElement("span",{className:"timestamp"},N(new Date(o)).fromNow()))},Metadata}(e.Component),o.propTypes={profile:a.isRequired,timestamp:e.PropTypes.number.isRequired,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string},r),T=(i=n=function(n){function ThreadsListEntry(){return _classCallCheck(this,ThreadsListEntry),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(ThreadsListEntry,n),ThreadsListEntry.prototype.render=function render(){var n=this.props,N=n.className,h=n.linkClassName,E=n.entry,v=n.isPinned,k=n.isDeleted,C=n.isRead,u=n.threadUrl,r=n.viewCount,i=n.answerCount,T=n.badge,m=n.profile,P=n.metadataLabel,o=n.forumName,x=n.threadName,a=n.snippet,q=n.timestamp,w=n.questionId,R=n.questionUserId,L=t("headline-1-text question-title color-primary-text",{"question-title-bold":!C}),p="undefined"!=typeof r&&!isNaN(r),d="undefined"!=typeof i&&!isNaN(i),y=p||d;return e.createElement("li",{className:t("rc-ThreadsListEntry","horizontal-box",N)},v&&e.createElement("span",{className:"cif-stack cif-lg pin-container align-self-start"},e.createElement("i",{className:"cif-circle cif-stack-2x pin-background"}),e.createElement("i",{className:"cif-pin cif-stack-lg pin-icon"})),e.createElement(f,{href:u,className:t("flex-1 align-self-center",h),trackingName:"thread_list_entry",data:{question_id:w,question_user_id:R}},o&&e.createElement("div",{className:"forum-info caption-text color-secondary-text"},o),e.createElement("div",{className:L},x),a&&e.createElement("div",{className:t("body-1-text","entry-snippet")},e.createElement(b,{cml:a})),e.createElement(g,{badge:T,profile:m,metadataLabel:P,timestamp:q})),y&&e.createElement("div",{className:"horizontal-box align-self-center color-secondary-text c-reply-area"},p&&e.createElement("div",{className:"vertical-box align-items-vertical-center view-count"},e.createElement("div",{className:"label-text color-secondary-text"},l(r)),e.createElement("div",{className:"caption-text color-secondary-text"},s("views"))),d&&e.createElement("div",{className:"vertical-box align-items-vertical-center"},e.createElement("div",{className:"label-text color-secondary-text"},l(i)),e.createElement("div",{className:"caption-text color-secondary-text"},s("replies")))),k&&e.createElement(c,{entry:E,hideUndoDelete:!0}))},ThreadsListEntry}(e.Component),n.propTypes={threadUrl:e.PropTypes.string.isRequired,profile:a.isRequired,timestamp:e.PropTypes.number.isRequired,threadName:e.PropTypes.string.isRequired,questionId:e.PropTypes.string.isRequired,questionUserId:e.PropTypes.number.isRequired,className:e.PropTypes.string,linkClassName:e.PropTypes.string,entry:e.PropTypes.object,isPinned:e.PropTypes.bool,isDeleted:e.PropTypes.bool,isRead:e.PropTypes.bool,viewCount:e.PropTypes.number,answerCount:e.PropTypes.number,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string,snippet:e.PropTypes.object,forumName:e.PropTypes.string},n.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0},i);module.exports=T});
define("bundles/discussions/utils/unreadTracker",["require","exports","module","js/lib/coursera.store","moment","bundles/discussions/utils/discussionsApiRolloutUtil"],function(require,exports,module){var s=require("js/lib/coursera.store"),i=require("moment"),r=require("bundles/discussions/utils/discussionsApiRolloutUtil"),t=r.useNewForumApis,e="unreadTracker";exports.markRead=function(r){var i=s.get(e)||{};i[r]=Date.now(),s.set(e,i)},exports.hasUnread=function(r){var o=s.get(e)||{},u=void 0;u=t()?o[r.questionId]:o[r.id];var n=r.lastAnsweredAt||r.createdAt;return!u||i(u).isBefore(n)}});

define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList',[],function(){})

define('css!bundles/page/components/__styles__/PaginationControls',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadsList",["require","exports","module","react","underscore","bundles/discussions/actions/ThreadsActions","bundles/discussions/components/ControlsBar","bundles/discussions/components/ListBody","bundles/discussions/components/NewThreadButton","bundles/discussions/components/discussionsBody/ThreadsListEntry","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","bundles/discussions/viewModels/viewContext","bundles/page/components/PaginationControls","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/discussions/components/discussionsForumsHOC","js/lib/waitFor","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),s=0;s<r.length;s++){var t=r[s],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,o,t,n,e=require("react"),h=require("underscore"),g=h.compose,w=require("bundles/discussions/actions/ThreadsActions"),i=w.loadThreads,S=require("bundles/discussions/components/ControlsBar"),N=require("bundles/discussions/components/ListBody"),l=require("bundles/discussions/components/NewThreadButton").NewThreadButtonNaptimeContainer,m=require("bundles/discussions/components/discussionsBody/ThreadsListEntry"),y=require("bundles/discussions/constants"),p=y.loadingStates,u=require("bundles/discussions/utils/discussionsUrl"),f=require("bundles/discussions/utils/discussionsUrl"),b=f.getAllThreadsDiscussionsUrl,T=require("bundles/discussions/utils/unreadTracker"),v=require("bundles/discussions/viewModels/viewContext"),C=require("bundles/page/components/PaginationControls"),P=require("bundles/discussions/utils/discussionsApiRolloutUtil"),a=P.useNewForumApis,c=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),d=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),F=require("js/lib/connectToRouter"),x=require("bundles/discussions/utils/routerConnectToCurrentForum"),O=require("bundles/discussions/components/discussionsForumsHOC"),j=require("js/lib/waitFor"),A=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("i18n!nls/discussions");require("css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList"),require("css!bundles/page/components/__styles__/PaginationControls.css");var B=(o=s=function(s){function ThreadsList(){var n,t,i;_classCallCheck(this,ThreadsList);for(var c=arguments.length,d=Array(c),o=0;c>o;o++)d[o]=arguments[o];return n=t=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(d))),t.state={inSearch:!1},t.onPageChange=function(e){var s=t.context.router;s.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},t.renderEntry=function(s){var C=t.props.activeFilterQueryString,y=s.lastAnsweredAt&&s.lastAnsweredBy,S=!T.hasUnread(s),P=y?s.lastAnsweredBy:s.creator,h=r(y?"Last post by":"Created by"),c=void 0,d=void 0;if(a()){var o=t.props,g=o.courseForums,x=o.mentorForums,f=o.currentForum,b=o.currentForumUrl,v=g.concat(x),i=v.find(function(e){return e.forumId===s.forumId});c=i&&f.id!==i.id&&i.title||void 0,d=u.getDeepLink(b,s)}else{var l=t.context.viewContext,w=t.props.forumMetadatas,n=w[s.context.definition.forumId];c=n&&n.id!==l.get("id")&&n.title||void 0,d=u.getDeepLink(l.get("discussionsLink"),s)}var F="undefined"!=typeof s.answerCount&&!isNaN(s.answerCount),p=F?s.answerCount:s.totalAnswerCount;return e.createElement(m,{key:s.id+C,threadUrl:d,profile:P,timestamp:s.lastAnsweredAt||s.createdAt,threadName:s.content.question,questionId:s.id,questionUserId:s.creatorId,entry:s,isPinned:!(!s.state||!s.state.pinned),isDeleted:!(!s.state||!s.state.deleted),isRead:S,forumName:c,metadataLabel:h,viewCount:Math.max(p,s.viewCount),answerCount:p,badge:s.answerBadge.answerBadge})},i=n,_possibleConstructorReturn(t,i)}return _inherits(ThreadsList,s),ThreadsList.prototype.componentWillMount=function componentWillMount(){var e=this.props,t=e.sort,o=e.page,s=e.currentForum,n=e.activeFilterQueryString,r=this.context.viewContext;this.context.executeAction(i,{filterQueryString:n,sort:t,pageNum:o,viewContext:r,forumType:s&&s.forumType.typeName,forumId:s&&s.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},ThreadsList.prototype.componentWillUpdate=function componentWillUpdate(e,n,t){var o=a()?this.props.currentForumId!==e.currentForumId:this.context.viewContext.get("id")!==t.viewContext.get("id");if(this.props.sort!==e.sort||this.props.page!==e.page||o||this.props.activeFilterQueryString!==e.activeFilterQueryString){var s=this.props.currentForum;this.context.executeAction(i,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,viewContext:t.viewContext,forumType:s&&s.forumType.typeName,forumId:s&&s.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})}},ThreadsList.prototype.render=function render(){var s=this.context.router.isActive({pathname:b()});return e.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},e.createElement("div",{className:"flex-2"},e.createElement("div",{className:"card-rich-interaction"},e.createElement(S,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!s}),e.createElement(N,{emptyStatePlaceholderText:r("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),e.createElement(C,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))},ThreadsList}(e.Component),s.propTypes={courseForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(c)),mentorForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(d)),currentForumId:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(c),e.PropTypes.instanceOf(d)]),sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,videoPlayer:e.PropTypes.object,entries:e.PropTypes.array,loadingState:e.PropTypes.oneOf(Object.keys(p)),pageCount:e.PropTypes.number,threadCount:e.PropTypes.number,activeFilterQueryString:e.PropTypes.string,forumMetadatas:e.PropTypes.object,userId:e.PropTypes.number,hasModerationRole:e.PropTypes.bool,currentForumUrl:e.PropTypes.string},s.contextTypes={viewContext:e.PropTypes.instanceOf(v),executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},o),I=(n=t=function(s){function ThreadsListContainer(){return _classCallCheck(this,ThreadsListContainer),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(ThreadsListContainer,s),ThreadsListContainer.prototype.render=function render(){if(!this.props.currentForum&&!this.context.viewContext)return null;return e.createElement(B,this.props)},ThreadsListContainer}(e.Component),t.propTypes={currentForum:e.PropTypes.object},t.contextTypes={viewContext:e.PropTypes.object},n);module.exports=g(A(["SessionFilterStore","ForumMetadataStore","ThreadsStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,o=e.ForumMetadataStore,s=e.ThreadsStore,n=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,forumMetadatas:o.getAllForumMetadatas(),entries:s.getThreadsPage(),loadingState:s.getLoadingState(),pageCount:s.getPageCount(),threadCount:s.getThreadCount(),userId:n.getUserData().id}}),O({fields:["title","link","forumType"],subcomponents:[l]}),F(x),j(function(e){return!(void 0===e.activeFilterQueryString||!e.sort||!e.page)}))(I)});
define("bundles/discussions/promises/nextViewContext",["require","exports","module","q","bundles/discussions/singletons/viewContexts","pages/open-course/common/singletons/courseMaterials","bundles/s12n/service/promises/courseSchedule"],function(require,exports,module){function getWeekNumber(e,t,n){if("module"===e.typeName)return n.getWeekForModuleId(e.definition.moduleId);if("item"===e.typeName)return n.getWeekForModuleId(t.getModuleForItem(e.definition.itemId).get("id"));return void 0}function getNextViewContext(i,e,n,r,s){var t=i.types();if("module"===e.typeName||"item"===e.typeName)return n.filter(function(n){return n.isType(t.Week)&&parseInt(n.get("id"),10)===getWeekNumber(e,r,s)})[0];if("forum"===e.typeName)return n.filter(function(n){return n.isType(t.Forum)&&n.get("id")===e.definition.forumId})[0];if("week"===e.typeName)return n.filter(function(n){return n.isType(t.Week)&&parseInt(n.get("id"),10)===e.definition.weekNumber})[0];return void 0}var e=require("q"),n=require("bundles/discussions/singletons/viewContexts"),t=require("pages/open-course/common/singletons/courseMaterials"),i=require("bundles/s12n/service/promises/courseSchedule");exports.create=function(r,s,o){return e.all([n(),t,i(o)]).spread(function(e,n,t){return getNextViewContext(r,s,e,n,t)})}});
define("bundles/discussions/api/upvoteApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/api/answers","bundles/discussions/api/questions","bundles/discussions/constants","bundles/discussions/utils/discussionsApiRolloutUtil","jsuri"],function(require,exports,module){var s=require("bundles/phoenix/lib/apiWrapper"),i=require("bundles/discussions/api/answers"),n=require("bundles/discussions/api/questions"),p=require("bundles/discussions/constants"),u=p.naptimeForumTypes,r=require("bundles/discussions/utils/discussionsApiRolloutUtil"),o=r.useNewForumApis,t=require("jsuri"),a=s("/api/onDemandCourseForumQuestionVotes.v1/",{type:"rest"}),d=s("/api/onDemandCourseForumAnswerVotes.v1/",{type:"rest"}),c=s("/api/onDemandMentorForumQuestionVotes.v1/",{type:"rest"}),l=s("/api/onDemandMentorForumAnswerVotes.v1/",{type:"rest"}),m=s("/api/onDemandGroupForumQuestionVotes.v1/",{type:"rest"}),y=s("/api/onDemandGroupForumAnswerVotes.v1/",{type:"rest"}),e=function chooseApi(e,n){var s="question"===e.type;switch(n){case u.mentorForumType:return s?c:l;case u.groupForumType:return s?m:y;default:return s?a:d}};exports.upvote=function(s){if(o())return e(s,s.forumType).put(s.id);var u=(new t).addQueryParam("action","upvote").addQueryParam("id",s.id),r="question"===s.type?n:i;return r.post(u.toString())},exports.cancelUpvote=function(s){if(o())return e(s,s.forumType)["delete"](s.id);var u=(new t).addQueryParam("action","cancelUpvote").addQueryParam("id",s.id),r="question"===s.type?n:i;return r.post(u.toString())}});
define("bundles/discussions/api/followApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/api/answers","bundles/discussions/api/questions","bundles/discussions/constants","bundles/discussions/utils/discussionsApiRolloutUtil","jsuri"],function(require,exports,module){var s=require("bundles/phoenix/lib/apiWrapper"),u=require("bundles/discussions/api/answers"),n=require("bundles/discussions/api/questions"),d=require("bundles/discussions/constants"),o=d.naptimeForumTypes,t=require("bundles/discussions/utils/discussionsApiRolloutUtil"),r=t.useNewForumApis,e=require("jsuri"),a=s("/api/onDemandCourseForumQuestionFollowings.v1/",{type:"rest"}),l=s("/api/onDemandMentorForumQuestionFollowings.v1/",{type:"rest"}),p=s("/api/onDemandGroupForumQuestionFollowings.v1/",{type:"rest"}),i=function chooseApi(s){switch(s){case o.mentorForumType:return l;case o.groupForumType:return p;default:return a}};exports.follow=function(s){if(r())return i(s.forumType).put(s.id);var o=(new e).addQueryParam("action","follow").addQueryParam("id",s.id),t="question"===s.type?n:u;return t.post(o.toString())},exports.unfollow=function(s){if(r())return i(s.forumType)["delete"](s.id);var o=(new e).addQueryParam("action","unfollow").addQueryParam("id",s.id),t="question"===s.type?n:u;return t.post(o.toString())}});
define("bundles/discussions/api/threadDetailApi",["require","exports","module","q","bundles/discussions/api/answers","bundles/discussions/api/questions","bundles/discussions/api/forumApiChoiceUtil","jsuri","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/discussions/constants","bundles/discussions/constants"],function(require,exports,module){var m=require("q"),f=require("bundles/discussions/api/answers"),j=require("bundles/discussions/api/questions"),d=require("bundles/discussions/api/forumApiChoiceUtil"),y=d.getQuestionApi,u=d.getAnswerApi,r=require("jsuri"),p=require("bundles/discussions/utils/discussionsApiRolloutUtil"),c=p.useNewForumApis,A=require("bundles/discussions/constants"),I=A.defaults,t=require("bundles/discussions/constants"),e=t.naptimeForumTypes,b=t.answerSorts,a=t.comments.limitPerPage,n=function getAnswerApiName(r){if(r===e.mentorForumType)return"onDemandMentorForumAnswers.v1";if(r===e.groupForumType)return"onDemandGroupForumAnswers.v1";return"onDemandCourseForumAnswers.v1"},w=function getAnswerParams(r,n,s,o){if(r===e.mentorForumType)return{userMentorForumQuestionId:[n,s,o].join("~")};if(r===e.groupForumType)return{};return{userCourseQuestionId:[n,s,o].join("~")}},P=function getByParentAnswerParams(r,n){if(r===e.mentorForumType)return{userMentorForumAnswerId:n};if(r===e.groupForumType)return{};return{userCourseForumAnswerId:n}},g=["profiles"],s=["profiles","children"],Q=function getQuestionIncludesWithAnswers(e){return["posts",e+"("+s.join(",")+")"]},v=["content","state","creatorId","createdAt","forumId","sessionId","lastAnsweredBy","lastAnsweredAt","upvoteCount","followCount","totalAnswerCount","topLevelAnswerCount","viewCount","isFlagged","isFollowing","isUpvoted","answerBadge"],l=["userId","externalUserId","fullName","photoUrl","courseRole"],o=["content","forumQuestionId","parentForumAnswerId","state","creatorId","createdAt","order","upvoteCount","childAnswerCount","isFlagged","isUpvoted"],i=function getAllAnswerFields(e){return[o.join(","),"onDemandSocialProfiles.v1("+l.join(",")+")",e+"("+o.join(",")+")"]},F=function getAllQuestionFields(e){return[v.join(","),"onDemandSocialProfiles.v1("+l.join(",")+")",e+"("+o.join(",")+")"]};exports.getQuestion=function(e){var t=e.questionId,i=e.userId,d=e.courseId,s=e.forumType,f=e.sort,a=e.page;if(c()){var u=y(s);if(u){var o=g.slice();1===a&&f===I.detailSort&&(o=o.concat(Q(n(s))));var m=new r([i,d,t].join("~")).addQueryParam("includes",o.join(",")).addQueryParam("fields",F(n(s)).join(","));return u.get(m.toString())}}var l=new r(t).addQueryParam("includes","creatorId,flagId,_links");return j.get(l.toString())},exports.getAnswersWithComments=function(e){var p=e.questionId,A=e.userId,g=e.courseId,t=e.forumType,l=e.sort,f=e.page,c=e.limit,y=e.includeDeleted,P=c||15,a=u(t);if(!a)return m.reject("cannot find new answer API for type "+t);var o=(new r).addQueryParam("q","byForumQuestionId").addQueryParam("includeDeleted",y?"true":"false").addQueryParam("fields",i(n(t)).join(",")).addQueryParam("includes",s.join(",")).addQueryParam("limit",P),d=w(t,A,g,p);return Object.keys(d).forEach(function(e){o.addQueryParam(e,d[e])}),l&&o.addQueryParam("sort",l),f-1>0&&o.addQueryParam("start",(f-1)*c),a.get(o.toString())},exports.getComments=function(e){var f=e.userForumAnswerId,o=e.forumType,p=e.includeDeleted,t=e.startPage,y=e.endPage,l=u(o);if(!l)return m.reject("cannot find new answer API for type "+o);var d=(new r).addQueryParam("q","byParentForumAnswerId").addQueryParam("includeDeleted",p?"true":"false").addQueryParam("fields",i(n(o)).join(",")).addQueryParam("includes",s.join(",")).addQueryParam("sort",b.newestSort).addQueryParam("limit",(y-t+1)*a);t&&d.addQueryParam("start",(t-1)*a);var c=P(o,f);return Object.keys(c).forEach(function(e){d.addQueryParam(e,c[e])}),l.get(d.toString())},exports.savePost=function(e,o){if(c()){var t=u(o);if(t){var a=(new r).addQueryParam("fields",i(n(o)).join(",")).addQueryParam("includes",s.join(","));return t.post(a.toString(),e)}}return f.post("",e)}});
define("bundles/discussions/actions/ThreadDetailsActions",["require","exports","module","bundles/discussions/api/answers","bundles/discussions/actions/ThreadSettingsActions","bundles/discussions/promises/nextViewContext","bundles/discussions/constants","bundles/discussions/utils/unreadTracker","bundles/discussions/api/upvoteApi","bundles/discussions/api/followApi","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/discussions/api/threadDetailApi","jsuri"],function(require,exports,module){var c=require("bundles/discussions/api/answers"),E=require("bundles/discussions/actions/ThreadSettingsActions"),r=E.addThread,R=require("bundles/discussions/promises/nextViewContext"),t=require("bundles/discussions/constants"),N=require("bundles/discussions/utils/unreadTracker"),a=require("bundles/discussions/api/upvoteApi"),P=a.upvote,h=a.cancelUpvote,u=require("bundles/discussions/api/followApi"),f=u.follow,m=u.unfollow,I=require("bundles/discussions/utils/discussionsApiRolloutUtil"),p=I.useNewForumApis,s=require("bundles/discussions/api/threadDetailApi"),T=s.getQuestion,A=s.getAnswersWithComments,g=s.getComments,S=s.savePost,l=require("jsuri"),i=t.savingStates,e=t.loadingStates,O=t.answerSorts,n=t.answers.limitPerPage,o=t.comments.limitPerPage;exports.fetchThread=function(t,s){var n=s.questionId,i=s.courseId,o=s.userId,a=s.forumType,d=s.forumUrlId,u=s.sort,c=s.page;t.getStore("ThreadDetailsStore").getQuestion(n)||t.getStore("ThreadDetailsStore").getQuestion(o+"~"+i+"~"+n)?t.executeAction(r,t.getStore("ThreadDetailsStore").getQuestion(n)):!function(){var s=function setLoadingState(e){t.dispatch("QUESTION_LOADING_STATE",{questionId:n,loadingState:e})};s(e.LOADING),T({questionId:n,userId:o,courseId:i,forumType:a,sort:u,page:c}).then(function(i){t.dispatch("LOAD_QUESTION",{response:i,questionId:n,forumType:a,forumUrlId:d}),s(e.DONE),t.executeAction(r,i.elements[0])}).fail(function(t){return s(e.ERROR)}).done()}()};var d=function fetchCommentPagesHelper(i,n){var t=n.answerId,d=n.forumType,u=n.includeDeleted,s=n.startPage,a=n.endPage;if(p())return g({userForumAnswerId:t,forumType:d,includeDeleted:u,startPage:s,endPage:a}).then(function(e){return i.dispatch("LOAD_COMMENT_PAGES",{response:e,answerId:t,startPage:s})}).fail(function(s){i.dispatch("COMMENT_LOADING_STATE",{answerId:t,loadingState:e.ERROR})});var r=(new l).addQueryParam("q","byParentAnswer").addQueryParam("parentAnswerId",t).addQueryParam("includes","creatorId,flagId,_links").addQueryParam("sort",O.newestSort).addQueryParam("limit",(a-s+1)*o);return s&&r.addQueryParam("start",(s-1)*o),c.get(r.toString()).then(function(e){i.dispatch("LOAD_COMMENT_PAGES",{response:e,answerId:t,startPage:s})}).fail(function(s){i.dispatch("COMMENT_LOADING_STATE",{answerId:t,loadingState:e.ERROR})})};exports.fetchMultipleCommentPages=function(s,t){var n=t.answerId,i=t.forumType,o=t.includeDeleted,a=t.startPage,r=t.endPage;s.dispatch("COMMENT_LOADING_STATE",{answerId:n,loadingState:e.LOADING}),s.executeAction(d,{answerId:n,forumType:i,includeDeleted:o,startPage:a,endPage:r})};var D=function fetchLegacyAnswers(t,i){var o=i.questionId,s=i.page,a=i.sort,r=function setLoadingState(e){t.dispatch("ANSWER_LOADING_STATE",{questionId:o,sort:a,page:s,loadingState:e})},u=(new l).addQueryParam("q","byQuestion").addQueryParam("questionId",o).addQueryParam("includes","creatorId,flagId,_links").addQueryParam("sort",a).addQueryParam("limit",n);s&&u.addQueryParam("start",(s-1)*n),c.get(u.toString()).then(function(i){r(e.DONE),t.dispatch("LOAD_ANSWERS",{response:i,questionId:o,page:s,sort:a});var n=i.elements.filter(function(e){return e.childAnswerCount>0});n.length&&(t.dispatch("MULTIPLE_COMMENTS_LOADING_STATES",{answerIds:n.map(function(e){return e.id}),loadingState:e.LOADING}),n.forEach(function(e){t.executeAction(d,{answerId:e.id,startPage:1,endPage:1})}))}).fail(function(t){return r(e.ERROR)}).done()},w=function fetchNewAnswers(d,t){var i=t.questionId,c=t.userId,u=t.courseId,s=t.page,o=t.sort,a=t.forumType,l=t.forumUrlId,p=t.includeDeleted,r=function setLoadingState(e){d.dispatch("ANSWER_LOADING_STATE",{questionId:i,sort:o,page:s,loadingState:e})};A({questionId:i,userId:c,courseId:u,forumType:a,sort:o,page:s,limit:n,includeDeleted:p}).then(function(t){r(e.DONE),d.dispatch("LOAD_ANSWERS_WITH_COMMENTS",{response:t,questionId:i,page:s,sort:o,forumType:a,forumUrlId:l})}).fail(function(t){return r(e.ERROR)}).done()};exports.fetchAnswers=function(s,t){var n=t.questionId,a=t.userId,r=t.courseId,i=t.sort,o=t.page,d=t.forumType,u=t.forumUrlId,c=t.includeDeleted;s.dispatch("ANSWER_LOADING_STATE",{questionId:n,sort:i,page:o,loadingState:e.LOADING}),p()?w(s,{questionId:n,userId:a,courseId:r,sort:i,page:o,forumType:d,forumUrlId:u,includeDeleted:c}):D(s,{questionId:n,sort:i,page:o})},exports.fetchNextViewInfo=function(n,e){var t=e.viewContext,s=e.question,i=e.courseId;R.create(t,s.context,i).then(function(e){if(e){var o=t.types(),i=void 0;i=t.isType(o.Item)?e.get("link"):e.get("discussionsLink"),n.dispatch("LOAD_NEXT_VIEW_INFO",{questionId:s.id,nextViewName:e.getDisplayName(),nextViewLink:i})}})},exports.savePost=function(t,s){var n=s.options,o=s.forumType,e=s.parentPost;t.dispatch("SET_SAVING_STATE",{savingState:i.SAVING,id:e.id}),S(n,o).then(function(s){N.markRead(e.questionId),t.dispatch("RECEIVE_POST",{resp:s,data:n.data,parentPost:e,forumType:o}),t.dispatch("SET_SAVING_STATE",{savingState:i.SAVED,id:e.id})}).fail(function(s){return t.dispatch("SET_SAVING_STATE",{savingState:i.ERROR,id:e.id})}).done()},exports.upvote=function(t,s){var e=s.post;P(e).then(function(s){return t.dispatch("UPVOTE",{post:e})}).fail(function(s){return t.dispatch("UPVOTE_ERROR",{post:e})}).done()},exports.cancelUpvote=function(t,s){var e=s.post;h(e).then(function(s){return t.dispatch("CANCEL_UPVOTE",{post:e})}).fail(function(s){return t.dispatch("UPVOTE_ERROR",{post:e})}).done()},exports.follow=function(t,s){var e=s.question;f(e).then(function(s){return t.dispatch("FOLLOW",{question:e})}).fail(function(s){return t.dispatch("FOLLOW_ERROR",{question:e})}).done()},exports.unfollow=function(t,s){var e=s.question;m(e).then(function(s){return t.dispatch("UNFOLLOW",{question:e})}).fail(function(s){return t.dispatch("FOLLOW_ERROR",{question:e})}).done()}});



define('css!bundles/discussions/components/__styles__/ModerationReasons',[],function(){})
define("bundles/discussions/components/ModerationReasons",["require","exports","module","i18n!nls/discussions","react","css!bundles/discussions/components/__styles__/ModerationReasons.css"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,t=require("i18n!nls/discussions"),e=require("react");require("css!bundles/discussions/components/__styles__/ModerationReasons.css");var r=(o=n=function(n){function ModerationReasons(){return _classCallCheck(this,ModerationReasons),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(ModerationReasons,n),ModerationReasons.prototype.render=function render(){return e.createElement("div",{className:"rc-ModerationReasons"},e.createElement("ul",{className:"c-radio-group"},e.createElement("li",null,e.createElement("input",{id:"honorCodeViolation",type:"radio",value:"honorCodeViolation",name:"reason",ref:"firstOption",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"honorCodeViolation",className:"c-radio-label"},t("Removing an "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/208280036"},t("Honor Code")),t(" violation (e.g., problem solutions)"))),e.createElement("li",null,e.createElement("input",{id:"inappropriate",type:"radio",value:"inappropriate",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"inappropriate",className:"c-radio-label"},t("Removing "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863"},t("Inappropriate Content")),t(" violation (e.g., obscenities or mature content)"))),e.createElement("li",null,e.createElement("input",{id:"copyrightViolation",type:"radio",value:"copyrightViolation",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"copyrightViolation",className:"c-radio-label"},t("Removing a copyright violation"))),e.createElement("li",null,e.createElement("input",{id:"spam",type:"radio",value:"spam",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"spam",className:"c-radio-label"},t("Removing spam (e.g. unintelligible content or advertisements)"))),e.createElement("li",null,e.createElement("input",{id:"clarity",type:"radio",value:"clarity",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"clarity",className:"c-radio-label"},t("Editing for clarity")))))},ModerationReasons}(e.Component),n.propTypes={handleSelect:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/NotifyOption',[],function(){})
define("bundles/discussions/components/NotifyOption",["require","exports","module","i18n!nls/discussions","react","css!./__styles__/NotifyOption"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,n=require("i18n!nls/discussions"),e=require("react");require("css!./__styles__/NotifyOption");var r=(o=t=function(t){function NotifyOption(){return _classCallCheck(this,NotifyOption),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(NotifyOption,t),NotifyOption.prototype.render=function render(){return e.createElement("div",{className:"rc-NotifyOption"},e.createElement("input",{id:"notify",type:"checkbox",checked:!this.props.dontNotify,onChange:this.props.toggleNotify}),e.createElement("label",{htmlFor:"notify",className:"color-secondary-text"},n("Notify Original Poster")))},NotifyOption}(e.Component),t.propTypes={dontNotify:e.PropTypes.bool.isRequired,toggleNotify:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/Delete',[],function(){})
define("bundles/discussions/components/Delete",["require","exports","module","i18n!nls/discussions","react","react-dom","bundles/discussions/components/ModerationReasons","bundles/discussions/actions/DropdownActions","bundles/discussions/actions/ThreadsActions","bundles/phoenix/components/Modal","bundles/discussions/components/NotifyOption","css!./__styles__/Delete"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,t=require("i18n!nls/discussions"),e=require("react"),o=require("react-dom"),r=require("bundles/discussions/components/ModerationReasons"),i=require("bundles/discussions/actions/DropdownActions"),a=i.deletePost,c=require("bundles/discussions/actions/ThreadsActions"),l=c.clearThreadsCache,d=require("bundles/phoenix/components/Modal"),u=require("bundles/discussions/components/NotifyOption");require("css!./__styles__/Delete");var p=(n=s=function(s){function Delete(){var o,e,n;_classCallCheck(this,Delete);for(var r=arguments.length,i=Array(r),t=0;r>t;t++)i[t]=arguments[t];return o=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(i))),e.state={selectedOption:"",showInputError:!1,showServerError:!1,dontNotify:!1},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleCancel=function(){e.props.handleClose()},e.handleSubmit=function(){!e.props.showReasons||e.state.selectedOption?(e.context.executeAction(l),e.context.executeAction(a,{post:e.props.post,reason:e.state.selectedOption,handleSuccess:e.onDeleteSuccess,handleFailure:e.onDeleteError,dontNotify:e.state.dontNotify})):e.setState({showInputError:!0})},e.handleCloseModal=function(){e.props.handleClose()},e.onDeleteError=function(t){e.setState({showServerError:!0})},e.onDeleteSuccess=function(){e.props.handleClose(),"question"===e.props.post.type&&e.props.onDeleteSuccess(e.state.selectedOption)},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})},n=o,_possibleConstructorReturn(e,n)}return _inherits(Delete,s),Delete.prototype.componentDidMount=function componentDidMount(){this.refs.firstOption?o.findDOMNode(this.refs.firstOption).focus():o.findDOMNode(this.refs.cancel).focus()},Delete.prototype.render=function render(){var s=e.createElement("div",null,e.createElement(r,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(u,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify})),o=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Error deleting post; please try again or reload the page")),i=e.createElement("div",{className:"c-delete-warning"},t("Are you sure you want to delete this post?")),a=e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to delete this? "))),c=e.createElement(d,{handleClose:this.handleCloseModal,modalName:t("Delete Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Delete Post")),this.props.showReasons&&a,this.props.showReasons?s:i,e.createElement("div",null,this.state.showInputError&&o,this.state.showServerError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Delete")))));return e.createElement("div",{className:"rc-Delete"},c)},Delete}(e.Component),s.propTypes={showReasons:e.PropTypes.bool.isRequired,handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired,onDeleteSuccess:e.PropTypes.func},s.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=p});
define("bundles/discussions/components/EditThreadModal",["require","exports","module","underscore","i18n!nls/discussions","react","react-dom","bundles/phoenix/components/Modal","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption","bundles/discussions/constants","bundles/discussions/actions/DropdownActions","bundles/discussions/components/NewThreadFormComponents","css!./__styles__/NewThreadButton"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var s=a[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,_=require("underscore"),t=require("i18n!nls/discussions"),e=require("react"),i=require("react-dom"),l=require("bundles/phoenix/components/Modal"),r=require("bundles/cml/utils/CMLUtils"),c=require("bundles/discussions/utils/DiscussionsCMLUtils"),d=require("bundles/discussions/components/ModerationReasons"),u=require("bundles/discussions/components/NotifyOption"),o=require("bundles/discussions/constants"),h=require("bundles/discussions/actions/DropdownActions"),m=h.editThread,a=require("bundles/discussions/components/NewThreadFormComponents"),p=a.TitleInput,f=a.ContentInput;require("css!./__styles__/NewThreadButton");var E=(n=s=function(s){function EditThreadModal(l,c){_classCallCheck(this,EditThreadModal);var e=_possibleConstructorReturn(this,s.call(this,l,c));e.handleSuccess=function(){e.closeModal()},e.handleSubmit=function(){var t=_(e.state).any(function(e){return e.hasError});t?(e.state.title.hasError?e.refs.title.refs.title.focus():e.state.content.hasError&&i.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus(),e.setState({showErrors:!0})):(e.setState({saving:!0}),e.context.executeAction(m,{id:e.props.question.id,questionId:e.props.question.questionId,question:e.state.title.value,details:e.state.content.value,handleSuccess:e.handleSuccess,handleFailure:e.handleSaveError,reason:e.state.selectedOption,dontNotify:e.state.dontNotify}))},e.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},e.handleSaveError=function(s){e.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleReasonsSubmit=function(){e.state.selectedOption?e.setState({showModerationReasons:!1}):e.setState({showInputError:!0})},e.handleReasonsCancel=function(){e.closeModal()},e.handleCloseModal=function(){e.closeModal()},e.handleCancel=function(){e.closeModal()},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})};var n=l.question.content,a=n.details;if(!n.details||!n.details.typeName){var d="<co-content><text>"+(n.details||"")+"</text></co-content>";a=r.create(d,o.DTD_NAME)}return a.definition.dtdId=o.DTD_NAME,e.state={title:{value:n.question||"",hasError:!1},content:{value:a,hasError:!1},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",showModerationReasons:!1,selectedOption:"",showInputError:!1,dontNotify:!1},e}return _inherits(EditThreadModal,s),EditThreadModal.prototype.componentWillMount=function componentWillMount(){this.setState({showModerationReasons:this.props.showReasons})},EditThreadModal.prototype.closeModal=function closeModal(){this.props.handleClose()},EditThreadModal.prototype.render=function render(){var n=c.generateContentLengthWarning(this.state.content.value),o=e.createElement("div",{className:"c-error-text c-form-error-message"},this.state.saveErrorMessage),a=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),s=void 0;s=this.state.showModerationReasons?e.createElement("div",null,e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(d,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(u,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&a,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleReasonsCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleReasonsSubmit},t("Edit Post"))))):e.createElement("div",null,e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(p,{ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(f,{ref:"content",hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),e.createElement("div",null,n,this.state.saveError&&o,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit")))));var r=e.createElement(l,{handleClose:this.handleCloseModal,modalName:t("Edit thread"),ref:"editThreadModal"},e.createElement("h1",{className:"c-modal-title display-1-text"},t("Edit thread")),s);return e.createElement("div",{className:"rc-EditThreadForm"},r)},EditThreadModal}(e.Component),s.propTypes={question:e.PropTypes.object.isRequired,handleClose:e.PropTypes.func.isRequired,showReasons:e.PropTypes.bool},s.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=E});
define("bundles/discussions/components/EditWithModerationModal",["require","exports","module","i18n!nls/discussions","react","bundles/phoenix/components/Modal","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption"],function(require,exports,module){function _defaults(e,s){for(var i=Object.getOwnPropertyNames(s),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,t=require("i18n!nls/discussions"),e=require("react"),s=require("bundles/phoenix/components/Modal"),i=require("bundles/discussions/components/ModerationReasons"),a=require("bundles/discussions/components/NotifyOption"),r=(o=n=function(n){function EditWithModerationModal(){var o,e,s;_classCallCheck(this,EditWithModerationModal);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={showInputError:!1,selectedOption:"",dontNotify:!1},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleCancel=function(){e.props.handleCancel()},e.handleClose=function(){e.props.handleCancel()},e.handleSubmit=function(){e.state.selectedOption?e.props.handleSuccess(e.state.selectedOption,e.state.dontNotify):e.setState({showInputError:!0})},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})},s=o,_possibleConstructorReturn(e,s)}return _inherits(EditWithModerationModal,n),EditWithModerationModal.prototype.render=function render(){var n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason"));return e.createElement("div",{className:"rc-EditWithModerationModal"},e.createElement(s,{handleClose:this.handleClose,modalName:t("Edit Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Edit Post")),e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(i,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(a,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit"))))))},EditWithModerationModal}(e.Component),n.propTypes={handleCancel:e.PropTypes.func.isRequired,handleSuccess:e.PropTypes.func.isRequired},n.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/FlaggingModal',[],function(){})
define("bundles/discussions/components/FlaggingModal",["require","exports","module","i18n!nls/discussions","classnames","react","bundles/discussions/actions/DropdownActions","bundles/phoenix/components/Modal","css!./__styles__/FlaggingModal"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,o,t=require("i18n!nls/discussions"),r=require("classnames"),e=require("react"),n=require("bundles/discussions/actions/DropdownActions"),i=n.flagPost,a=n.unflagPost,c=require("bundles/phoenix/components/Modal");require("css!./__styles__/FlaggingModal");var l=(o=s=function(s){function FlaggingModal(){var o,e,n;_classCallCheck(this,FlaggingModal);for(var r=arguments.length,c=Array(r),t=0;r>t;t++)c[t]=arguments[t];return o=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(c))),e.state={error:!1,saving:!1,success:!1},e.handleSubmitError=function(){e.setState({saving:!1,error:!0})},e.flagAction=function(){var t=e.props.post;e.setState({saving:!0,success:!1,error:!1}),e.isActive()?e.context.executeAction(a,{post:t,handleSuccess:e.props.handleClose,handleFailure:e.handleSubmitError}):e.context.executeAction(i,{post:t,handleSuccess:function handleSuccess(){e.setState({success:!0,saving:!1})},handleFailure:e.handleSubmitError})},e.isActive=function(){return e.props.post.flagDetails&&e.props.post.flagDetails.isActive},n=o,_possibleConstructorReturn(e,n)}return _inherits(FlaggingModal,s),FlaggingModal.prototype.getBodyText=function getBodyText(){return t(this.state.success?"Thank you. We will review it and take appropriate action.":this.state.error?"Sorry, an error occured. Please try again later.":this.isActive()?"Are you sure you want to resolve the reported post?":"Are you sure you want to report this post?")},FlaggingModal.prototype.renderButtonContainer=function renderButtonContainer(){return e.createElement("div",{className:"horizontal-box align-items-right button-container"},e.createElement("button",{className:"passive never-mind",onClick:this.props.handleClose},t("Never mind")),e.createElement("button",{className:"secondary",onClick:this.flagAction,disabled:this.state.error||this.state.saving},t(this.isActive()?"Resolve":"Report")))},FlaggingModal.prototype.render=function render(){var s=r("modal-text",{"body-1-text":!this.state.success,"body-2-text":this.state.success,success:this.state.success});return e.createElement(c,{handleClose:this.props.handleClose,modalName:t(this.isActive?"Resolve":"Report"),ref:"editThreadModal",className:"rc-FlaggingModal"},this.state.success||e.createElement("h3",{className:"c-modal-title headline-3-text"},t(this.isActive()?"Resolve report":"Report as inappropriate")),e.createElement("p",{className:s},this.getBodyText()),this.state.success||this.renderButtonContainer())},FlaggingModal}(e.Component),s.propTypes={handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired},s.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=l});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(b,y){var n=b,i=n.document,d=n.navigator,T=n.setTimeout,B=n.encodeURIComponent,Fe=n.ActiveXObject,Xe=n.Error,ie=n.Number.parseInt||n.parseInt,Y=n.Number.parseFloat||n.parseFloat,ze=n.Number.isNaN||n.isNaN,x=n.Math.round,X=n.Date.now,A=n.Object.keys,se=n.Object.defineProperty,l=n.Object.prototype.hasOwnProperty,Oe=n.Array.prototype.slice,Ne=function(){var e=function unwrapper(e){return e};if("function"==typeof n.wrap&&"function"==typeof n.unwrap)try{var t=i.createElement("div"),r=n.unwrap(t);1===t.nodeType&&r&&1===r.nodeType&&(e=n.unwrap)}catch(a){}return e}(),a=function _args(e){return Oe.call(e,0)},o=function _extend(){var t,s,n,e,u,r,o=a(arguments),i=o[0]||{};for(t=1,s=o.length;s>t;t++)if(null!=(n=o[t]))for(e in n)l.call(n,e)&&(u=i[e],r=n[e],i!==r&&r!==y&&(i[e]=r));return i},m=function _deepCopy(e){var t,n,a,r;if("object"!==("undefined"==typeof e?"undefined":_typeof(e))||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,a=e.length;a>n;n++)l.call(e,n)&&(t[n]=_deepCopy(e[n]));else{t={};for(r in e)l.call(e,r)&&(t[r]=_deepCopy(e[r]))}return t},Ye=function _pick(n,t){for(var r={},e=0,a=t.length;a>e;e++)t[e]in n&&(r[t[e]]=n[t[e]]);return r},M=function _omit(t,r){var n={};for(var e in t)-1===r.indexOf(e)&&(n[e]=t[e]);return n},ee=function _deleteOwnProperties(e){if(e)for(var t in e)l.call(e,t)&&delete e[t];return e},z=function _containedBy(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},N=function _getDirPathOfUrl(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},ue=function _getCurrentScriptUrlFromErrorStack(t){var n,e;return"string"==typeof t&&t&&(e=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]?n=e[1]:(e=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]&&(n=e[1]))),n},de=function _getCurrentScriptUrlFromError(){var t,e;try{throw new Xe}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||ue(e.stack)),t},ye=function _getCurrentScriptUrl(){var t,e,n;if(i.currentScript&&(t=i.currentScript.src))return t;if(e=i.getElementsByTagName("script"),1===e.length)return e[0].src||y;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;if("loading"===i.readyState&&(t=e[e.length-1].src))return t;if(t=de())return t;return y},xe=function _getUnanimousScriptParentDir(){var n,e,t,r=i.getElementsByTagName("script");for(n=r.length;n--;){if(!(t=r[n].src)){e=null;break}if(t=N(t),null==e)e=t;else if(e!==t){e=null;break}}return e||y},Ee=function _getDefaultSwfPath(){var e=N(ye())||xe()||"";return e+"ZeroClipboard.swf"},t={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},I="11.0.0",c={},u,D,f={},C=null,Je={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},r={swfPath:Ee(),trustedDomains:b.location.host?[b.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},P=function _config(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e)for(var n in e)if(l.call(e,n))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(n))r[n]=e[n];else if(null==t.bridge)if("containerId"===n||"swfObjectId"===n){if(!ae(e[n]))throw new Error("The specified `"+n+"` value is not valid as an HTML4 Element ID");r[n]=e[n]}else r[n]=e[n];if("string"==typeof e&&e){if(l.call(r,e))return r[e];return}return m(r)},R=function _state(){return{browser:Ye(d,["userAgent","platform","appName"]),flash:M(t,["bridge"]),zeroclipboard:{version:e.version,config:e.config()}}},Z=function _isFlashUnusable(){return!!(t.disabled||t.outdated||t.unavailable||t.deactivated)},V=function _on(r,u){var n,i,a,o={};if("string"==typeof r&&r)a=r.toLowerCase().split(/\s+/);else if("object"===("undefined"==typeof r?"undefined":_typeof(r))&&r&&"undefined"==typeof u)for(n in r)l.call(r,n)&&"string"==typeof n&&n&&"function"==typeof r[n]&&e.on(n,r[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)r=a[n].replace(/^on/,""),o[r]=!0,c[r]||(c[r]=[]),c[r].push(u);if(o.ready&&t.ready&&e.emit({type:"ready"}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;i>n;n++)if(t[s[n]]===!0){e.emit({type:"error",name:"flash-"+s[n]});break}}}return e},K=function _off(t,o){var n,s,i,a,r;if(0===arguments.length)a=A(c);else if("string"==typeof t&&t)a=t.split(/\s+/);else if("object"===("undefined"==typeof t?"undefined":_typeof(t))&&t&&"undefined"==typeof o)for(n in t)l.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&e.off(n,t[n]);if(a&&a.length)for(n=0,s=a.length;s>n;n++)if(t=a[n].toLowerCase().replace(/^on/,""),r=c[t],r&&r.length)if(o)for(i=r.indexOf(o);-1!==i;)r.splice(i,1),i=r.indexOf(o,i);else r.length=0;return e},U=function _listeners(e){var t;return t="string"==typeof e&&e?m(c[e])||null:m(c)},G=function _emit(n){var a,i,r;if(n=k(n),!n)return;if(ce(n))return;if("ready"===n.type&&t.overdue===!0)return e.emit({type:"error",name:"flash-overdue"});return a=o({},n),fe.call(this,a),"copy"===n.type&&(r=me(f),i=r.data,C=r.formatMap),i},J=function _create(){if("boolean"!=typeof t.ready&&(t.ready=!1),!e.isFlashUnusable()&&null===t.bridge){var n=r.flashLoadTimeout;"number"==typeof n&&n>=0&&T(function(){"boolean"!=typeof t.deactivated&&(t.deactivated=!0),t.deactivated===!0&&e.emit({type:"error",name:"flash-deactivated"})},n),t.overdue=!1,he()}},W=function _destroy(){e.clearData(),e.blur(),e.emit("destroy"),ve(),e.off()},q=function _setData(n,a){var t;if("object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"undefined"==typeof a)t=n,e.clearData();else{if("string"!=typeof n||!n)return;t={},t[n]=a}for(var r in t)"string"==typeof r&&r&&l.call(t,r)&&"string"==typeof t[r]&&t[r]&&(f[r]=t[r])},Q=function _clearData(e){"undefined"==typeof e?(ee(f),C=null):"string"==typeof e&&l.call(f,e)&&delete f[e]},qe=function _getData(e){if("undefined"==typeof e)return m(f);if("string"==typeof e&&l.call(f,e))return f[e]},te=function _focus(e){if(!e||1!==e.nodeType)return;u&&(v(u,r.activeClass),u!==e&&v(u,r.hoverClass)),u=e,L(e,r.hoverClass);var n=e.getAttribute("title")||r.title;if("string"==typeof n&&n){var a=h(t.bridge);a&&a.setAttribute("title",n)}var i=r.forceHandCursor===!0||"pointer"===_e(e,"cursor");Ie(i),ke()},ne=function _blur(){var e=h(t.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),u&&(v(u,r.hoverClass),v(u,r.activeClass),u=null)},re=function _activeElement(){return u||null},ae=function _isValidHtml4Id(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},k=function _createEvent(n){var r;if("string"==typeof n&&n?(r=n,n={}):"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"string"==typeof n.type&&n.type&&(r=n.type),!r)return;!n.target&&/^(copy|aftercopy|_click)$/.test(r.toLowerCase())&&(n.target=D),o(n,{type:r.toLowerCase(),target:n.target||u||null,relatedTarget:n.relatedTarget||null,currentTarget:t&&t.bridge||null,timeStamp:n.timeStamp||X()||null});var a=Je[n.type];return"error"===n.type&&n.name&&a&&(a=a[n.name]),a&&(n.message=a),"ready"===n.type&&o(n,{target:null,version:t.version}),"error"===n.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{target:null,minimumVersion:I}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{version:t.version})),"copy"===n.type&&(n.clipboardData={setData:e.setData,clearData:e.clearData}),"aftercopy"===n.type&&(n=ge(n,C)),n.target&&!n.relatedTarget&&(n.relatedTarget=oe(n.target)),n=le(n)},oe=function _getRelatedTarget(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?i.getElementById(t):null},le=function _addMouseData(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var a=e.target,d="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:y,p="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:y,l=j(a),v=n.screenLeft||n.screenX||0,m=n.screenTop||n.screenY||0,c=i.body.scrollLeft+i.documentElement.scrollLeft,f=i.body.scrollTop+i.documentElement.scrollTop,s=l.left+("number"==typeof e._stageX?e._stageX:0),u=l.top+("number"==typeof e._stageY?e._stageY:0),t=s-c,r=u-f,g=v+t,b=m+r,w="number"==typeof e.movementX?e.movementX:0,h="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,o(e,{srcElement:a,fromElement:d,toElement:p,screenX:g,screenY:b,pageX:s,pageY:u,clientX:t,clientY:r,x:t,y:r,movementX:w,movementY:h,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},O=function _shouldPerformAsync(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},S=function _dispatchCallback(e,t,n,r){r?T(function(){e.apply(t,n)},0):e.apply(t,n)},fe=function _dispatchCallbacks(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t||!t.type)return;var p=O(t),u=c["*"]||[],f=c[t.type]||[],a=u.concat(f);if(a&&a.length){var r,l,e,i,s,d=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=d,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(s=o({},t),S(e,i,[s],p))}return this},ce=function _preprocessEvent(n){var a=n.target||u||null,l="swf"===n._source;delete n._source;var y=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(n.type){case"error":-1!==y.indexOf(n.name)&&o(t,{disabled:"flash-disabled"===n.name,outdated:"flash-outdated"===n.name,unavailable:"flash-unavailable"===n.name,deactivated:"flash-deactivated"===n.name,overdue:"flash-overdue"===n.name,ready:!1});break;case"ready":var d=t.deactivated===!0;o(t,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:d,ready:!d});break;case"beforecopy":D=a;break;case"copy":var s,c,i=n.relatedTarget;!f["text/html"]&&!f["text/plain"]&&i&&(c=i.value||i.outerHTML||i.innerHTML)&&(s=i.value||i.textContent||i.innerText)?(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s),c!==s&&n.clipboardData.setData("text/html",c)):!f["text/plain"]&&n.target&&(s=n.target.getAttribute("data-clipboard-text"))&&(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s));break;case"aftercopy":e.clearData(),a&&a!==Te()&&a.focus&&a.focus();break;case"_mouseover":e.focus(a),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&p(o({},n,{type:"mouseenter",bubbles:!1,cancelable:!1})),p(o({},n,{type:"mouseover"})));break;case"_mouseout":e.blur(),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&p(o({},n,{type:"mouseleave",bubbles:!1,cancelable:!1})),p(o({},n,{type:"mouseout"})));break;case"_mousedown":L(a,r.activeClass),r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_mouseup":v(a,r.activeClass),r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_click":D=null,r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_mousemove":r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(n.type))return!0},p=function _fireMouseEvent(t){if(!t||"string"!=typeof t.type||!t)return;var r,a=t.target||null,l=a&&a.ownerDocument||i,s={view:l.defaultView||n,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:l.createEvent?0:1},e=o(s,t);if(!a)return;l.createEvent&&a.dispatchEvent&&(e=[e.type,e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget],r=l.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent.apply(r,e),r._source="js",a.dispatchEvent(r)))},pe=function _createHtmlBridge(){var e=i.createElement("div");return e.id=r.containerId,e.className=r.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+F(r.zIndex),e},h=function _getHtmlBridge(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},he=function _embedSwf(){var f,a=t.bridge,o=h(a);if(!a){var u=Ce(n.location.host,r),y="never"===u?"none":"all",p=we(r),c=r.swfPath+be(r.swfPath,r);o=pe();var d=i.createElement("div");o.appendChild(d),i.body.appendChild(o);var l=i.createElement("div"),s="activex"===t.pluginType;l.innerHTML='<object id="'+r.swfObjectId+'" name="'+r.swfObjectId+'" width="100%" height="100%" '+(s?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+c+'"')+">"+(s?'<param name="movie" value="'+c+'"/>':"")+'<param name="allowScriptAccess" value="'+u+'"/><param name="allowNetworking" value="'+y+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+p+'"/></object>',a=l.firstChild,l=null,Ne(a).ZeroClipboard=e,o.replaceChild(a,d)}return a||(a=i[r.swfObjectId],a&&(f=a.length)&&(a=a[f-1]),!a&&o&&(a=o.firstChild)),t.bridge=a||null,a},ve=function _unembedSwf(){var e=t.bridge;if(e){var n=h(e);n&&("activex"===t.pluginType&&"readyState"in e?(e.style.display="none",function removeSwfFromIE(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n)}else T(removeSwfFromIE,10)}()):(e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n))),t.ready=null,t.bridge=null,t.deactivated=null}},me=function _mapClipDataToFlash(t){var n={},r={};if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t)return;for(var e in t)if(e&&l.call(t,e)&&"string"==typeof t[e]&&t[e])switch(e.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":n.text=t[e],r.text=e;break;case"text/html":case"html":case"air:html":case"flash:html":n.html=t[e],r.html=e;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":n.rtf=t[e],r.rtf=e}return{data:n,formatMap:r}},ge=function _mapClipResultsFromFlash(e,n){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))||!e||"object"!==("undefined"==typeof n?"undefined":_typeof(n))||!n)return e;var a={};for(var t in e)if(l.call(e,t)){if("success"!==t&&"data"!==t){a[t]=e[t];continue}a[t]={};var i=e[t];for(var r in i)r&&l.call(i,r)&&l.call(n,r)&&(a[t][n[r]]=i[r])}return a},be=function _cacheBust(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+X():""},we=function _vars(e){var r,s,a,t,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?t=[e.trustedDomains]:"object"===_typeof(e.trustedDomains)&&"length"in e.trustedDomains&&(t=e.trustedDomains)),t&&t.length)for(r=0,s=t.length;s>r;r++)if(l.call(t,r)&&t[r]&&"string"==typeof t[r]){if(a=w(t[r]),!a)continue;if("*"===a){o.length=0,o.push(a);break}o.push.apply(o,[a,"//"+a,n.location.protocol+"//"+a])}return o.length&&(i+="trustedOrigins="+B(o.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+B(e.swfObjectId)),i},w=function _extractDomain(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");if(e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase())return null;return e||null},Ce=function(){var e=function _extractAllDomains(e){var n,a,r,t=[];if("string"==typeof e&&(e=[e]),"object"!==("undefined"==typeof e?"undefined":_typeof(e))||!e||"number"!=typeof e.length)return t;for(n=0,a=e.length;a>n;n++)if(l.call(e,n)&&(r=w(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===t.indexOf(r)&&t.push(r)}return t};return function(t,i){var n=w(i.swfPath);null===n&&(n=t);var r=e(i.trustedDomains),a=r.length;if(a>0){if(1===a&&"*"===r[0])return"always";if(-1!==r.indexOf(t)){if(1===a&&t===n)return"sameDomain";return"always"}}return"never"}}(),Te=function _safeActiveElement(){try{return i.activeElement}catch(e){return null}},L=function _addClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var r=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,n=0,o=r.length;o>n;n++)i.indexOf(" "+r[n]+" ")<0&&(a+=" "+r[n]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},v=function _removeClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var a=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;i>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},_e=function _getStyle(t,r){var e=n.getComputedStyle(t,null).getPropertyValue(r);if("cursor"===r&&(!e||"auto"===e)&&"A"===t.nodeName)return"pointer";return e},je=function _getZoomFactor(){var e,t,n,r=1;return"function"==typeof i.body.getBoundingClientRect&&(e=i.body.getBoundingClientRect(),t=e.right-e.left,n=i.body.offsetWidth,r=x(t/n*100)/100),r},j=function _getDOMObjectPosition(l){var t={left:0,top:0,width:0,height:0};if(l.getBoundingClientRect){var e=l.getBoundingClientRect(),r,a,o;"pageXOffset"in n&&"pageYOffset"in n?(r=n.pageXOffset,a=n.pageYOffset):(o=je(),r=x(i.documentElement.scrollLeft/o),a=x(i.documentElement.scrollTop/o));var s=i.documentElement.clientLeft||0,u=i.documentElement.clientTop||0;t.left=e.left+r-s,t.top=e.top+a-u,t.width="width"in e?e.width:e.right-e.left,t.height="height"in e?e.height:e.bottom-e.top}return t},ke=function _reposition(){var n;if(u&&(n=h(t.bridge))){var e=j(u);o(n.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+F(r.zIndex)})}},Ie=function _setHandCursor(e){t.ready===!0&&(t.bridge&&"function"==typeof t.bridge.setHandCursor?t.bridge.setHandCursor(e):t.ready=!1)},F=function _getSafeZIndex(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||ze(e)?"string"==typeof e&&(t=_getSafeZIndex(ie(e,10))):t=e,"number"==typeof t?t:"auto"},Le=function _detectFlashSupport(i){function parseFlashVersion(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function isPepperFlash(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function inspectPlugin(t){t&&(n=!0,t.version&&(e=parseFlashVersion(t.version)),!e&&t.description&&(e=parseFlashVersion(t.description)),t.filename&&(s=isPepperFlash(t.filename)))}var a,r,l,n=!1,o=!1,s=!1,e="";if(d.plugins&&d.plugins.length)a=d.plugins["Shockwave Flash"],inspectPlugin(a),d.plugins["Shockwave Flash 2.0"]&&(n=!0,e="2.0.0.11");else if(d.mimeTypes&&d.mimeTypes.length)l=d.mimeTypes["application/x-shockwave-flash"],a=l&&l.enabledPlugin,inspectPlugin(a);else if("undefined"!=typeof i){o=!0;try{r=new i("ShockwaveFlash.ShockwaveFlash.7"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(u){try{r=new i("ShockwaveFlash.ShockwaveFlash.6"),n=!0,e="6.0.21"}catch(f){try{r=new i("ShockwaveFlash.ShockwaveFlash"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(c){o=!1}}}}t.disabled=n!==!0,t.outdated=e&&Y(e)<Y(I),t.version=e||"0.0.0",t.pluginType=s?"pepper":o?"activex":n?"netscape":"unknown"};Le(Fe);var e=function ZeroClipboard(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;"function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,a(arguments))};se(e,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),e.config=function(){return P.apply(this,a(arguments))},e.state=function(){return R.apply(this,a(arguments))},e.isFlashUnusable=function(){return Z.apply(this,a(arguments))},e.on=function(){return V.apply(this,a(arguments))},e.off=function(){return K.apply(this,a(arguments))},e.handlers=function(){return U.apply(this,a(arguments))},e.emit=function(){return G.apply(this,a(arguments))},e.create=function(){return J.apply(this,a(arguments))},e.destroy=function(){return W.apply(this,a(arguments))},e.setData=function(){return q.apply(this,a(arguments))},e.clearData=function(){return Q.apply(this,a(arguments))},e.getData=function(){return qe.apply(this,a(arguments))},e.focus=e.activate=function(){return te.apply(this,a(arguments))},e.blur=e.deactivate=function(){return ne.apply(this,a(arguments))},e.activeElement=function(){return re.apply(this,a(arguments))};var Se=0,s={},Ae=0,g={},E={};o(r,{autoActivate:!0});var $e=function _clientConstructor(n){var t=this;t.id=""+Se++,s[t.id]={instance:t,elements:[],handlers:{}},n&&t.clip(n),e.on("*",function(e){return t.emit(e)}),e.on("destroy",function(){t.destroy()}),e.create()},Be=function _clientOn(n,f){var e,a,r,i={},o=s[this.id]&&s[this.id].handlers;if("string"==typeof n&&n)r=n.toLowerCase().split(/\s+/);else if("object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"undefined"==typeof f)for(e in n)l.call(n,e)&&"string"==typeof e&&e&&"function"==typeof n[e]&&this.on(e,n[e]);if(r&&r.length){for(e=0,a=r.length;a>e;e++)n=r[e].replace(/^on/,""),i[n]=!0,o[n]||(o[n]=[]),o[n].push(f);if(i.ready&&t.ready&&this.emit({type:"ready",client:this}),i.error){var u=["disabled","outdated","unavailable","deactivated","overdue"];for(e=0,a=u.length;a>e;e++)if(t[u[e]]){this.emit({type:"error",name:"flash-"+u[e],client:this});break}}}return this},He=function _clientOff(e,i){var t,o,a,r,n,u=s[this.id]&&s[this.id].handlers;if(0===arguments.length)r=A(u);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"undefined"==typeof i)for(t in e)l.call(e,t)&&"string"==typeof t&&t&&"function"==typeof e[t]&&this.off(t,e[t]);if(r&&r.length)for(t=0,o=r.length;o>t;t++)if(e=r[t].toLowerCase().replace(/^on/,""),n=u[e],n&&n.length)if(i)for(a=n.indexOf(i);-1!==a;)n.splice(a,1),a=n.indexOf(i,a);else n.length=0;return this},Me=function _clientListeners(e){var n=null,t=s[this.id]&&s[this.id].handlers;return t&&(n="string"==typeof e&&e?t[e]?t[e].slice(0):[]:m(t)),n},Pe=function _clientEmit(e){if(Ue.call(this,e)){"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"string"==typeof e.type&&e.type&&(e=o({},e));var t=o({},k(e),{client:this});Ge.call(this,t)}return this},Re=function _clientClip(e){e=H(e);for(var t=0;t<e.length;t++)if(l.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===g[e[t].zcClippingId].indexOf(this.id)&&g[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ae++,g[e[t].zcClippingId]=[this.id],r.autoActivate===!0&&We(e[t]));var n=s[this.id]&&s[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},Ze=function _clientUnclip(e){var o=s[this.id];if(!o)return this;var i=o.elements,t;e="undefined"==typeof e?i.slice(0):H(e);for(var n=e.length;n--;)if(l.call(e,n)&&e[n]&&1===e[n].nodeType){for(t=0;-1!==(t=i.indexOf(e[n],t));)i.splice(t,1);var a=g[e[n].zcClippingId];if(a){for(t=0;-1!==(t=a.indexOf(this.id,t));)a.splice(t,1);0===a.length&&(r.autoActivate===!0&&De(e[n]),delete e[n].zcClippingId)}}return this},Ve=function _clientElements(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]},Ke=function _clientDestroy(){this.unclip(),this.off(),delete s[this.id]},Ue=function _clientShouldEmit(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=s[this.id]&&s[this.id].elements,n=!!t&&t.length>0,r=!e.target||n&&-1!==t.indexOf(e.target),a=e.relatedTarget&&n&&-1!==t.indexOf(e.relatedTarget),i=e.client&&e.client===this;if(!(r||a||i))return!1;return!0},Ge=function _clientDispatchCallbacks(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t||!t.type)return;var p=O(t),f=s[this.id]&&s[this.id].handlers["*"]||[],c=s[this.id]&&s[this.id].handlers[t.type]||[],a=f.concat(c);if(a&&a.length){var r,l,e,i,u,d=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=d,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(u=o({},t),S(e,i,[u],p))}return this},H=function _prepClip(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},We=function _addMouseHandlers(t){if(!t||1!==t.nodeType)return;var r=function _suppressMouseEvents(e){if(!e&&!(e=n.event))return;"js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source},a=function _elementMouseOver(a){if(!a&&!(a=n.event))return;r(a),e.focus(t)};t.addEventListener("mouseover",a,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mouseenter",r,!1),t.addEventListener("mouseleave",r,!1),t.addEventListener("mousemove",r,!1),E[t.zcClippingId]={mouseover:a,mouseout:r,mouseenter:r,mouseleave:r,mousemove:r}},De=function _removeMouseHandlers(e){if(!e||1!==e.nodeType)return;var t=E[e.zcClippingId];if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t)return;for(var n,r,i=["move","leave","enter","out","over"],a=0,o=i.length;o>a;a++)n="mouse"+i[a],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete E[e.zcClippingId]};e._createClient=function(){$e.apply(this,a(arguments))},e.prototype.on=function(){return Be.apply(this,a(arguments))},e.prototype.off=function(){return He.apply(this,a(arguments))},e.prototype.handlers=function(){return Me.apply(this,a(arguments))},e.prototype.emit=function(){return Pe.apply(this,a(arguments))},e.prototype.clip=function(){return Re.apply(this,a(arguments))},e.prototype.unclip=function(){return Ze.apply(this,a(arguments))},e.prototype.elements=function(){return Ve.apply(this,a(arguments))},e.prototype.destroy=function(){return Ke.apply(this,a(arguments))},e.prototype.setText=function(t){return e.setData("text/plain",t),this},e.prototype.setHtml=function(t){return e.setData("text/html",t),this},e.prototype.setRichText=function(t){return e.setData("application/rtf",t),this},e.prototype.setData=function(){return e.setData.apply(this,a(arguments)),this},e.prototype.clearData=function(){return e.clearData.apply(this,a(arguments)),this},e.prototype.getData=function(){return e.getData.apply(this,a(arguments))},"function"==typeof define&&define.amd?define("bundles/zeroclipboard/ZeroClipboard.v2-1-6",[],function(){return e}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)&&module.exports?module.exports=e:b.ZeroClipboard=e}(function(){return this||window}());
define("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6",["require","exports","module","jquery","bundles/zeroclipboard/ZeroClipboard.v2-1-6","js/app/config","js/lib/path"],function(require,exports,module){var $=require("jquery"),a=require("bundles/zeroclipboard/ZeroClipboard.v2-1-6"),e=require("js/app/config"),n=require("js/lib/path"),i=n.join(e.url.app_assets,"bundles/zeroclipboard/ZeroClipboard.swf");a.config({swfPath:i});var r={constants:{"data.clipboard":"clipboard.me"},getClipboard:function getClipboard(a){return $(a).data(r.constants["data.clipboard"])},makeClipboard:function makeClipboard(o){var n=$(o),e=new a(o);return n.data(r.constants["data.clipboard"],e),e}},o=function external(){if(!a.isFlashUnusable())return r.getClipboard.apply(null,arguments)||r.makeClipboard.apply(this,arguments)};o.isEnabled=function(){return!a.isFlashUnusable()},module.exports=o});
define("bundles/ui/components/CopyLink/ZeroClipboardCopyLink",["require","exports","module","react-dom","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react","bundles/iconfont/Icon","i18n!nls/ondemand","classnames"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,a=require("react-dom"),n=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react"),s=require("bundles/iconfont/Icon"),r=require("i18n!nls/ondemand"),i=require("classnames"),c=(o=t=function(t){function ZeroClipboardCopyLink(){var r,e,i;_classCallCheck(this,ZeroClipboardCopyLink);for(var a=arguments.length,s=Array(a),o=0;a>o;o++)s[o]=arguments[o];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(s))),e.state={isCopied:!1,isZeroClipboardEnabled:n.isEnabled()},e.copyLinkToClipboard=function(t){e.setState({isCopied:!0}),setTimeout(e.reset,3e3)},e.reset=function(){e.setState({isCopied:!1})},i=r,_possibleConstructorReturn(e,i)}return _inherits(ZeroClipboardCopyLink,t),ZeroClipboardCopyLink.prototype.componentDidMount=function componentDidMount(){this.state.isZeroClipboardEnabled&&n(a.findDOMNode(this.refs.copyButton))},ZeroClipboardCopyLink.prototype.render=function render(){var t=i("caption-text","color-secondary-text","clipboard-message",{"transition-in":this.state.isCopied}),o=i("horizontal-box","box",{copied:this.state.isCopied}),n=e.createElement("button",{ref:"copyButton","data-clipboard-target":"link",onClick:this.copyLinkToClipboard,className:"secondary copy"},r("Copy")),a=e.createElement("button",{className:"primary checkmark"},e.createElement(s,{name:"check"}));return e.createElement("div",null,e.createElement("div",{className:o},e.createElement("div",{id:"link",className:"flex-1 link horizontal-box align-items-vertical-center bgcolor-white"},this.props.shareLink),e.createElement("p",null),this.state.isCopied?a:n),this.state.isCopied&&e.createElement("div",{className:t},r("Copied to clipboard")))},ZeroClipboardCopyLink}(e.Component),t.propTypes={shareLink:e.PropTypes.string.isRequired},o);module.exports=c});

define('css!bundles/ui/components/CopyLink/__styles__/CopyLink',[],function(){})
define("bundles/ui/components/CopyLink/CopyLink",["require","exports","module","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react","classnames","bundles/ui/components/CopyLink/ZeroClipboardCopyLink","css!./__styles__/CopyLink"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),r=0;r<s.length;r++){var t=s[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t,n,o,r,s=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react"),i=require("classnames"),a=require("bundles/ui/components/CopyLink/ZeroClipboardCopyLink");require("css!./__styles__/CopyLink");var p=(n=t=function(r){function CopyLinkWithoutClipboard(){return _classCallCheck(this,CopyLinkWithoutClipboard),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(CopyLinkWithoutClipboard,r),CopyLinkWithoutClipboard.prototype.render=function render(){return e.createElement("div",null,e.createElement("input",{type:"text",className:"c-link-input color-primary-text body-1-text",value:this.props.shareLink,readOnly:"readonly"}),e.createElement("div",{className:"caption-text color-hint-text c-copy-message"},this.props.message))},CopyLinkWithoutClipboard}(e.Component),t.propTypes={shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired},n),c=(r=o=function(r){function CopyLink(){var n,t,o;_classCallCheck(this,CopyLink);for(var i=arguments.length,a=Array(i),e=0;i>e;e++)a[e]=arguments[e];return n=t=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),t.state={isZeroClipboardEnabled:s.isEnabled()},o=n,_possibleConstructorReturn(t,o)}return _inherits(CopyLink,r),CopyLink.prototype.render=function render(){var r=this.props,n=r.className,t=r.shareLink,o=r.message,s=i(n,"rc-CopyLink","vertical-box");return e.createElement("div",{className:s},this.state.isZeroClipboardEnabled?e.createElement(a,{shareLink:t}):e.createElement(p,{shareLink:t,message:o}))},CopyLink}(e.Component),o.propTypes={shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired,className:e.PropTypes.string},r);module.exports=c});

define('css!bundles/discussions/components/__styles__/ShareModal',[],function(){})
define("bundles/discussions/components/ShareModal",["require","exports","module","i18n!nls/discussions","react","bundles/phoenix/components/Modal","bundles/discussions/utils/discussionsUrl","bundles/ui/components/CopyLink/CopyLink","bundles/discussions/utils/discussionsApiRolloutUtil","css!./__styles__/ShareModal"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),s=0;s<i.length;s++){var o=i[s],t=Object.getOwnPropertyDescriptor(n,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,o,t=require("i18n!nls/discussions"),e=require("react"),n=require("bundles/phoenix/components/Modal"),i=require("bundles/discussions/utils/discussionsUrl"),r=i.buildUrl,p=require("bundles/ui/components/CopyLink/CopyLink"),u=require("bundles/discussions/utils/discussionsApiRolloutUtil"),l=u.useNewForumApis;require("css!./__styles__/ShareModal");var c=(o=s=function(s){function ShareModal(){return _classCallCheck(this,ShareModal),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(ShareModal,s),ShareModal.prototype.render=function render(){var s=this.props.post.answerId,o=this.props.post.commentId,i=this.props.post.questionId;l()&&(s=s&&s.split("~")[2],o=o&&o.split("~")[2],i=i||this.props.post.forumQuestionId.split("~")[1]);var u=window.location.origin+r(this.props.forumLink,i,s,o);return e.createElement(n,{handleClose:this.props.handleClose,className:"rc-ShareModal"},e.createElement("h3",{className:"c-modal-title headline-3-text"},t("Share Post")),e.createElement(p,{shareLink:u,message:t("Copy the url for the post")}))},ShareModal}(e.Component),s.propTypes={handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired,forumLink:e.PropTypes.string},o);module.exports=c});
define("bundles/groups/constants/GroupRoles",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var e=require("js/lib/keysToConstants");module.exports=e(["Member","GroupManager","DerivedGroupManager"])});
define("pages/open-course/common/promises/groupAuthorizationPromise",["require","exports","module","q","underscore","bundles/groups/constants/GroupRoles","bundles/phoenix/template/models/userIdentity","bundles/groups/utils/GroupMembershipAPIUtils"],function(require,exports,module){var e=require("q"),_=require("underscore"),o=require("bundles/groups/constants/GroupRoles"),n=require("bundles/phoenix/template/models/userIdentity"),s=require("bundles/groups/utils/GroupMembershipAPIUtils"),r={},t=function groupMembershipsPromise(t,u,i){if(!u)return e({canModerate:!1});if(i)return e({canModerate:!0});if(r[t])return e(r[t]);return s.getMembershipsForUser(n.id).then(function(n){var s=n.elements,u=_(s).find(function(e){return e.groupId===t&&(e.role===o.GroupManager||e.role===o.DerivedGroupManager)}),e={canModerate:!1};return u&&(e={canModerate:!0}),r[t]=e,e})};module.exports=t});

define('css!bundles/discussions/components/__styles__/ModerationDropdown',[],function(){})
define("bundles/discussions/components/ModerationDropdown",["require","exports","module","jquery","jsuri","react-dom","react","underscore","bundles/discussions/actions/DropdownActions","bundles/discussions/components/Delete","bundles/discussions/components/EditThreadModal","bundles/discussions/components/EditWithModerationModal","bundles/discussions/components/FlaggingModal","bundles/discussions/components/ShareModal","bundles/discussions/viewModels/viewContext","bundles/programming/utils/ProgrammingPermissionsUtils","i18n!nls/discussions","pages/open-course/common/promises/groupAuthorizationPromise","bundles/discussions/utils/discussionsApiRolloutUtil","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/components/discussionsForumsHOC","css!./__styles__/ModerationDropdown"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var o=i[t],s=Object.getOwnPropertyDescriptor(n,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,n,$=require("jquery"),f=require("jsuri"),d=require("react-dom"),e=require("react"),_=require("underscore"),s=require("bundles/discussions/actions/DropdownActions"),a=s.showAdminDetails,l=s.hideAdminDetails,c=s.showReplyEditor,u=require("bundles/discussions/components/Delete"),r=require("bundles/discussions/components/EditThreadModal"),p=require("bundles/discussions/components/EditWithModerationModal"),h=require("bundles/discussions/components/FlaggingModal"),m=require("bundles/discussions/components/ShareModal"),i=require("bundles/discussions/viewModels/viewContext"),w=require("bundles/programming/utils/ProgrammingPermissionsUtils"),t=require("i18n!nls/discussions"),g=require("pages/open-course/common/promises/groupAuthorizationPromise"),M=require("bundles/discussions/utils/discussionsApiRolloutUtil"),b=M.useNewForumApis,y=require("js/lib/connectToRouter"),E=require("bundles/discussions/utils/routerConnectToCurrentForum"),D=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),S=require("bundles/discussions/components/discussionsForumsHOC");require("css!./__styles__/ModerationDropdown");var C=(n=o=function(o){function ModerationDropdown(t,s){_classCallCheck(this,ModerationDropdown);var e=_possibleConstructorReturn(this,o.call(this,t,s));return e.onEditClick=function(){e.state.postedByUser||"question"===e.props.post.type?e.showEdit():e.showEditWithModerationModal()},e.onFlaggingClick=function(){e.setState({showFlaggingModal:!0}),e.closeDropdown()},e.onShareClick=function(){e.setState({showShareModal:!0}),e.closeDropdown()},e.hideFlaggingModal=function(){e.setState({showFlaggingModal:!1})},e.hideEditQuestion=function(){e.setState({showEditThreadModal:!1})},e.hideEditWithModerationModal=function(){e.setState({showEditWithModerationModal:!1})},e.closeOnOutsideClick=function(t){$(d.findDOMNode(e)).find($(t.target)).length<=0&&e.closeDropdown()},e.showAdminDetails=function(){e.setState({showAdminDetails:!0}),e.context.executeAction(a,{post:e.props.post}),e.closeDropdown()},e.hideAdminDetails=function(){e.setState({showAdminDetails:!1}),e.context.executeAction(l,{post:e.props.post}),e.closeDropdown()},e.showDeleteModal=function(){e.setState({showDeleteModal:!0}),e.closeDropdown()},e.hideDeleteModal=function(){e.setState({showDeleteModal:!1})},e.editWithModerationModalSuccess=function(t,o){e.hideEditWithModerationModal(),e.showEditReply(t,o)},e.openDropdown=function(){e.setState({expandDropdown:!0}),$("body").on("click",e.closeOnOutsideClick)},e.hideShareModal=function(){e.setState({showShareModal:!1})},e.showEdit=function(){"question"===e.props.post.type?e.showEditQuestion():e.showEditReply(),e.closeDropdown()},e.showSubmissions=function(){var t=e.props,s=t.post,n=t.courseSlug,o=e.context.viewContext,i=o&&o.get("id"),r=new f("/teach/"+n+"/monitor/programming").addQueryParam("assignmentId",i).addQueryParam("userId",s.creatorId).toString();window.open(r,"_blank"),e.closeDropdown()},e.state={expandDropdown:!1,showDeleteModal:!1,postedByUser:t.creator.userId===e.props.userId,canModerate:!1,showAdminDetails:!1,showEditThreadModal:!1,showEditWithModerationModal:!1,showShareModal:!1},e}return _inherits(ModerationDropdown,o),ModerationDropdown.prototype.componentWillMount=function componentWillMount(){var e=this,t=this.context.viewContext&&this.context.viewContext.get("groupId"),o=this.props,s=o.authenticated,n=o.isSuperuser;t?g(t,s,n).then(function(t){e._isMounted&&e.setState(t)}):this.setState({canModerate:this.props.hasModerationRole})},ModerationDropdown.prototype.componentDidMount=function componentDidMount(){this._isMounted=!0},ModerationDropdown.prototype.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},ModerationDropdown.prototype.closeDropdown=function closeDropdown(){this.setState({expandDropdown:!1}),$("body").off("click",this.closeOnOutsideClick)},ModerationDropdown.prototype.showEditQuestion=function showEditQuestion(){this.setState({showEditThreadModal:!0})},ModerationDropdown.prototype.showEditReply=function showEditReply(e,t){this.context.executeAction(c,{reply:this.props.post,reason:e,dontNotify:t})},ModerationDropdown.prototype.showEditWithModerationModal=function showEditWithModerationModal(){this.setState({showEditWithModerationModal:!0}),this.closeDropdown()},ModerationDropdown.prototype.render=function render(){var o=this,n=function deleteEntry(){if(this.state.postedByUser||this.state.canModerate)return e.createElement("li",{role:"dropdownitem",onClick:this.showDeleteModal,ref:"delete"},e.createElement("button",null,t("Delete")))},i=function editEntry(){if(this.state.postedByUser||this.state.canModerate)return e.createElement("li",{role:"dropdownitem",onClick:this.onEditClick,ref:"edit"},e.createElement("button",null,t("Edit")))},d=function flaggingEntry(){var o=this.props.post;if(!this.state.postedByUser)return e.createElement("li",{role:"dropdownitem","data-js":"flag-view",ref:"flag"},e.createElement("button",{onClick:this.onFlaggingClick},t(o.flagDetails&&o.flagDetails.isActive?"Resolve report":"Report this")))},a=e.createElement("li",{role:"dropdownitem",ref:"share"},e.createElement("button",{onClick:this.onShareClick},t("Link to Post"))),l=function adminDetailsEntry(){var o=this.props,s=o.hasTeachingRole,n=o.isSuperuser;if(s||n)return this.state.showAdminDetails?e.createElement("li",{role:"dropdownitem",onClick:this.hideAdminDetails,ref:"admin"},e.createElement("button",null,t("Hide User ID"))):e.createElement("li",{role:"dropdownitem",onClick:this.showAdminDetails,ref:"admin"},e.createElement("button",null,t("Show User ID")))},s=function submissionsEntry(){var o=this.props.hasTeachingRole,s=w.hasAdminPrivileges(o);if(!s||!this.props.isProgrammingItem)return null;return e.createElement("li",{role:"dropdownitem",onClick:this.showSubmissions,ref:"submissions"},e.createElement("button",null,t("View submissions")))},f=e.createElement(r,{question:this.props.post,handleClose:this.hideEditQuestion,showReasons:!this.state.postedByUser}),g=function editWithModerationModal(){return e.createElement(p,{handleCancel:o.hideEditWithModerationModal,handleSuccess:o.editWithModerationModalSuccess})},M=e.createElement(h,{post:this.props.post,handleClose:this.hideFlaggingModal}),b=e.createElement(m,{post:this.props.post,handleClose:this.hideShareModal,forumLink:this.props.forumLink}),y=e.createElement("ul",{role:"dropdown",className:"styleguide dropdown"},i.call(this),n.call(this),d.call(this),l.call(this),s.call(this),a),c=e.createElement(u,{showReasons:!this.state.postedByUser,onDeleteSuccess:this.props.onDeleteSuccess,handleClose:this.hideDeleteModal,post:this.props.post});return e.createElement("div",{className:"rc-Dropdown align-self-start"},e.createElement("button",{"aria-haspopup":"true","aria-label":"Settings Menu",ref:"open",onClick:this.openDropdown},e.createElement("i",{className:"cif-chevron-down c-dropdown-chevron"})),this.state.expandDropdown&&y,this.state.showDeleteModal&&c,this.state.showEditThreadModal&&f,this.state.showEditWithModerationModal&&g(),this.state.showFlaggingModal&&M,this.state.showShareModal&&b)},ModerationDropdown}(e.Component),o.propTypes={creator:e.PropTypes.object.isRequired,post:e.PropTypes.object.isRequired,hasTeachingRole:e.PropTypes.bool,onDeleteSuccess:e.PropTypes.func,isProgrammingItem:e.PropTypes.bool,forumLink:e.PropTypes.string,courseSlug:e.PropTypes.string,userId:e.PropTypes.number,authenticated:e.PropTypes.bool,isSuperuser:e.PropTypes.bool,hasModerationRole:e.PropTypes.bool},o.contextTypes={viewContext:e.PropTypes.instanceOf(i),executeAction:e.PropTypes.func.isRequired},n);module.exports=_.compose(S({fields:["forumType"]}),y(E),D(["CourseMembershipStore","CourseStore","ApplicationStore"],function(e,n,t){var r=e.CourseMembershipStore,d=e.CourseStore,o=e.ApplicationStore,s=void 0;s=b()?n.currentForum&&n.currentForum.forumType.definition.itemId:!!t.viewContext&&"item"===t.viewContext.get("type")&&t.viewContext.get("id");var i=!!s&&d.getMaterials().getItemMetadata(s),a=i&&i.getTypeName(),l=_(["gradedProgramming","ungradedProgramming"]).includes(a);return{hasTeachingRole:r.hasTeachingRole(),isProgrammingItem:l,isSuperuser:o.isSuperuser(),userId:o.getUserData().id,authenticated:o.isAuthenticatedUser()}},{viewContext:e.PropTypes.instanceOf(i)}))(C)});

define('css!bundles/discussions/components/profiles/__styles__/ProfileArea',[],function(){})
define("bundles/discussions/components/profiles/ProfileArea",["require","exports","module","react","react-router","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileArea"],function(require,exports,module){function _defaults(e,s){for(var n=Object.getOwnPropertyNames(s),r=0;r<n.length;r++){var t=n[r],o=Object.getOwnPropertyDescriptor(s,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),o=require("react-router"),s=o.Link,n=require("bundles/classmates/components/ProfileImageWithRole"),i=require("bundles/classmates/components/MiniProfileRenderer"),l=require("bundles/discussions/utils/discussionsUrl"),a=l.getProfileLink;require("css!./__styles__/ProfileArea");var c=(t=r=function(r){function ProfileArea(){return _classCallCheck(this,ProfileArea),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ProfileArea,r),ProfileArea.prototype.render=function render(){var t=this,r=this.props,o=r.externalUserId,c=r.fullName,u=r.profileImageUrl,l=r.courseRole;return e.createElement("span",{className:"rc-ProfileArea"},e.createElement(s,{className:"nostyle c-profile-image-wrapper",to:a(o),onMouseEnter:function onMouseEnter(e){return t.refs.miniProfile.display(e)},onMouseLeave:function onMouseLeave(e){return t.refs.miniProfile.hide(e)}},e.createElement(n,{courseRole:l,profileImageUrl:u,fullName:c})),e.createElement("span",{"data-js":"mini-profile"},e.createElement(i,{ref:"miniProfile",source:"profileArea",externalId:o,courseRole:l})))},ProfileArea}(e.Component),r.propTypes={externalUserId:e.PropTypes.string.isRequired,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string,courseRole:e.PropTypes.string},r.contextTypes={router:e.PropTypes.object.isRequired},t);module.exports=c});

define('css!bundles/discussions/components/__styles__/AdminDetails',[],function(){})
define("bundles/discussions/components/AdminDetails",["require","exports","module","i18n!nls/discussions","react","css!./__styles__/AdminDetails"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),t=0;t<o.length;t++){var n=o[t],r=Object.getOwnPropertyDescriptor(s,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,r=require("i18n!nls/discussions"),e=require("react");require("css!./__styles__/AdminDetails");var s=(n=t=function(t){function AdminDetails(){return _classCallCheck(this,AdminDetails),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(AdminDetails,t),AdminDetails.prototype.render=function render(){var t=this.props.post;return t.showAdminDetails?e.createElement("div",{className:"rc-AdminDetails align-self-end"},e.createElement("p",null,r("User ID")+": "+t.creator.userId)):null},AdminDetails}(e.Component),t.propTypes={post:e.PropTypes.object.isRequired},n);module.exports=s});

define('css!bundles/discussions/components/__styles__/Badge',[],function(){})
define("bundles/discussions/components/Badge",["require","exports","module","react","i18n!nls/discussions","css!./__styles__/Badge"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("i18n!nls/discussions");require("css!./__styles__/Badge");var o=(r=t=function(t){function Badge(){return _classCallCheck(this,Badge),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(Badge,t),Badge.prototype.render=function render(){var r=this.props.creator,o="rc-Badge ";if(r.isSuperuser)return e.createElement("span",{className:o+"bgcolor-primary-light"},n("Coursera Staff"));var s=r.courseRole,t=void 0;switch(s){case"MENTOR":t="Mentor";break;case"INSTRUCTOR":t="Instructor";break;case"TEACHING_STAFF":t="Teaching Staff";break;case"UNIVERSITY_ADMIN":t="Staff";break;case"DATA_COORDINATOR":t="Staff";break;default:t=""}if(t)return e.createElement("span",{className:o+"bgcolor-success-light"},t);return null},Badge}(e.Component),t.propTypes={creator:e.PropTypes.object},r);module.exports=o});
define("bundles/discussions/components/NextViewLink",["require","exports","module","underscore","react","react-router","js/lib/path","bundles/discussions/viewModels/viewContext","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/components/discussionsForumsHOC","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","js/lib/mapProps"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),s=0;s<r.length;s++){var t=r[s],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,t,r=require("underscore"),i=r.compose,e=require("react"),u=require("react-router"),c=u.Link,n=require("js/lib/path"),p=require("bundles/discussions/viewModels/viewContext"),a=require("bundles/discussions/actions/ThreadDetailsActions"),l=a.fetchNextViewInfo,d=require("bundles/discussions/components/discussionsForumsHOC"),f=require("bundles/discussions/utils/discussionsApiRolloutUtil"),o=f.useNewForumApis,m=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),b=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),h=require("js/lib/mapProps"),y=(t=s=function(s){function NextViewLink(){return _classCallCheck(this,NextViewLink),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(NextViewLink,s),NextViewLink.prototype.componentWillMount=function componentWillMount(){var e=this.props,t=e.courseId,s=e.question;!o()&&"string"!=typeof s.nextViewName&&this.context.viewContext&&this.context.executeAction(l,{viewContext:this.context.viewContext,question:s,courseId:t})},NextViewLink.prototype.render=function render(){var s=void 0,t=void 0;if(o()){if(!this.props.questionForum)return null;s=n.join(this.props.rootPath,this.props.questionForum.link),t=this.props.questionForum.title}else s=this.props.question.nextViewLink,t=this.props.question.nextViewName;if(!s||!t)return null;return e.createElement("span",{className:"rc-NextViewName"},e.createElement(c,{to:s,className:"caption-text"},t))},NextViewLink}(e.Component),s.propTypes={question:e.PropTypes.object.isRequired,courseId:e.PropTypes.string,questionForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(m),e.PropTypes.instanceOf(b)]),rootPath:e.PropTypes.string},s.contextTypes={viewContext:e.PropTypes.instanceOf(p),executeAction:e.PropTypes.func.isRequired},t);module.exports=i(d({fields:["link","title"]}),h(function(e){var s=e.question.forumId;return{questionForum:e.courseForums.concat(e.mentorForums)&&e.courseForums.find(function(e){return e.forumId===s}),rootPath:"/learn/"+e.courseSlug}}))(y)});
define("bundles/discussions/components/CreatedTimeLink",["require","exports","module","react","moment","bundles/discussions/utils/discussionsUrl"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,t,e=require("react"),n=require("moment"),o=require("bundles/discussions/utils/discussionsUrl"),s=o.buildUrl,i=(t=r=function(t){function CreatedTimeLink(){return _classCallCheck(this,CreatedTimeLink),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CreatedTimeLink,t),CreatedTimeLink.prototype.render=function render(){var t=this.props.post,r=s(this.props.forumLink,t.questionId,t.answerId,t.commentId),o=n(new Date(t.createdAt)).fromNow();return e.createElement("a",{href:r,target:"_blank",className:"rc-CreatedTimeLink dim color-hint-text caption-text"},o)},CreatedTimeLink}(e.Component),r.propTypes={post:e.PropTypes.object.isRequired,forumLink:e.PropTypes.string},t);module.exports=i});
define("bundles/discussions/components/EditIndicator",["require","exports","module","react","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("i18n!nls/discussions"),o=(r=t=function(t){function EditIndicator(){return _classCallCheck(this,EditIndicator),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(EditIndicator,t),EditIndicator.prototype.render=function render(){var t=this.props.post;if(!t.state.edited)return null;var r=t.state.edited.userId!==t.creator.userId;return e.createElement("span",{className:"rc-EditIndicator"},e.createElement("span",null," · "),n(r?"Edited by moderator":"Edited"))},EditIndicator}(e.Component),t.propTypes={post:e.PropTypes.object.isRequired},r);module.exports=o});

define('css!bundles/discussions/components/__styles__/Upvote',[],function(){})
define("bundles/discussions/components/Upvote",["require","exports","module","react","i18n!nls/discussions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Upvote"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var o=s[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),n=require("i18n!nls/discussions"),s=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("bundles/discussions/actions/ThreadDetailsActions"),c=r.upvote,i=r.cancelUpvote;require("css!./__styles__/Upvote");var p=(o=t=function(t){function Upvote(){var n,e,r;_classCallCheck(this,Upvote);for(var s=arguments.length,p=Array(s),o=0;s>o;o++)p[o]=arguments[o];return n=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(p))),e.toggleUpvote=function(){var t=e.props.post;t.isUpvoted?e.context.executeAction(i,{post:t}):e.context.executeAction(c,{post:t})},r=n,_possibleConstructorReturn(e,r)}return _inherits(Upvote,t),Upvote.prototype.formatVoteCount=function formatVoteCount(t){var e=t;return e.toString().length>3&&(e=Math.round(e/1e3*10)/10,e+="k"),e},Upvote.prototype.render=function render(){if(!this.props.post)return null;var t=this.props.post,r=t.creator.userId===this.props.userId,s=void 0===t.upvotes?t.upvoteCount:t.upvotes,o=this.formatVoteCount(s),c=t.upvoteError;return r?e.createElement("div",{className:"rc-Upvote"},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",o)):e.createElement("button",{className:"rc-Upvote",onClick:this.toggleUpvote},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",o," ",!t.isUpvoted&&n("Upvote")),c&&e.createElement("span",null,n("Sorry, something went wrong")))},Upvote}(e.Component),t.propTypes={post:e.PropTypes.object,userId:e.PropTypes.string},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=s(["ApplicationStore"],function(e){var t=e.ApplicationStore;return{userId:t.getUserData().id}})(p)});

define('css!bundles/discussions/components/__styles__/Follow',[],function(){})
define("bundles/discussions/components/Follow",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Follow"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++){var t=s[o],n=Object.getOwnPropertyDescriptor(r,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var o,t,e=require("react"),n=require("i18n!nls/discussions"),r=require("bundles/discussions/actions/ThreadDetailsActions"),s=r.follow,i=r.unfollow;require("css!./__styles__/Follow");var l=(t=o=function(o){function Follow(){var n,e,r;_classCallCheck(this,Follow);for(var l=arguments.length,c=Array(l),t=0;l>t;t++)c[t]=arguments[t];return n=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(c))),e.toggleFollowing=function(){var o=e.props.question;o.isFollowing?e.context.executeAction(i,{question:o}):e.context.executeAction(s,{question:o})},r=n,_possibleConstructorReturn(e,r)}return _inherits(Follow,o),Follow.prototype.render=function render(){var o=this.props.question,r=o.isFollowing,t=o.followerCount,s=o.followCount,i=o.followError,l=void 0===t?s:t;return e.createElement("button",{onClick:this.toggleFollowing,className:"rc-Follow"},e.createElement("span",null,n(r?"Unfollow":"Follow")," "),e.createElement("span",{className:"follow-number"},l),i&&e.createElement("span",null,n("Sorry, something went wrong")))},Follow}(e.Component),o.propTypes={question:e.PropTypes.object.isRequired},o.contextTypes={executeAction:e.PropTypes.func.isRequired},t);module.exports=l});

define('css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion',[],function(){})
define("bundles/discussions/components/discussionsBody/DetailedQuestion",["require","exports","module","i18n!nls/discussions","classnames","react","bundles/cml/components/CML","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/profiles/ProfileArea","js/lib/coursera.react-intl","bundles/discussions/components/AdminDetails","bundles/discussions/components/Badge","bundles/discussions/components/NextViewLink","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/ProfileName","bundles/discussions/components/Upvote","bundles/discussions/components/Follow","css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),s=0;s<i.length;s++){var n=i[s],t=Object.getOwnPropertyDescriptor(o,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,n,i=require("i18n!nls/discussions"),t=require("classnames"),e=require("react"),r=require("bundles/cml/components/CML"),c=require("bundles/discussions/components/ModerationDropdown"),o=require("bundles/discussions/components/profiles/ProfileArea"),l=require("js/lib/coursera.react-intl"),a=l.FormattedMessage,u=require("bundles/discussions/components/AdminDetails"),d=require("bundles/discussions/components/Badge"),p=require("bundles/discussions/components/NextViewLink"),m=require("bundles/discussions/components/CreatedTimeLink"),f=require("bundles/discussions/components/EditIndicator"),b=require("bundles/discussions/components/ProfileName"),y=require("bundles/discussions/components/Upvote"),E=require("bundles/discussions/components/Follow");require("css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion");var h=(n=s=function(s){function DetailedQuestion(){var t,e,o;_classCallCheck(this,DetailedQuestion);for(var i=arguments.length,r=Array(i),n=0;i>n;n++)r[n]=arguments[n];return t=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(r))),e.onDeleteSuccess=function(s){s||e.context.router.replace(e.props.forumLink)},o=t,_possibleConstructorReturn(e,o)}return _inherits(DetailedQuestion,s),DetailedQuestion.prototype.render=function render(){if(!this.props.question)return null;var l=this.props,s=l.question,h=l.forumLink,g=s.flagDetails&&s.flagDetails.isActive||s.isFlagged,x=t("headline-3-text",{flagged:g}),v=t({flagged:g}),n=s.creator;return e.createElement("div",{className:"rc-DetailedQuestion card-rich-interaction horizontal-box"},e.createElement("div",{className:"profile"},e.createElement(o,{externalUserId:n.externalUserId,fullName:n.fullName,profileImageUrl:n.isDefaultPhoto?"":n.photoUrl||""})),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("h5",{className:x},s.content.question),this.props.isPinned&&e.createElement("i",{className:"cif-pin cif-lg pin"})),e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(b,{fullName:n.fullName,externalId:n.externalUserId}),e.createElement(d,{creator:n}),e.createElement(p,{question:this.props.question}),e.createElement("span",null," · "),e.createElement(m,{post:s,forumLink:h}),e.createElement(f,{post:s})),e.createElement("div",{className:v},e.createElement(r,{cml:s.content.details,className:v})),e.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},e.createElement(y,{post:s}),e.createElement("span",null," · "),e.createElement(E,{question:s}),e.createElement("span",null," · "),e.createElement("button",{href:"#input-container",onClick:this.props.goToInput},e.createElement(a,{message:i("Reply to {username}"),username:s.creator.fullName})))),e.createElement(u,{post:s}),e.createElement(c,{onDeleteSuccess:this.onDeleteSuccess,creator:s.creator,post:s,forumLink:h}))},DetailedQuestion}(e.Component),s.propTypes={goToInput:e.PropTypes.func.isRequired,question:e.PropTypes.object,isPinned:e.PropTypes.bool,forumLink:e.PropTypes.string},s.contextTypes={router:e.PropTypes.object.isRequired},n);module.exports=h});
define("bundles/discussions/components/SessionDetails",["require","exports","module","underscore","i18n!nls/discussions","js/lib/coursera.react-intl","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var n=o[t],s=Object.getOwnPropertyDescriptor(r,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,s,o=require("underscore"),r=o.compose,t=require("i18n!nls/discussions"),i=require("js/lib/coursera.react-intl"),a=i.FormattedMessage,e=require("react"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),l=(s=n=function(n){function SessionDetails(){return _classCallCheck(this,SessionDetails),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(SessionDetails,n),SessionDetails.prototype.renderSessionDetails=function renderSessionDetails(){if(this.props.isPinned)return t("This thread is visible to all learners because it is pinned.");if(this.props.hasSession)return e.createElement(a,{message:t("This thread is only visible to learners in the {startDate} - {endDate} session."),startDate:this.props.startedAt,endDate:this.props.endedAt});return t("This thread is only visible to on-demand learners.")},SessionDetails.prototype.render=function render(){return e.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},this.renderSessionDetails())},SessionDetails}(e.Component),n.propTypes={question:e.PropTypes.object.isRequired,hasSession:e.PropTypes.bool,startedAt:e.PropTypes.string,endedAt:e.PropTypes.string,isPinned:e.PropTypes.bool},s);module.exports=r(c(["SessionStore"],function(n,s){var t=n.SessionStore,r=s.question,e=t.getAllSessions()&&t.getAllSessions().find(function(e){return e.id===r.sessionId});return{hasSession:!!e,startedAt:e&&t.formatDate(e.startedAt),endedAt:e&&t.formatDate(e.endedAt)}}))(l)});

define('css!bundles/discussions/components/repliesList/__styles__/RepliesSortBar',[],function(){})
define("bundles/discussions/components/repliesList/RepliesSortBar",["require","exports","module","classnames","react","react-router","i18n!nls/discussions","bundles/discussions/constants","css!./__styles__/RepliesSortBar"],function(require,exports,module){function _defaults(e,o){for(var n=Object.getOwnPropertyNames(o),t=0;t<n.length;t++){var s=n[t],r=Object.getOwnPropertyDescriptor(o,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i,a,t=require("classnames"),e=require("react"),u=require("react-router"),n=u.Link,s=require("i18n!nls/discussions"),o=require("bundles/discussions/constants").answerSorts,c=o.oldestSort,l=o.popularSort,p=o.newestSort,r=function generateUrl(e){return window.location.pathname+"?sort="+e+"&page=1"};require("css!./__styles__/RepliesSortBar");var f=(a=i=function(o){function RepliesSortBar(){return _classCallCheck(this,RepliesSortBar),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(RepliesSortBar,o),RepliesSortBar.prototype.render=function render(){var o=t("rc-RepliesSortBar","horizontal-box","align-items-spacebetween"),i=t("tab",{selected:this.props.sort===c}),a=t("tab",{selected:this.props.sort===l}),u=t("tab",{selected:this.props.sort===p});return e.createElement("div",{className:o},e.createElement("ul",{className:"tabs flex-2 shrink-block sorting-tabs horizontal-box"},e.createElement("li",{className:i},e.createElement(n,{to:r(c),title:"Show oldest replies."},s("Earliest"))),e.createElement("li",{className:a},e.createElement(n,{to:r(l),title:"Show most popular replies."},s("Top"))),e.createElement("li",{className:u},e.createElement(n,{to:r(p),title:"Show latest replies."},s("Most Recent")))))},RepliesSortBar}(e.Component),i.propTypes={sort:e.PropTypes.string},i.contextTypes={executeAction:e.PropTypes.func.isRequired},a);module.exports=f});
define("bundles/discussions/utils/generateReplyData",["require","exports","module","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/discussions/constants"],function(require,exports,module){var e=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},n=require("bundles/discussions/utils/discussionsApiRolloutUtil"),t=n.useNewForumApis,u=require("bundles/discussions/constants"),s=u.naptimeForumTypes;module.exports=function(n,o,r){var u={};return t()&&(n.forumType===s.mentorForumType?u.mentorForumQuestionId=o+"~"+n.questionId:n.forumType===s.groupForumType||(u.courseForumQuestionId=o+"~"+n.questionId),"answer"===n.type&&(u.parentForumAnswerId=o+"~"+n.answerId.split("~")[2])),{data:e({content:r,questionId:n.questionId,parentAnswerId:n.answerId||null},u)}}});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyCML',[],function(){})
define("bundles/discussions/components/repliesList/ReplyCMLInput",["require","exports","module","underscore","react","react-dom","classnames","bundles/cml/components/CMLOrFallbackEditor","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/cml/constants/CMLEditorPlugins","bundles/discussions/constants","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/actions/ThreadsActions","bundles/page/components/TrackedButton","bundles/discussions/utils/generateReplyData","bundles/discussions/components/discussionsForumsHOC","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","i18n!nls/discussions","css!./__styles__/ReplyCML"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),s=0;s<r.length;s++){var t=r[s],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var t,i,m=require("underscore"),D=m.compose,e=require("react"),s=require("react-dom"),c=require("classnames"),u=require("bundles/cml/components/CMLOrFallbackEditor"),l=require("bundles/cml/utils/CMLUtils"),n=require("bundles/discussions/utils/DiscussionsCMLUtils"),d=require("bundles/cml/constants/CMLEditorPlugins"),a=require("bundles/discussions/constants"),p=require("bundles/discussions/constants"),o=p.savingStates,f=require("bundles/discussions/actions/ThreadDetailsActions"),b=f.savePost,h=require("bundles/discussions/actions/ThreadsActions"),y=h.clearThreadsCache,g=require("bundles/page/components/TrackedButton"),v=require("bundles/discussions/utils/generateReplyData"),T=require("bundles/discussions/components/discussionsForumsHOC"),C=require("js/lib/connectToRouter"),P=require("bundles/discussions/utils/routerConnectToCurrentForum"),E=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),O=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),r=require("i18n!nls/discussions");require("css!./__styles__/ReplyCML");var R=(i=t=function(t){function ReplyCMLInput(o,r){_classCallCheck(this,ReplyCMLInput);var e=_possibleConstructorReturn(this,t.call(this,o,r));return e.handleInputChange=function(s){e.setState({cml:s,hasErrors:!n.validateLength(s),submitEnabled:!0})},e.handleSubmit=function(){if(e.state.hasErrors)return void s.findDOMNode(e.refs.content.refs.editorWrapper.refs.editor).focus();var n=v(e.props.parentPost,e.props.courseId,e.state.cml);e.context.executeAction(y);var t=e.props.currentForum;e.context.executeAction(b,{options:n,parentPost:e.props.parentPost,forumType:t&&t.forumType.typeName}),e.setState({submitEnabled:!1})},e.setFocus=function(){e.setState({focus:!0})},e.state=e.getDefaultState(),e}return _inherits(ReplyCMLInput,t),ReplyCMLInput.prototype.componentDidMount=function componentDidMount(){s.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).addEventListener("focus",this.setFocus)},ReplyCMLInput.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.savingState!==this.props.savingState&&(e.savingState===o.SAVED?this.setState(Object.assign(this.getDefaultState(),{editorKey:this.state.editorKey+1})):e.savingState===o.ERROR),this.props.shouldFocusCounter<e.shouldFocusCounter&&this.focus()},ReplyCMLInput.prototype.componentWillUnmount=function componentWillUnmount(){s.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).removeEventListener("focus",this.setFocus)},ReplyCMLInput.prototype.getDefaultState=function getDefaultState(){var e=[];return this.props.hideToolbar||"answer"!==!this.props.parentPost.type||e.push(d.ToolbarVisibility),{blocks:n.getDefaultBlocks(),cml:l.create("",a.DTD_NAME),hasErrors:!1,submitEnabled:!1,disabledPlugins:e,focus:!1,editorKey:1}},ReplyCMLInput.prototype.focus=function focus(){setTimeout(function(){s.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus(),s.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).click()}.bind(this),0)},ReplyCMLInput.prototype.render=function render(){var s=n.generateContentLengthWarning(this.state.cml),t=e.createElement("div",{className:"c-error-text c-form-error-message"},r("Something went wrong. Please reload the page and try again.")),i=c({"rc-ReplyCML":!0,collapsed:!this.state.focus}),a=this.props.parentPost.questionId;return e.createElement("div",{className:i},e.createElement("div",{className:"editor-container"},e.createElement(u,{ref:"content",onChange:this.handleInputChange,placeholder:r(this.props.placeholder),cml:this.state.cml,changeDelay:100,blocks:this.state.blocks,disabledPlugins:this.state.disabledPlugins,imageUploadOptions:n.getImageUploadOptions(this.props.courseId,a),title:r("Post Reply"),key:this.state.editorKey})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("div",{className:"flex-2"},s,this.props.savingState===o.ERROR&&t),e.createElement(g,{ref:"submit",disabled:!this.state.submitEnabled||this.state.hasErrors,className:"secondary",onClick:this.handleSubmit,trackingName:"thread_reply"},r("Reply"))))},ReplyCMLInput}(e.Component),t.propTypes={parentPost:e.PropTypes.object.isRequired,savingState:e.PropTypes.string.isRequired,shouldFocusCounter:e.PropTypes.number,hideToolbar:e.PropTypes.bool,placeholder:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(E),e.PropTypes.instanceOf(O)]),courseId:e.PropTypes.string},t.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},t.defaultProps={placeholder:"Reply",savingState:o.UNCHANGED},i);module.exports=D(T({fields:["link","title"]}),C(P))(R)});
define("bundles/discussions/components/repliesList/ReplyCMLEdit",["require","exports","module","i18n!nls/discussions","react","react-dom","bundles/cml/components/CMLOrFallbackEditor","bundles/cml/utils/CMLUtils","bundles/discussions/constants","bundles/discussions/utils/DiscussionsCMLUtils","bundles/cml/constants/CMLEditorPlugins","bundles/discussions/actions/DropdownActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/discussions/components/__styles__/NewThreadFormComponents"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var s=i[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,i,t=require("i18n!nls/discussions"),e=require("react"),r=require("react-dom"),l=require("bundles/cml/components/CMLOrFallbackEditor"),u=require("bundles/cml/utils/CMLUtils"),c=require("bundles/discussions/constants"),s=require("bundles/discussions/utils/DiscussionsCMLUtils"),d=require("bundles/cml/constants/CMLEditorPlugins"),a=require("bundles/discussions/actions/DropdownActions"),p=a.hideReplyEditor,m=a.editReply,b=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/discussions/components/__styles__/NewThreadFormComponents");var f=(o=n=function(n){function ReplyCMLEdit(r,a){_classCallCheck(this,ReplyCMLEdit);var o=_possibleConstructorReturn(this,n.call(this,r,a));i.call(o);var e=r.reply.content,t=e;if(!e||!e.typeName){var l="<co-content><text>"+(e||"")+"</text></co-content>";t=u.create(l,c.DTD_NAME)}return t.definition.dtdId=c.DTD_NAME,o.state={blocks:s.getDefaultBlocks(),initialValue:t.definition.value,cml:t,hasErrors:!1,submitError:!1,lengthError:!1,submitEnabled:!1},o}return _inherits(ReplyCMLEdit,n),ReplyCMLEdit.prototype.componentDidMount=function componentDidMount(){r.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus&&r.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus()},ReplyCMLEdit.prototype.hideEdit=function hideEdit(){this.context.executeAction(p,{reply:this.props.reply})},ReplyCMLEdit.prototype.render=function render(){var n=s.generateContentLengthWarning(this.state.cml),o=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Something went wrong. Please reload the page and try again.")),i=this.props.reply.questionId;return e.createElement("div",{className:"rc-ReplyCML","data-rc":"ReplyCML"},e.createElement("div",{className:"editor-container"},e.createElement(l,{ref:"content",placeholder:t("Reply"),onChange:this.handleInputChange,cml:this.state.cml,changeDelay:100,blocks:this.state.blocks,imageUploadOptions:s.getImageUploadOptions(this.props.courseId,i),disabledPlugins:[d.ToolbarVisibility],title:t("Edit Reply")})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("div",{className:"flex-2"},n,this.state.submitError&&o),e.createElement("button",{className:"passive cancel",onClick:this.handleCancel},t("Cancel")),e.createElement("button",{ref:"submit",className:"secondary",onClick:this.handleSubmit,disabled:!this.state.submitEnabled||this.state.hasErrors},t("Save"))))},ReplyCMLEdit}(e.Component),n.propTypes={reply:e.PropTypes.object.isRequired,courseId:e.PropTypes.string},n.contextTypes={executeAction:e.PropTypes.func.isRequired},i=function _initialiseProps(){var e=this;this.handleSubmit=function(){if(e.state.hasErrors)return void e.refs.content.refs.editorWrapper.refs.editor.focus();e.setState({submitEnabled:!1}),e.context.executeAction(m,{reply:e.props.reply,content:e.state.cml,handleFailure:e.onSubmitError,onSuccess:e.onSubmitSuccess})},this.handleCancel=function(){e.hideEdit()},this.handleInputChange=function(t){e.setState({cml:t,hasErrors:!s.validateLength(t),submitEnabled:t.definition.value!==e.state.initialValue})},this.onSubmitError=function(t){e.setState({submitError:!0,submitEnabled:!0})},this.onSubmitSuccess=function(){}},o);module.exports=b(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId()}})(f)});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyComponent',[],function(){})
define("bundles/discussions/components/repliesList/ReplyComponent",["require","exports","module","underscore","jquery","react","react-dom","classnames","i18n!nls/discussions","js/lib/coursera.react-intl","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/ProfileName","bundles/discussions/components/AdminDetails","bundles/cml/components/CML","bundles/discussions/components/repliesList/ReplyCMLEdit","bundles/discussions/components/Badge","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/Upvote","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/SoftDelete","bundles/discussions/utils/discussionsApiRolloutUtil","css!./__styles__/ReplyComponent"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var o=r[t],s=Object.getOwnPropertyDescriptor(n,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,_=require("underscore"),$=require("jquery"),e=require("react"),T=require("react-dom"),o=require("classnames"),t=require("i18n!nls/discussions"),a=require("js/lib/coursera.react-intl"),r=a.FormattedMessage,p=require("bundles/discussions/components/profiles/ProfileArea"),d=require("bundles/discussions/components/ProfileName"),c=require("bundles/discussions/components/AdminDetails"),u=require("bundles/cml/components/CML"),m=require("bundles/discussions/components/repliesList/ReplyCMLEdit"),f=require("bundles/discussions/components/Badge"),y=require("bundles/discussions/components/CreatedTimeLink"),b=require("bundles/discussions/components/EditIndicator"),h=require("bundles/discussions/components/Upvote"),g=require("bundles/discussions/components/ModerationDropdown"),E=require("bundles/discussions/components/SoftDelete"),v=require("bundles/discussions/utils/discussionsApiRolloutUtil"),w=v.useNewForumApis,i=1e3,l=10;require("css!./__styles__/ReplyComponent");var C=(n=s=function(s){function ReplyComponent(t,o){_classCallCheck(this,ReplyComponent);var e=_possibleConstructorReturn(this,s.call(this,t,o));return e.wrappedScrollToLocation=_.once(e.scrollToLocation),e}return _inherits(ReplyComponent,s),ReplyComponent.prototype.componentDidUpdate=function componentDidUpdate(){this.isDeepLinked()&&this.props.isQuestionLoaded&&this.wrappedScrollToLocation()},ReplyComponent.prototype.isDeepLinked=function isDeepLinked(){var o=this.props,e=o.reply,t=o.commentId,s=o.answerId;if(w())return t&&"comment"===e.type&&e.forumAnswerId===t||s&&!t&&e.forumAnswerId===s;return"comment"===e.type&&e.id===t||!t&&e.id===s},ReplyComponent.prototype.scrollToLocation=function scrollToLocation(){var t=T.findDOMNode(this.refs.reply),e=$(t).offset().top;if($("main.od-contents").length)$("main.od-contents").animate({scrollTop:e+$("main.od-contents").scrollTop()-$("main.od-contents").offset().top-l},i);else if("hidden"!==$("body").css("overflow")){var o=$(".rc-PageHeader").length?$(".rc-PageHeader")[0].offsetHeight:0;$("body").animate({scrollTop:e+$("body").scrollTop()-$("body").offset().top-o-l},i)}},ReplyComponent.prototype.renderShowToggle=function renderShowToggle(){var s=this.props,n=s.commentsEnabled,o=s.commentCount,i=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(r,{message:t("Show {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),l=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(r,{message:t("Hide {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),c=e.createElement("button",{onClick:this.props.toggleComments},t("Reply")),a=e.createElement("button",{onClick:this.props.toggleComments},t("Hide"));return n?o?l:a:o?i:c},ReplyComponent.prototype.render=function render(){var n=this.props,t=n.reply,r=n.forumLink,s=t.creator;if(t.hide)return null;var i=o("horizontal-box",{"bgcolor-primary-light":this.isDeepLinked()},"reply-content"),l=o("rc-ReplyComponent",this.props.className),a=o("reply-details",{flag:t.flagDetails&&t.flagDetails.isActive}),v=e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(d,{fullName:s.fullName,externalId:s.externalUserId}),e.createElement(f,{creator:s}),e.createElement("span",null," · "),e.createElement(y,{post:t,forumLink:r}),e.createElement(b,{post:t})),e.createElement("div",{className:a},e.createElement(u,{cml:t.content})),e.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},e.createElement(h,{post:t}),"answer"===t.type&&e.createElement("span",null," · "),"answer"===t.type&&this.renderShowToggle(),e.createElement(c,{post:t}))),w=e.createElement("div",{className:"flex-1"},e.createElement(m,{reply:t}));return e.createElement("li",{className:l,ref:"reply"},e.createElement("div",null,e.createElement("div",{className:i},e.createElement("div",{className:"profile"},e.createElement(p,{externalUserId:t.creator.externalUserId,fullName:t.creator.fullName,profileImageUrl:t.creator.isDefaultPhoto?"":t.creator.photoUrl||""})),t.showEditor?w:v,e.createElement(g,{creator:s,post:t,forumLink:r})),t.state.deleted&&e.createElement(E,{entry:t}),this.props.children))},ReplyComponent}(e.Component),s.propTypes={reply:e.PropTypes.object.isRequired,commentsEnabled:e.PropTypes.bool,toggleComments:e.PropTypes.func,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentCount:e.PropTypes.number,className:e.PropTypes.string,children:e.PropTypes.node,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string},n);module.exports=C});
define("bundles/discussions/components/repliesList/CommentPaginationContainer",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/components/ListBody","bundles/discussions/components/repliesList/ReplyComponent","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,e=require("react"),i=require("i18n!nls/discussions"),r=require("bundles/discussions/components/ListBody"),a=require("bundles/discussions/components/repliesList/ReplyComponent"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),p=require("bundles/discussions/constants"),t=p.loadingStates,l=require("bundles/discussions/actions/ThreadDetailsActions"),s=l.fetchMultipleCommentPages,d=(o=n=function(n){function CommentPaginationContainer(){var o,e,r;_classCallCheck(this,CommentPaginationContainer);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={loadingComments:!1},e.loadEarlierReplies=function(){var t=e.props,o=t.reply,r=t.commentPageRange,i=t.forumType,a=t.includeDeleted,n=r.endPage;e.context.executeAction(s,{forumType:i,includeDeleted:a,answerId:o.id,startPage:n+1,endPage:n+1}),e.setState({loadingComments:!0})},r=o,_possibleConstructorReturn(e,r)}return _inherits(CommentPaginationContainer,n),CommentPaginationContainer.prototype.componentWillMount=function componentWillMount(){var e=this.props,n=e.reply,t=e.answerId,o=e.commentId,r=e.forumType,i=e.includeDeleted;o&&n.id===t&&this.context.executeAction(s,{answerId:t,startPage:1,endPage:100,forumType:r,includeDeleted:i})},CommentPaginationContainer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.props.commentLoadingState===t.LOADING&&this.props.commentLoadingState!==e.commentLoadingState&&this.setState({loadingComments:!1})},CommentPaginationContainer.prototype.render=function render(){var p=this,n=this.props,f=n.reply,c=n.comments,s=n.commentLoadingState,d=n.answerId,u=n.commentId,l=n.commentPageRange,o=this.state.loadingComments||s===t.LOADING,m=o?t.DONE:s;if(0===f.childAnswerCount)return null;return e.createElement("div",{className:"rc-CommentPaginationContainer vertical-box"},l.endPage<l.totalPageCount&&e.createElement("button",{className:"secondary reply-load-button",onClick:this.loadEarlierReplies,disabled:o},o?e.createElement("span",{className:"cif-spinner cif-spin"}):i("See earlier replies")),e.createElement(r,{loadingState:m},c&&c.map(function(t,n){return e.createElement(a,{reply:t,key:t.id+n,answerId:d,commentId:u,commentsEnabled:!1,ref:t.id,isQuestionLoaded:p.props.isQuestionLoaded,forumLink:p.props.forumLink})})))},CommentPaginationContainer}(e.Component),n.propTypes={reply:e.PropTypes.object.isRequired,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentLoadingState:e.PropTypes.string,comments:e.PropTypes.array,commentPageRange:e.PropTypes.object,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string,forumType:e.PropTypes.string,includeDeleted:e.PropTypes.bool},n.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=c(d,["ThreadDetailsStore","ApplicationStore","CourseMembershipStore"],function(n,s){var e=n.ThreadDetailsStore,r=n.ApplicationStore,i=n.CourseMembershipStore,o=s.reply;return{comments:e.getLoadedComments(o.id),commentLoadingState:e.commentLoadingState[o.id]||t.LOADING,commentPageRange:e.getCommentPageRange(o.id),forumType:e.forumType,includeDeleted:i.hasModerationRole()||r.isSuperuser()}})});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyContainer',[],function(){})
define("bundles/discussions/components/repliesList/ReplyContainer",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/components/profiles/ProfileArea","pages/open-course/common/models/currentSocialProfile","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/repliesList/CommentPaginationContainer","bundles/discussions/components/repliesList/ReplyComponent","css!bundles/discussions/components/repliesList/__styles__/ReplyContainer"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,e=require("react"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("bundles/discussions/components/profiles/ProfileArea"),t=require("pages/open-course/common/models/currentSocialProfile"),i=require("bundles/discussions/components/repliesList/ReplyCMLInput"),l=require("bundles/discussions/components/repliesList/CommentPaginationContainer"),p=require("bundles/discussions/components/repliesList/ReplyComponent");require("css!bundles/discussions/components/repliesList/__styles__/ReplyContainer");var c=(n=s=function(s){function ReplyContainer(t,n){_classCallCheck(this,ReplyContainer);var e=_possibleConstructorReturn(this,s.call(this,t,n));return e.toggleComments=function(){e.setState({showComments:!e.state.showComments})},e.state={showComments:t.reply.childAnswerCount>0},e}return _inherits(ReplyContainer,s),ReplyContainer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(!this.props.comments||!e.comments)return;this.props.comments.length<e.comments.length&&this.setState({showComments:!0})},ReplyContainer.prototype.render=function render(){var s=this.props,n=s.reply,o=s.answerId,c=s.commentId,a=s.isClosed,m=s.savingState;if(n.hide)return null;return e.createElement(p,{reply:n,commentsEnabled:this.state.showComments,toggleComments:this.toggleComments,answerId:o,commentId:c,commentCount:n.childAnswerCount||0,className:"rc-ReplyContainer",isQuestionLoaded:this.props.isQuestionLoaded,forumLink:this.props.forumLink},this.state.showComments&&e.createElement("div",null,e.createElement(l,{reply:n,answerId:o,commentId:c,isQuestionLoaded:this.props.isQuestionLoaded,forumLink:this.props.forumLink}),!a&&e.createElement("div",{className:"comment-input horizontal-box"},e.createElement(r,{externalUserId:t.get("externalUserId"),fullName:t.get("fullName"),profileImageUrl:t.getProfileImageUrl()}),e.createElement(i,{savingState:m,parentPost:n}))))},ReplyContainer}(e.Component),s.propTypes={reply:e.PropTypes.object.isRequired,savingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,isClosed:e.PropTypes.bool,comments:e.PropTypes.array,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string},n);module.exports=o(c,["ThreadDetailsStore","ThreadSettingsStore"],function(e,n){var t=e.ThreadDetailsStore,o=e.ThreadSettingsStore,s=n.reply;return{comments:t.getLoadedComments(s.id),isClosed:o.isClosed(),savingState:t.savingStates[s.id]}})});
define("bundles/discussions/components/repliesList/RepliesList",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","bundles/discussions/components/repliesList/RepliesSortBar","bundles/discussions/components/repliesList/ReplyContainer","bundles/page/components/PaginationControls","bundles/discussions/components/ListBody","bundles/discussions/constants","bundles/discussions/viewModels/viewContext","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("i18n!nls/discussions"),p=require("bundles/discussions/components/repliesList/RepliesSortBar"),a=require("bundles/discussions/components/repliesList/ReplyContainer"),c=require("bundles/page/components/PaginationControls"),u=require("bundles/discussions/components/ListBody"),l=require("bundles/discussions/constants"),o=l.loadingStates,s=require("bundles/discussions/viewModels/viewContext");require("css!bundles/page/components/__styles__/PaginationControls.css");var d=(n=t=function(t){function RepliesList(){var o,s,r;_classCallCheck(this,RepliesList);for(var i=arguments.length,p=Array(i),n=0;i>n;n++)p[n]=arguments[n];return o=s=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(p))),s.onPageChange=function(e){s.context.router.push({pathname:s.context.router.location.pathname,params:s.context.router.params,query:Object.assign(s.context.router.location.query,{page:e})})},s.renderReply=function(t,n){return e.createElement(a,{reply:t,savingState:s.props.savingStates[t.id],answerId:s.props.answerId,commentId:s.props.commentId,isQuestionLoaded:s.props.isLoaded,key:n,ref:t.id,forumLink:s.props.forumLink})},r=o,_possibleConstructorReturn(s,r)}return _inherits(RepliesList,t),RepliesList.prototype.getChildContext=function getChildContext(){return{viewContext:this.props.viewContext}},RepliesList.prototype.render=function render(){var t=this.props.loadingState===o.DONE;return e.createElement("div",null,e.createElement("div",{className:"rc-RepliesList card-rich-interaction nostyle"},e.createElement(p,{sort:this.props.sort}),e.createElement(u,{emptyStatePlaceholderText:r("No Replies Yet"),loadingState:this.props.loadingState},this.props.replies&&this.props.replies.map(this.renderReply))),t&&!!this.props.pageCount&&e.createElement(c,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))},RepliesList}(e.Component),t.propTypes={sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,questionId:e.PropTypes.string.isRequired,savingStates:e.PropTypes.object.isRequired,replies:e.PropTypes.array.isRequired,loadingState:e.PropTypes.string.isRequired,isLoaded:e.PropTypes.bool.isRequired,answerId:e.PropTypes.string,commentId:e.PropTypes.string,pageCount:e.PropTypes.number,viewContext:e.PropTypes.instanceOf(s),forumLink:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired,viewContext:e.PropTypes.instanceOf(s)},t.childContextTypes={viewContext:e.PropTypes.instanceOf(s)},n);module.exports=i(d,["ThreadDetailsStore"],function(i,r){var e=i.ThreadDetailsStore,t=r.questionId,s=r.page,n=r.sort;return{replies:e.getReplies(t,s,n)||[],pageCount:e.getPageCount(t,s,n),savingStates:e.savingStates,loadingState:e.getAnswerLoadedState({questionId:t,page:s,sort:n})||o.LOADING,isLoaded:e.isLoaded({questionId:t,page:s,sort:n})}})});
define("bundles/discussions/components/threadSettings/CloseThreadButton",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),r=require("i18n!nls/discussions"),n=require("bundles/discussions/actions/ThreadSettingsActions"),s=n.closeThread,i=n.uncloseThread,c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=(o=t=function(t){function CloseThreadButton(){var r,e,n;_classCallCheck(this,CloseThreadButton);for(var c=arguments.length,u=Array(c),o=0;c>o;o++)u[o]=arguments[o];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(u))),e.toggleClosed=function(){e.props.isClosed?e.context.executeAction(i,{questionId:e.props.questionId,forumType:e.props.forumType}):e.context.executeAction(s,{questionId:e.props.questionId,forumType:e.props.forumType})},n=r,_possibleConstructorReturn(e,n)}return _inherits(CloseThreadButton,t),CloseThreadButton.prototype.renderErrorState=function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},r("Sorry, something went wrong. Try again."));return null},CloseThreadButton.prototype.render=function render(){return e.createElement("button",{className:"rc-CloseThreadButton nostyle",onClick:this.toggleClosed},r(this.props.isClosed?"Undo Close":"Close"),this.renderErrorState())},CloseThreadButton}(e.Component),t.propTypes={questionId:e.PropTypes.string,forumType:e.PropTypes.string,isClosed:e.PropTypes.bool,isError:e.PropTypes.bool},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=c(u,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),forumType:e.getForumType(),isClosed:e.isClosed(),isError:e.isError()}})});
define("bundles/discussions/components/threadSettings/PinThreadButton",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("i18n!nls/discussions"),o=require("bundles/discussions/actions/ThreadSettingsActions"),s=o.pinThread,i=o.unpinThread,u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=(n=t=function(t){function PinThreadButton(){var r,e,o;_classCallCheck(this,PinThreadButton);for(var u=arguments.length,c=Array(u),n=0;u>n;n++)c[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(c))),e.toggleClosed=function(){e.props.isPinned?e.context.executeAction(i,{questionId:e.props.questionId,forumType:e.props.forumType}):e.context.executeAction(s,{questionId:e.props.questionId,forumType:e.props.forumType})},o=r,_possibleConstructorReturn(e,o)}return _inherits(PinThreadButton,t),PinThreadButton.prototype.renderErrorState=function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},r("Sorry, something went wrong. Try again."));return null},PinThreadButton.prototype.render=function render(){return e.createElement("button",{className:"nostyle rc-PinThreadButton",onClick:this.toggleClosed},r(this.props.isPinned?"Undo Pin":"Pin"),this.renderErrorState())},PinThreadButton}(e.Component),t.propTypes={questionId:e.PropTypes.string,forumType:e.PropTypes.string,isPinned:e.PropTypes.bool,isError:e.PropTypes.bool},t.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=u(c,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),forumType:e.getForumType(),isPinned:e.isPinned(),isError:e.isError()}})});

define('css!bundles/discussions/components/threadSettings/__styles__/MoveThreadModal',[],function(){})
define("bundles/discussions/components/threadSettings/MoveThreadModal",["require","exports","module","underscore","q","jsuri","i18n!nls/discussions","react","naptime","js/lib/path","bundles/phoenix/components/Modal","bundles/discussions/viewModels/viewContext","bundles/discussions/singletons/viewContexts","bundles/discussions/utils/discussionsUrl","bundles/discussions/api/threadActionsApiUtil","bundles/discussions/components/NewThreadFormComponents","bundles/discussions/api/questions","bundles/discussions/utils/discussionsApiRolloutUtil","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/naptimejs/resources/onDemandCourseForums.v1","js/lib/mapProps","js/lib/waitFor","bundles/discussions/constants","css!./__styles__/MoveThreadModal"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,i,_=require("underscore"),g=require("q"),I=require("jsuri"),t=require("i18n!nls/discussions"),e=require("react"),d=require("naptime"),c=require("js/lib/path"),l=require("bundles/phoenix/components/Modal"),p=require("bundles/discussions/viewModels/viewContext"),m=require("bundles/discussions/singletons/viewContexts"),a=require("bundles/discussions/utils/discussionsUrl"),u=a.buildUrl,f=require("bundles/discussions/api/threadActionsApiUtil"),h=f.moveQuestion,v=require("bundles/discussions/components/NewThreadFormComponents"),y=v.ForumSelector,b=require("bundles/discussions/api/questions"),F=require("bundles/discussions/utils/discussionsApiRolloutUtil"),s=F.useNewForumApis,C=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),T=require("js/lib/mapProps"),w=require("js/lib/waitFor"),S=require("bundles/discussions/constants"),M=S.naptimeForumTypes;require("css!./__styles__/MoveThreadModal");var x=(r=o=function(o){function MoveThreadModal(e,d){_classCallCheck(this,MoveThreadModal);var t=_possibleConstructorReturn(this,o.call(this,e,d));i.call(t);var c=e.question,u=c.context,n=void 0,a=null,r=void 0;if(s()){var l=e.courseForums.filter(function(e){return e.parentForumId===t.props.rootForumId});a=_(l.map(function(t){return[t].concat(e.courseForums.filter(function(e){return e.parentForumId===t.id}))})).flatten().map(function(e){return Object.assign(e,{type:e.forumType.typeName})}),r=Object.assign(e.questionForum,{type:e.questionForum.forumType.typeName}),n=e.questionForum.id}else r={id:e.viewContext.get("id"),title:e.viewContext.getDisplayName(),type:e.viewContext.get("type"),link:e.viewContext.get("discussionsLink")},n=u.definition[u.typeName+"Id"];return t.state={saving:!1,saveError:!1,selectedForum:r,forums:a,initialId:n},t}return _inherits(MoveThreadModal,o),MoveThreadModal.prototype.componentWillMount=function componentWillMount(){var e=this;s()||m().then(function(s){var t=s.filter(function(e){return"course"!==e.get("type")&&"module"!==e.get("type")}).map(function(e){return{id:e.get("id"),title:e.getDisplayName(),type:e.get("type"),link:e.get("discussionsLink")}});e._isMounted&&e.setState({forums:t,selectedForum:_(t).find(function(t){return t.id===e.state.initialId})})})},MoveThreadModal.prototype.componentDidMount=function componentDidMount(){this._isMounted=!0},MoveThreadModal.prototype.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},MoveThreadModal.prototype.closeModal=function closeModal(){this.props.handleClose()},MoveThreadModal.prototype.render=function render(){var s=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Sorry, there was a problem moving this thread. Please reload the page and try again."));return e.createElement("div",{className:"rc-MoveThreadModal styleguide"},e.createElement(l,{handleClose:this.handleCloseModal,modalName:t("Move thread"),ref:"moveThreadModal"},e.createElement("h1",{className:"c-modal-title display-1-text"},t("Move Thread")),this.state.forums&&e.createElement(y,{ref:"currentForum",handleInputChange:this.handleInputChange,forums:this.state.forums,value:this.state.selectedForum,rootForumId:this.props.rootForumId}),e.createElement("div",{className:"horizontal-box align-items-right"},this.state.saveError&&s,e.createElement("button",{className:"passive",onClick:this.handleCancel},t("Cancel")),e.createElement("button",{ref:"submit",disabled:this.state.saving||!this.state.selectedForum||this.state.selectedForum.id===this.state.initialId,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit")))))},MoveThreadModal}(e.Component),o.propTypes={viewContext:e.PropTypes.instanceOf(p),question:e.PropTypes.object.isRequired,handleClose:e.PropTypes.func.isRequired,userId:e.PropTypes.number.isRequired,courseId:e.PropTypes.string,rootPath:e.PropTypes.string,courseForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(n)),questionForum:e.PropTypes.instanceOf(n),rootForumId:e.PropTypes.string},o.contextTypes={router:e.PropTypes.object.isRequired},i=function _initialiseProps(){var e=this;this.handleSaveSuccess=function(){e.closeModal();var t=void 0;t=s()?u(c.join(e.props.rootPath,e.state.selectedForum.link),e.props.question.questionId):u(e.state.selectedForum.link,e.props.question.id),e.context.router.push(t)},this.handleSaveError=function(t){e.setState({saveError:!0,saving:!1})},this.handleInputChange=function(s,t){e.setState({selectedForum:t.value})},this.handleCloseModal=function(){e.closeModal()},this.handleCancel=function(){e.closeModal()},this.handleSubmit=function(){var o=h(e.props.question.id,e.props.courseId,e.state.selectedForum.forumId,e.state.selectedForum.type,e.props.userId);if(o)o.then(e.handleSaveSuccess).fail(e.handleSaveError).done(),e.setState({saving:!0});else{var t=e.state.selectedForum,n=(new I).addQueryParam("action","move").addQueryParam("id",e.props.question.id),s={context:{typeName:t.type,definition:{courseId:e.props.courseId}}};"week"===t.type?s.context.definition.weekNumber=parseInt(t.id,10):s.context.definition[t.type+"Id"]=t.id,g(b.post(n.toString(),{data:s})).then(e.handleSaveSuccess)["catch"](e.handleSaveError).done(),e.setState({saving:!0})}}},r);module.exports=_.compose(C(["CourseStore","ApplicationStore"],function(e){var t=e.CourseStore,s=e.ApplicationStore;return{userId:s.getUserData().id,courseId:t.getCourseId(),rootPath:"/learn/"+t.getCourseSlug()}}),d.createContainer(function(e){return{courseForums:s()?n.course({params:{courseId:e.courseId},fields:["title","forumType","link"]}):[]}}),T(function(e){var s=e.question.forumId,t=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===M.rootForumType});return{questionForum:e.courseForums&&e.courseForums.find(function(e){return e.forumId===s}),rootForumId:t&&t.id}}),w(function(e){return!s()||!!e.courseForums&&!!e.questionForum}))(x)});
define("bundles/phoenix/components/Dropdown",["require","exports","module","react","classnames","bundles/iconfont/Icon","js/lib/popups"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),r=require("classnames"),n=require("bundles/iconfont/Icon");require("js/lib/popups");var s=(o=t=function(t){function Dropdown(){return _classCallCheck(this,Dropdown),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(Dropdown,t),Dropdown.prototype.render=function render(){var t=this.props.dropdownId,o=r("nostyle",this.props.toggleClassName),s=this.props.iconName||"ellipsis-h";return e.createElement("div",{className:this.props.className},e.createElement("div",null,e.createElement("button",{"aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","aria-owns":t,"data-popup":"#"+t,"data-popup-bind-open":"click","data-popup-direction":this.props.dropdownDirection,"data-popup-close":"data-popup-close",className:o,bsRole:"toggle"},e.createElement(n,{name:s,className:this.props.iconClassName})),e.createElement("ul",{className:"styleguide dropdown bt3-dropdown-menu",id:t},this.props.listItems.map(function(o,r){return e.createElement("li",{key:t+"-listItem"+r},o)}))))},Dropdown}(e.Component),t.propTypes={dropdownId:e.PropTypes.string.isRequired,listItems:e.PropTypes.arrayOf(e.PropTypes.node).isRequired,dropdownDirection:e.PropTypes.string.isRequired,className:e.PropTypes.string,toggleClassName:e.PropTypes.string,iconClassName:e.PropTypes.string,iconName:e.PropTypes.string},t.defaultProps={dropdownDirection:"se"},o);module.exports=s});

define('css!bundles/discussions/components/threadSettings/__styles__/ThreadSettings',[],function(){})
define("bundles/discussions/components/threadSettings/ThreadSettings",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/viewModels/viewContext","bundles/discussions/components/threadSettings/CloseThreadButton","bundles/discussions/components/threadSettings/PinThreadButton","bundles/discussions/components/threadSettings/MoveThreadModal","bundles/phoenix/components/Dropdown","css!./__styles__/ThreadSettings"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("i18n!nls/discussions"),s=require("bundles/discussions/viewModels/viewContext"),r=require("bundles/discussions/components/threadSettings/CloseThreadButton"),i=require("bundles/discussions/components/threadSettings/PinThreadButton"),a=require("bundles/discussions/components/threadSettings/MoveThreadModal"),d=require("bundles/phoenix/components/Dropdown");require("css!./__styles__/ThreadSettings");var c=(n=t=function(t){function ThreadSettings(){var o,e,s;_classCallCheck(this,ThreadSettings);for(var r=arguments.length,i=Array(r),n=0;r>n;n++)i[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={showMoveThreadModal:!1},e.openMoveThreadModal=function(){e.setState({showMoveThreadModal:!0})},e.closeMoveThreadModal=function(){e.setState({showMoveThreadModal:!1})},s=o,_possibleConstructorReturn(e,s)}return _inherits(ThreadSettings,t),ThreadSettings.prototype.renderMoveThreadModal=function renderMoveThreadModal(){return e.createElement(a,{viewContext:this.context.viewContext,handleClose:this.closeMoveThreadModal,question:this.props.question})},ThreadSettings.prototype.renderNonItemEntries=function renderNonItemEntries(){var t=this.context.viewContext?"item"!==this.context.viewContext.get("model.viewContext.type"):this.props.shouldShowMoveThread;if(t)return e.createElement("button",{className:"nostyle",onClick:this.openMoveThreadModal},o("Move Thread"));return null},ThreadSettings.prototype.render=function render(){var t=[e.createElement(r,null),e.createElement(i,null),this.renderNonItemEntries()];return e.createElement("div",{className:"rc-ThreadSettings"},e.createElement(d,{dropdownId:"test",listItems:t,iconName:"settings",iconClassName:"color-secondary-text"}),this.state.showMoveThreadModal&&this.renderMoveThreadModal())},ThreadSettings}(e.Component),t.propTypes={question:e.PropTypes.object.isRequired,shouldShowMoveThread:e.PropTypes.bool},t.contextTypes={viewContext:e.PropTypes.instanceOf(s)},n);module.exports=c});

define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadDetail',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadDetail",["require","exports","module","jsuri","react-router","react","underscore","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/components/discussionsBody/DetailedQuestion","bundles/discussions/components/SessionDetails","bundles/discussions/components/SoftDelete","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/repliesList/RepliesList","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/NextViewLink","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/threadSettings/ThreadSettings","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/api/threadDetailsUtils","bundles/discussions/utils/unreadTracker","bundles/discussions/viewModels/viewContext","bundles/discussions/utils/discussionsApiRolloutUtil","i18n!nls/discussions","pages/open-course/common/models/currentSocialProfile","pages/open-course/common/promises/groupAuthorizationPromise","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/discussions/components/discussionsForumsHOC","css!bundles/discussions/components/discussionsBody/__styles__/ThreadDetail"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),s=0;s<i.length;s++){var t=i[s],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var n,d,E=require("jsuri"),b=require("react-router"),I=b.Link,e=require("react"),_=require("underscore"),c=require("bundles/discussions/actions/ThreadDetailsActions"),A=c.fetchThread,s=c.fetchAnswers,l=require("bundles/discussions/components/discussionsBody/DetailedQuestion"),m=require("bundles/discussions/components/SessionDetails"),h=require("bundles/discussions/components/SoftDelete"),f=require("bundles/discussions/components/profiles/ProfileArea"),y=require("bundles/discussions/components/repliesList/RepliesList"),u=require("bundles/discussions/components/repliesList/ReplyCMLInput"),g=require("bundles/discussions/components/NextViewLink"),T=require("bundles/discussions/components/ModerationDropdown"),v=require("bundles/discussions/components/threadSettings/ThreadSettings"),t=require("bundles/discussions/constants"),p=t.savingStates,x=t.answerSorts,i=t.defaults,w=t.answers,a=t.naptimeForumTypes,S=require("bundles/discussions/utils/discussionsUrl"),P=S.buildUrl,C=require("bundles/discussions/api/threadDetailsUtils"),q=C.getAnswerPosition,D=require("bundles/discussions/utils/unreadTracker"),k=require("bundles/discussions/viewModels/viewContext"),R=require("bundles/discussions/utils/discussionsApiRolloutUtil"),o=R.useNewForumApis,N=require("i18n!nls/discussions"),r=require("pages/open-course/common/models/currentSocialProfile"),F=require("pages/open-course/common/promises/groupAuthorizationPromise"),U=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),M=require("js/lib/connectToRouter"),j=require("bundles/discussions/utils/routerConnectToCurrentForum"),L=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),O=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),B=require("bundles/discussions/components/discussionsForumsHOC"),z=w.limitPerPage;require("css!bundles/discussions/components/discussionsBody/__styles__/ThreadDetail");var V=(d=n=function(t){function ThreadDetail(){var o,s,n;_classCallCheck(this,ThreadDetail);for(var i=arguments.length,r=Array(i),e=0;i>e;e++)r[e]=arguments[e];return o=s=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(r))),s.state={canTeach:!1,inputClickCounter:0},n=o,_possibleConstructorReturn(s,n)}return _inherits(ThreadDetail,t),ThreadDetail.prototype.componentWillMount=function componentWillMount(){var t=this.props,u=t.questionId,n=t.sort,r=t.page,d=t.answerId,c=t.userId,a=t.courseId,e=t.currentForum;this.context.executeAction(A,{questionId:u,userId:c,courseId:a,sort:n,page:r,forumType:e&&e.forumType.typeName,forumUrlId:e&&e.urlId}),(!d&&!o()||1!==r||n!==i.detailSort)&&this.context.executeAction(s,{questionId:u,userId:c,courseId:a,sort:n,page:r,forumType:e&&e.forumType.typeName,forumUrlId:e&&e.urlId,includeDeleted:this.props.hasModerationRole})},ThreadDetail.prototype.componentDidMount=function componentDidMount(){this.markRead(),this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},ThreadDetail.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var o=e.questionId,n=e.userId,i=e.courseId,r=e.sort,u=e.page,t=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(s,{questionId:o,userId:n,courseId:i,sort:r,page:u,forumType:t&&t.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===p.SAVING&&e.answerSavingState===p.SAVED&&(this.context.executeAction(s,{questionId:o,userId:n,courseId:i,sort:r,page:u,forumType:t&&t.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:x.newestSort}}))},ThreadDetail.prototype.componentDidUpdate=function componentDidUpdate(e,t,s){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id||s.viewContext&&s.viewContext.get("id")!==this.context.viewContext.get("id"))&&this.markRead()},ThreadDetail.prototype.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},ThreadDetail.prototype.getRole=function getRole(){var e=this;if(this.context.viewContext&&"group"===this.context.viewContext.get("contentType")){var t=this.context.viewContext.get("model").id,s=this.props,o=s.authenticated,n=s.isSuperuser;F(t,o,n).then(function(s){e._isMounted&&e.setState({canTeach:s})})}else this.setState({canTeach:this.props.hasModerationRole})},ThreadDetail.prototype.getBackLinkDescription=function getBackLinkDescription(){if(o())return this.props.currentForum.title;var e=this.context.viewContext;return e.isType("item")||e.isType("question")?"Discussions":e.get("name")},ThreadDetail.prototype.fetchAnswerPosition=function fetchAnswerPosition(){var e=this,t=this.props,c=t.answerId,r=t.questionId,u=t.userId,a=t.courseId,n=t.currentForum,l=t.currentForumUrl,p=t.sort,d=t.page;if(!c)return;q(c,p,z).then(function(t){t===d?e.context.executeAction(s,{questionId:r,userId:u,courseId:a,sort:p,page:d,forumType:n&&n.forumType.typeName,forumUrlId:n&&n.urlId,includeDeleted:e.props.hasModerationRole}):e.context.router.replace({pathname:e.context.router.location.pathname,params:{},query:Object.assign(_.object(new E(e.context.router.location.search).queryPairs),{page:t})})}).fail(function(){var t=o()?l:e.context.viewContext.get("discussionsLink");e.context.router.replace(P(t,r)),e.context.executeAction(s,{userId:u,courseId:a,questionId:r,sort:i.detailSort,page:i.detailPage,forumType:n&&n.forumType.typeName,includeDeleted:e.props.hasModerationRole})}).done()},ThreadDetail.prototype.markRead=function markRead(){D.markRead(this.props.questionId)},ThreadDetail.prototype.render=function render(){var n=this,t=this.props,s=t.question,i=t.isClosed,c=t.isPinned,b=t.currentForumUrl,d=t.currentForum,p=o()?b:this.context.viewContext.get("discussionsLink"),g=d&&[a.mentorForumType,a.groupForumType].indexOf(d.forumType.typeName)<0;return e.createElement("div",{className:"rc-ThreadDetail"},this.state.canTeach&&s&&e.createElement(m,{isPinned:c,question:s}),e.createElement("div",{className:"discussion-content"},e.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},e.createElement(I,{to:this.props.backLink,className:"back-area nostyle"},e.createElement("div",{className:"horizontal-box align-items-vertical-center"},e.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),e.createElement("h4",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&s&&e.createElement(v,{question:s,viewContext:this.context.viewContext,shouldShowMoveThread:g})),e.createElement("div",{className:"frost-container"},e.createElement("div",null,e.createElement(l,{goToInput:function goToInput(){return n.setState({inputClickCounter:n.state.inputClickCounter+1})},question:s,isPinned:c,forumLink:p}),i&&e.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement("i",{className:"cif-lock"}),N("This thread is closed. You cannot add any more responses.")))),e.createElement("div",null,e.createElement(y,{sort:this.props.sort,page:this.props.page,questionId:this.props.questionId,answerId:this.props.answerId,commentId:this.props.commentId,forumLink:p}),!i&&e.createElement("div",{className:"reply-container horizontal-box"},e.createElement(f,{externalUserId:r.get("externalUserId"),fullName:r.get("fullName"),profileImageUrl:r.getProfileImageUrl()}),s&&e.createElement(u,{shouldFocusCounter:this.state.inputClickCounter,parentPost:s,savingState:this.props.answerSavingState})),s&&s.state&&s.state.deleted&&e.createElement(h,{entry:this.props.question,hideUndoDelete:!1})))))},ThreadDetail}(e.Component),n.propTypes={questionId:e.PropTypes.string.isRequired,sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,backLink:e.PropTypes.string.isRequired,authenticated:e.PropTypes.bool.isRequired,isSuperuser:e.PropTypes.bool.isRequired,answerSavingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,question:e.PropTypes.object,isClosed:e.PropTypes.bool,isPinned:e.PropTypes.bool,courseId:e.PropTypes.string,userId:e.PropTypes.number,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(L),e.PropTypes.instanceOf(O)]),currentForumUrl:e.PropTypes.string,hasModerationRole:e.PropTypes.bool},n.contextTypes={viewContext:e.PropTypes.instanceOf(k),executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},d);module.exports=_.compose(U(["ThreadDetailsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],function(e,i){var o=e.ThreadDetailsStore,n=e.ThreadSettingsStore,u=e.CourseStore,s=e.ApplicationStore,r=i.questionId,t=o.getQuestion(r);return{question:t,answerSavingState:t&&o.savingStates[t.id],isClosed:n.isClosed(),isPinned:n.isPinned(),userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}}),B({fields:["link","title"],subcomponents:[g,u,T]}),M(j))(V)});
define("bundles/discussions/api/SearchApi",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","jsuri","bundles/discussions/constants"],function(require,exports,module){var t=require("q"),i=require("bundles/phoenix/lib/apiWrapper"),a=require("jsuri"),o=require("bundles/discussions/constants"),r=o.APIConstants,e=o.naptimeForumTypes,d=i(r.searchResource,{type:"rest"}),u={searchParamsFromForum:function searchParamsFromForum(r){var u=r.forumType.typeName;return r.forumType.typeName===e.rootForumType?{q:"byCourse"}:u===e.weekForumType?{q:"byWeek",weekNumber:r.forumType.definition.weekNumber+""}:u===e.groupForumType?{q:"byGroup",groupId:r.forumType.definition.groupId}:u===e.itemForumType?{q:"byItem",itemId:r.forumType.definition.itemId}:{q:"byForum",forumId:r.legacyForumId||r.forumId}},searchParamsFromViewContext:function searchParamsFromViewContext(e){var r=e.get("type");if("course"===r)return{q:"byCourse"};if("module"===r)return{q:"byModule",moduleId:e.get("id")};if("week"===r)return{q:"byWeek",weekNumber:e.get("id")};if("forum"===r)return{q:"byForum",forumId:e.get("id")};if("item"===r)return{q:"byItem",itemId:e.get("id")};if("group"===r)return{q:"byGroup",groupId:e.get("groupId")};var u={};return u[e.get("type")+"Id"]=e.get("id"),u},searchFor:function searchFor(n,i,s,p,m,y){var o=void 0;o=s?u.searchParamsFromViewContext(s):u.searchParamsFromForum(p);var e=(new a).addQueryParam("courseId",y).addQueryParam("query",n).addQueryParam("limit",r.limit).addQueryParam("fields","snippet,parentAnswerId").addQueryParam("includes","creatorId,_links");return Object.keys(o).forEach(function(r){e.addQueryParam(r,o[r])}),i&&(e=e.addQueryParam("sessionFilter",i)),m&&(e=e.addQueryParam("start",(m-1)*r.limit)),t(d.get(e.toString()))}};module.exports=u});
define("bundles/discussions/actions/DiscussionsSearchActions",["require","exports","module","bundles/discussions/constants","bundles/discussions/api/SearchApi","bundles/discussions/utils/discussionsApiRolloutUtil"],function(require,exports,module){var e=require("bundles/discussions/constants"),s=e.FluxibleActions,i=e.loadingStates,u=require("bundles/discussions/api/SearchApi"),r=require("bundles/discussions/utils/discussionsApiRolloutUtil"),n=r.useNewForumApis,o=function receiveSearchResults(e,i,u,n,t){e.dispatch(s.SEARCH_RESULTS_RECEIVED,{pageNum:n,forumId:i,query:u,naptimeResponse:t})},t=function searchApiError(e,i){e.dispatch(s.SEARCH_API_ERROR,{err:i})};exports.search=function(r,e,E){var d=e.query,S=e.filterQueryString,l=e.viewContext,f=e.forum,A=e.reset,p=void 0===A?!1:A,a=e.pageNum,c=void 0===a?1:a,g=e.courseId;r.dispatch(s.UPDATE_LOADING_STATE,i.LOADING),p&&r.dispatch(s.CLEAR_DISCUSSIONS_SEARCH_STORE);var h=n()?f.forumId:l.get("id");u.searchFor(d,S,l,f,c,g).then(function(s){return o(r,h,d,c,s)}).fail(function(s){return t(r,s)}).done(function(){return E()})},exports.goToPage=function(r,e,l){var c=e.query,d=e.filterQueryString,o=e.pageNum,a=e.viewContext,f=e.forum,p=e.courseId,A=n()?f.forumId:a.get("id"),S=r.getStore("DiscussionsSearchStore"),E=S.searchResults({forumId:A,pageNum:o});r.dispatch(s.UPDATE_LOADING_STATE,i.LOADING),0===E.length?u.searchFor(c,d,a,f,o,p).then(function(e){r.dispatch(s.SEARCH_PAGE_CHANGE,{pageNum:o,filterQueryString:d,naptimeResponse:e,forumId:A,query:c})}).fail(function(s){return t(r,s)}).done(function(){return l()}):(r.dispatch(s.SEARCH_PAGE_CHANGE,{pageNum:o,filterQueryString:d,forumId:a.get("id"),query:c}),l())}});
define("bundles/discussions/components/search/SearchResultEntry",["require","exports","module","react","bundles/discussions/components/discussionsBody/ThreadsListEntry","bundles/discussions/lib/propTypes","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),s=0;s<i.length;s++){var r=i[s],t=Object.getOwnPropertyDescriptor(n,r);t&&t.configurable&&void 0===e[r]&&Object.defineProperty(e,r,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,r,e=require("react"),t=require("bundles/discussions/components/discussionsBody/ThreadsListEntry"),n=require("bundles/discussions/lib/propTypes"),i=n.profilePropType,o=require("bundles/discussions/utils/discussionsUrl"),u=require("bundles/discussions/utils/unreadTracker"),p=require("i18n!nls/discussions"),c=(r=s=function(s){function SearchResultEntry(){return _classCallCheck(this,SearchResultEntry),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(SearchResultEntry,s),SearchResultEntry.prototype.render=function render(){var s=this.props.entry,r=!u.hasUnread(s);return e.createElement("div",{className:"rc-SearchResultEntry nostyle"},e.createElement(t,{threadUrl:o.getDeepLink(this.props.forumLink,this.props.entry),profile:s.creator,timestamp:s.createdAt,threadName:s.title,snippet:s.snippet,questionId:s.id,questionUserId:s.creator.userId,isRead:r,metadataLabel:p("Post by"),linkClassName:"nostyle"}))},SearchResultEntry}(e.Component),s.propTypes={entry:e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,snippet:e.PropTypes.object.isRequired,creator:i.isRequired,createdAt:e.PropTypes.number}).isRequired,index:e.PropTypes.number.isRequired,page:e.PropTypes.number.isRequired,query:e.PropTypes.string.isRequired,forumLink:e.PropTypes.string.isRequired},r);module.exports=c});

define('css!bundles/discussions/components/search/__styles__/SearchResults',[],function(){})
define("bundles/discussions/components/search/SearchResults",["require","exports","module","underscore","react","bundles/discussions/viewModels/viewContext","bundles/discussions/constants","bundles/discussions/actions/DiscussionsSearchActions","bundles/discussions/components/ListBody","bundles/discussions/components/search/SearchBar","bundles/discussions/components/search/SearchResultEntry","bundles/page/components/PaginationControls","js/lib/path","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/waitFor","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/discussions/utils/discussionsApiRolloutUtil","bundles/discussions/components/discussionsForumsHOC","js/lib/coursera.react-intl","i18n!nls/discussions","css!./__styles__/SearchResults","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,n){for(var o=Object.getOwnPropertyNames(n),s=0;s<o.length;s++){var t=o[s],r=Object.getOwnPropertyDescriptor(n,t);r&&r.configurable&&void 0===e[t]&&Object.defineProperty(e,t,r)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var r,i,y=require("underscore"),P=y.compose,e=require("react"),F=require("bundles/discussions/viewModels/viewContext"),l=require("bundles/discussions/constants"),n=l.loadingStates,o=require("bundles/discussions/actions/DiscussionsSearchActions"),p=require("bundles/discussions/components/ListBody"),d=require("bundles/discussions/components/search/SearchBar"),m=require("bundles/discussions/components/search/SearchResultEntry"),c=require("bundles/page/components/PaginationControls"),h=require("js/lib/path"),u=require("js/lib/connectToRouter"),g=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),f=require("js/lib/waitFor"),b=require("bundles/discussions/utils/discussionsUrl"),v=b.getAllThreadsDiscussionsUrl,S=require("bundles/discussions/utils/routerConnectToCurrentForum"),C=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),q=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),x=require("bundles/discussions/utils/discussionsApiRolloutUtil"),s=x.useNewForumApis,w=require("bundles/discussions/components/discussionsForumsHOC"),T=require("js/lib/coursera.react-intl"),a=T.FormattedMessage,t=require("i18n!nls/discussions");require("css!./__styles__/SearchResults"),require("css!bundles/page/components/__styles__/PaginationControls.css");var R=(i=r=function(r){function SearchResults(t,n){_classCallCheck(this,SearchResults);var e=_possibleConstructorReturn(this,r.call(this,t,n));return e.handleQueryChange=function(s){e.setState({query:s})},e.handleSearchCourse=function(s){s.preventDefault();var t=h.join(e.props.rootPath,"discussions/all");e.context.router.push({pathname:t,params:{},query:{q:e.state.query}})},e.onPageChange=function(s){e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:Object.assign(e.context.router.location.query,{page:s})}),e.context.executeAction(o.goToPage,{query:e.props.query,pageNum:s,viewContext:e.props.viewContext,forum:e.props.currentForum,courseId:e.props.courseId})},e.submitSearch=function(){if(e.state.query){var s=e.state.query.replace("*","");e.context.router.push({pathname:window.location.pathname,params:{},query:{q:s}})}},e.navigateBack=function(t){t.preventDefault();var r=s()?e.props.currentForumUrl:e.props.viewContext.get("discussionsLink");e.context.router.push(r)},e.state={query:t.query||""},t.query&&e.context.executeAction(o.search,{query:t.query,filterQueryString:t.filterQueryString,pageNum:t.page,viewContext:t.viewContext,forum:t.currentForum,reset:!0,courseId:t.courseId}),e}return _inherits(SearchResults,r),SearchResults.prototype.componentWillReceiveProps=function componentWillReceiveProps(e,s,t){(e.query!==this.props.query||e.pathname!==this.props.pathname||this.props.viewContext&&e.viewContext.get("id")!==this.props.viewContext.get("id")||this.props.currentForum&&e.currentForum.id!==this.props.currentForum.id||e.filterQueryString!==this.props.filterQueryString)&&(this.setState({query:e.query}),this.context.executeAction(o.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:this.props.page,viewContext:e.viewContext,forum:e.currentForum,reset:this.props.filterQueryString!==e.filterQueryString,courseId:e.courseId}))},SearchResults.prototype.render=function render(){var i=this,r=this.context.router.isActive({pathname:v()}),h=!!this.context.router.params.item_id,u=!r&&!h,o=s()?this.props.currentForum.title:this.props.viewContext.getDisplayName(),y=s()?this.props.currentForumUrl:this.props.viewContext.get("discussionsLink"),l=void 0,g=e.createElement("a",{href:"#",onClick:this.handleSearchCourse,className:"nostyle search-course-link"},t("Search All Discussions")),f=e.createElement("div",{className:"results-metadata bgcolor-black-g1"},e.createElement("span",{className:"color-secondary-text"},this.props.loadingState===n.DONE?e.createElement(a,{message:t("{numResults} search results in {displayName}"),numResults:this.props.numResults,displayName:o}):e.createElement(a,{message:t("Finding search results in {displayName}"),displayName:o}),u&&" • ",u&&g));return this.props.loadingState===n.DONE&&this.props.currentResults.length>0&&(l=this.props.currentResults.map(function(t,s){return e.createElement(m,{key:s,index:s,entry:t,page:i.props.page,query:i.props.query,forumLink:y})})),e.createElement("div",{className:"rc-DiscussionsSearchResults"},e.createElement("div",{className:"results-container card-rich-interaction"},!r&&e.createElement("div",{className:"bgcolor-black-g1"},e.createElement("a",{href:"#",onClick:this.navigateBack,className:"nostyle back-area"},e.createElement("div",{className:"back-arrow"},e.createElement("i",{className:"cif-arrow-left back-arrow-image"})),e.createElement("span",{className:"back-label body-2-text"},t("Back to "+o)))),!r&&e.createElement(d,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange}),!r&&f,e.createElement(p,{loadingState:this.props.loadingState},l)),e.createElement(c,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))},SearchResults}(e.Component),r.propTypes={viewContext:e.PropTypes.instanceOf(F),currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(C),e.PropTypes.instanceOf(q)]),query:e.PropTypes.string.isRequired,pathname:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,loadingState:e.PropTypes.oneOf(Object.keys(n)),pageCount:e.PropTypes.number,currentResults:e.PropTypes.array,numResults:e.PropTypes.number,filterQueryString:e.PropTypes.string,rootPath:e.PropTypes.string,courseId:e.PropTypes.string,currentForumUrl:e.PropTypes.string},r.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},i);module.exports=P(u(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),w({fields:["title","link","forumType"]}),u(S),g(["DiscussionsSearchStore","SessionFilterStore"],function(n,e){var t=n.DiscussionsSearchStore,o=n.SessionFilterStore,r=s()?e.currentForum.forumId:e.viewContext.get("id");return{filterQueryString:o.activeFilterQueryString,currentResults:t.searchResults({forumId:r,query:e.query,pageNum:t.currentPage}),loadingState:t.loadingState,pageCount:t.getPageCount({forumId:r,query:e.query}),numResults:t.getNumResults({forumId:r,query:e.query})}}),f(function(e){return e.currentForum||e.viewContext}))(R)});
define("bundles/discussions/components/discussionsBody/DiscussionsBody",["require","exports","module","jquery","react","underscore","jsuri","classnames","js/lib/provideFluxibleAppContext","bundles/discussions/utils/discussionsApiRolloutUtil","js/lib/retracked","bundles/discussions/constants","bundles/discussions/viewModels/viewContext","bundles/discussions/components/discussionsBody/ThreadsList","bundles/discussions/components/discussionsBody/ThreadDetail","bundles/discussions/components/search/SearchResults","js/lib/connectToRouter"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var s=n[t],o=Object.getOwnPropertyDescriptor(r,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,$=require("jquery"),e=require("react"),i=require("underscore"),a=i.compose,p=require("jsuri"),u=require("classnames"),c=require("js/lib/provideFluxibleAppContext"),n=require("bundles/discussions/utils/discussionsApiRolloutUtil"),l=n.useNewForumApis,d=require("js/lib/retracked"),y=require("bundles/discussions/constants"),s=y.defaults,r=require("bundles/discussions/viewModels/viewContext"),g=require("bundles/discussions/components/discussionsBody/ThreadsList"),h=require("bundles/discussions/components/discussionsBody/ThreadDetail"),b=require("bundles/discussions/components/search/SearchResults"),P=require("js/lib/connectToRouter"),m=(o=t=function(t){function DiscussionsBody(){var o,e,r;_classCallCheck(this,DiscussionsBody);for(var n=arguments.length,i=Array(n),s=0;n>s;s++)i[s]=arguments[s];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={},e.onKeypress=function(){e.props.videoPlayer&&e.props.videoPlayer.emitter.set("disableAutoplay")},r=o,_possibleConstructorReturn(e,r)}return _inherits(DiscussionsBody,t),DiscussionsBody.prototype.getChildContext=function getChildContext(){return{viewContext:this.props.viewContext,fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},DiscussionsBody.prototype.componentWillMount=function componentWillMount(){$(document).one("keypress",this.onKeypress)},DiscussionsBody.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})},DiscussionsBody.prototype.componentWillUnmount=function componentWillUnmount(){$(document).off("keypress",this.onKeypress)},DiscussionsBody.prototype.renderSearchResults=function renderSearchResults(){var t=this.props,s=t.searchPage,o=t.q;return e.createElement(b,{query:o,page:s,ref:"SearchResults",viewContext:this.props.viewContext})},DiscussionsBody.prototype.renderThreadsList=function renderThreadsList(){var t=this.props,s=t.listPage,o=t.listSort;return e.createElement(g,{ref:"ThreadsList",videoPlayer:this.props.videoPlayer,sort:o,page:s})},DiscussionsBody.prototype.renderThreadDetail=function renderThreadDetail(){var t=this.props,o=t.videoPlayer,r=t.questionId,n=t.answerId,i=t.commentId,a=t.detailPage,s=t.detailSort,c=t.listSort,d=t.listPage,y=t.q,g=t.backLink,b=l()?g:this.props.viewContext.get("discussionsLink"),u=new p(b).addQueryParam("sort",c).addQueryParam("page",this.state.previousListPage||d).addQueryParam("q",y).toString();return e.createElement(h,{ref:"ThreadDetail",videoPlayer:o,questionId:r,answerId:n,commentId:i,sort:s,page:a,backLink:u})},DiscussionsBody.prototype.render=function render(){var t=this.props.questionId,s=this.props.q;return e.createElement("div",{className:u("rc-DiscussionsBody","styleguide",this.props.className)},t&&this.renderThreadDetail(),!t&&(s?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(e.Component),t.propTypes={viewContext:e.PropTypes.instanceOf(r),backLink:e.PropTypes.string,videoPlayer:e.PropTypes.object,className:e.PropTypes.string,questionId:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,sort:e.PropTypes.string,page:e.PropTypes.number,detailSort:e.PropTypes.string,detailPage:e.PropTypes.number,listSort:e.PropTypes.string,listPage:e.PropTypes.number,q:e.PropTypes.string,searchPage:e.PropTypes.number,fluxibleContext:e.PropTypes.object},t.contextTypes={router:e.PropTypes.object.isRequired,fluxibleContext:e.PropTypes.object},t.childContextTypes={viewContext:e.PropTypes.instanceOf(r),fluxibleContext:e.PropTypes.object},t.defaultProps={detailSort:s.detailSort,detailPage:s.detailPage,listSort:s.listSort,listPage:s.listPage},o),f=function getPropsFromRouter(n){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.params,e=n.location.query,i=r.question_id||o.questionId,t=e.page?parseInt(e.page,10):1,s={answerId:r.answer_id||o.answerId,questionId:i,commentId:r.comment_id||o.commentId,sort:e.sort,page:t};return i?Object.assign(s,{detailSort:e.sort,detailPage:t}):e.q?Object.assign(s,{q:e.q,searchPage:t}):Object.assign(s,{listSort:e.sort,listPage:t}),s};module.exports=a(c(),P(f),d.createTrackedContainer(function(e){return{view_context_id:e.viewContext&&e.viewContext.get("id"),type:e.viewContext&&e.viewContext.get("type"),sort:e.sort,page:e.page}}))(m)});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SessionSwitcherDropdown .bt3-btn-group{width:100%}.rc-SessionSwitcherDropdown button.bt3-dropdown-toggle{-webkit-border-radius:0;border-radius:0;width:100%;text-align:left;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.rc-SessionSwitcherDropdown button.bt3-dropdown-toggle span{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.rc-SessionSwitcherDropdown ul.bt3-dropdown-menu{z-index:10000}.rc-SessionSwitcherDropdown .menu-item-label{background:#f6faff;-webkit-border-radius:2px;border-radius:2px;padding:2px 10px;border:1px solid rgba(0,0,0,0.1);margin-left:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-NewThreadForm .c-new-thread-button{margin:4px 0 8px 8px}.rc-NewThreadForm .context-selector-container .section-divider{width:100%;height:1px;margin-bottom:16px}.rc-NewThreadForm .context-selector-container h5{font-family:\'sofiapro-light\',Arial,sans-serif;font-size:18px}.rc-NewThreadForm .new-thread-modal .c-modal-content{overflow-y:scroll}.c-input-area{margin-bottom:12px}.c-form-label-area{width:56px;text-align:left;margin-right:8px;vertical-align:top;}.c-form-label-area h2.c-form-label{margin-top:4px}@media (max-width:767px){.c-post-heading{margin-bottom:0}.c-form-label-area{text-align:left}.c-form-error-message{margin-left:0}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SearchBar{z-index:1000;}.rc-SearchBar.search-bar{border:none;}.rc-SearchBar.search-bar i{margin-right:16px}.rc-SearchBar .close-icon{margin-left:16px}.rc-SearchBox{position:relative;}.rc-SearchBox .search-box{width:100%;}.rc-SearchBox .search-box:hover{outline:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ControlsBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:50px;padding:0;}.rc-ControlsBar .sort-label{margin:0 0 0 32px}.rc-ControlsBar .sort-select{border:none;margin-right:20px}.rc-ControlsBar .rc-NewThreadForm{margin-right:8px;min-width:104px}.rc-ControlsBar .rc-SearchBox{margin-right:8px;max-width:200px}.rc-ControlsBar .expand-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;z-index:1000;max-height:inherit}.rc-ControlsBar .shrink-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;overflow:hidden;max-height:inherit}.rc-ControlsBar.in-search-mode .expand-block{-webkit-transition:flex 0.2s ease-in-out;-moz-transition:flex 0.2s ease-in-out;-o-transition:flex 0.2s ease-in-out;-ms-transition:flex 0.2s ease-in-out;transition:flex 0.2s ease-in-out}.rc-ControlsBar.in-search-mode .shrink-block{min-width:0;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:.00001;-ms-flex:.00001;flex:.00001;-webkit-flex:.00001;-ms-flex:.00001;-moz-flex:.00001;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ControlsBar button.tertiary{min-width:20px}.rc-ControlsBar .mobile{display:none}@media (max-width:767px){.rc-ControlsBar .mobile{display:block}.rc-ControlsBar .large-screen{display:none}.rc-ControlsBar .rc-NewThreadForm{min-width:0}.rc-ControlsBar button.tertiary{padding:0}.rc-ControlsBar .rc-SearchBox,.rc-ControlsBar .rc-NewThreadForm{width:24px;}.rc-ControlsBar .rc-SearchBox i,.rc-ControlsBar .rc-NewThreadForm i{font-size:20px;padding-bottom:6px}.rc-ControlsBar .rc-NewThreadForm i{padding-top:6px}.rc-ControlsBar .rc-SearchBox i{padding-top:4px}}.rc-ListBody{position:relative;max-height:120px;min-height:120px;overflow-x:visible;}.rc-ListBody.c-list-expanded{max-height:100000px;min-height:inherit;-webkit-transition:max-height 1s ease-in-out;-moz-transition:max-height 1s ease-in-out;-o-transition:max-height 1s ease-in-out;-ms-transition:max-height 1s ease-in-out;transition:max-height 1s ease-in-out}.rc-ListBody.c-post-transition{overflow:visible}.rc-ListBody .message{padding:40px 20px 44px;text-align:center;height:80px}.rc-ListBody .c-pre-fossil{z-index:0;top:0;right:0;bottom:0;left:0;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.rc-ListBody .c-pre-fossil.c-fossilized{position:absolute;background-color:rgba(255,255,255,0.7);z-index:1000;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ListBody ul{margin:0;padding:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImage .c-profile-image{-webkit-border-radius:100%;border-radius:100%;}.rc-ProfileImage .c-profile-image img{-webkit-border-radius:100%;border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImageWithRole .course-role-icon{-webkit-border-radius:100%;border-radius:100%;color:#fff;width:18px;height:18px;position:absolute;margin-left:24px;margin-top:-14px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MiniProfile{position:absolute;z-index:9999;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-MiniProfile.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-MiniProfile .profile-header{margin:16px 12px 12px;}.rc-MiniProfile .profile-header .profile-photo{margin-bottom:12px}.rc-MiniProfile .profile-footer{padding:12px 16px 16px}.rc-MiniProfile .loading-state{text-align:center;margin:48px}.rc-MiniProfile .dot-spacing{margin:0 4px}.rc-MiniProfile.profileAreaNorth{margin-top:-205px}.rc-MiniProfile.profileAreaSouth{margin-top:5px}.rc-MiniProfile.profileNameNorth{margin-top:-185px}.rc-MiniProfile.profileNameSouth{margin-top:5px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileName .profile-name{color:inherit;text-decoration:none;cursor:pointer;}.rc-ProfileName .profile-name:hover{text-decoration:underline;color:rgba(0,0,0,0.54)}.rc-SoftDelete .c-soft-delete{display:block;position:absolute;top:0;right:0;background:rgba(255,255,255,0.7);width:100%;height:100%;}.rc-SoftDelete .c-soft-delete .c-soft-delete-header{position:absolute;top:10px;right:15px}.rc-SoftDelete .c-soft-delete-clickable{pointer-events:none}.rc-SoftDelete .c-soft-delete-error{position:absolute;top:10px;right:15px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsListEntry{padding:16px 16px 20px 16px;cursor:pointer;position:relative;border-bottom:1px solid rgba(0,0,0,0.06);}.rc-ThreadsListEntry:last-child{border-bottom:none}.rc-ThreadsListEntry:hover{background:rgba(0,0,0,0.05);}.rc-ThreadsListEntry:hover a{text-decoration:none}.rc-ThreadsListEntry .entry-metadata{margin-top:4px;}.rc-ThreadsListEntry .entry-metadata .timestamp-separator{margin-left:4px}.rc-ThreadsListEntry .entry-metadata .timestamp{margin-left:4px}.rc-ThreadsListEntry .c-title{margin-bottom:4px}.rc-ThreadsListEntry .c-reply-area{margin-left:16px;}.rc-ThreadsListEntry .c-reply-area .view-count{margin-right:12px}.rc-ThreadsListEntry .question-title-bold{font-weight:bold}.rc-ThreadsListEntry .forum-info{font-weight:bold}.rc-ThreadsListEntry .pin-container{margin:0 13px 0 -51px;z-index:1000;cursor:default}.rc-ThreadsListEntry .pin-background{color:#a07e46}.rc-ThreadsListEntry .pin-icon{margin:10px 0 0 8.5px;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform:rotate(-45deg);color:#fff}.rc-ThreadsListEntry .moderator-replied-badge{padding:2px 8px;-webkit-border-radius:3px;border-radius:3px;margin:0 12px 0 0;color:#a07e46}.rc-ThreadsListEntry .entry-snippet{max-height:150px;overflow:hidden}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsList .c-forum-label-area{margin-top:24px;}.rc-ThreadsList .c-forum-label-area h3.headline-2-text,.rc-ThreadsList .c-forum-label-area p.big{margin-bottom:0}.rc-ThreadsList .c-forum-label-area .c-forum-label-section{padding-bottom:12px;}.rc-ThreadsList .c-forum-label-area .c-forum-label-section .btn-subscribe{margin-left:8px}.rc-ThreadsList .c-forum-description{margin-bottom:32px}.rc-ThreadsList .rc-ListBody{padding:0 16px 16px}.rc-ThreadsList .discussions-sidebar{margin-left:30px}.rc-PaginationControls{margin-top:16px;}.rc-PaginationControls .pagination-controls-container > .box{margin-left:6px;width:100%;}.rc-PaginationControls .pagination-controls-container > .box:first-child{margin-left:0}.rc-PaginationControls button{border:none;background-color:inherit}.rc-ModerationReasons .c-radio-group{list-style-type:none;padding-left:0}.rc-ModerationReasons li{margin:0 0 16px 16px}.rc-ModerationReasons a{text-decoration:underline}.rc-ModerationReasons label{font-weight:normal}.rc-ModerationReasons .c-radio-label{display:inline-block;padding-left:16px}.rc-NotifyOption input{margin-right:16px}.rc-Delete .c-delete-warning{margin-bottom:40px}.rc-FlaggingModal .c-modal-content{min-height:120px;}.rc-FlaggingModal .c-modal-content .modal-text{margin-top:20px;}.rc-FlaggingModal .c-modal-content .modal-text.success{text-align:center;margin-top:24px}.rc-FlaggingModal .c-modal-content .button-container{margin-top:40px;margin-right:12px;}.rc-FlaggingModal .c-modal-content .button-container .never-mind{margin-right:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CopyLink .link-input{padding:0 8px}.rc-CopyLink .box{min-width:250px;border:1px solid rgba(0,0,0,0.1);background-color:#fff;}.rc-CopyLink .box.copied{border:1px solid #2a73cc}.rc-CopyLink .box .link{overflow:hidden;-webkit-border-radius:0;border-radius:0;padding-left:12px;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.rc-CopyLink .clipboard-message{margin-top:8px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-CopyLink .clipboard-message.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-CopyLink .copy-message{margin-top:2px}.rc-ShareModal .rc-CopyLink{margin:40px 0 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Dropdown{margin-top:-6px;}.rc-Dropdown ul.styleguide.dropdown{display:block;position:absolute;min-width:132px;margin:0 0 0 -120px;z-index:1000}.rc-Dropdown > button{border:none;background-color:inherit}.c-phoenix-dropdown-container{float:right;margin:-10px -8px 0 0}.c-dropdown-chevron{color:rgba(0,0,0,0.255);font-size:12px;cursor:pointer;}.c-dropdown-chevron:hover{color:rgba(0,0,0,0.45)}.rc-ProfileArea .c-profile-image-wrapper{cursor:pointer}.rc-ProfileArea .rc-ProfileImage{display:inline-block;}.rc-ProfileArea .rc-ProfileImage .c-profile-image{margin:0 4px 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AdminDetails{border:none;}.rc-AdminDetails p{background-color:#f6faff;border:1px solid rgba(0,0,0,0.12);-webkit-border-radius:3px;border-radius:3px;text-align:right;padding:2px 4px;margin-bottom:4px}.rc-Badge{padding:2px 4px;margin:0 0 0 4px;-webkit-border-radius:3px;border-radius:3px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Upvote border-bottom-color $color-hint-text:hover{border-bottom-color:#2775d1}button.rc-Upvote{padding-left:0;}button.rc-Upvote:focus{outline:none}.rc-Follow .follow-number{background-color:#eef7ff;display:inline-block;padding:0 5px}.rc-DetailedQuestion{padding:20px 20px;min-height:120px;}.rc-DetailedQuestion .profile{width:44px;margin-right:8px}.rc-DetailedQuestion > .flex-1{overflow:hidden}.rc-DetailedQuestion .flagged{text-decoration:line-through}.rc-DetailedQuestion .pin{margin-left:2px}.rc-DetailedQuestion .rc-CML{margin:8px 0 20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-RepliesSortBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:68px;padding:0;}.rc-RepliesSortBar .tabs{margin-left:20px;min-width:200px;}.rc-RepliesSortBar .tabs a:active{color:rgba(0,0,0,0.87)}.rc-ReplyCML .editor-container{margin-bottom:16px;}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-editor{min-height:90px}.rc-ReplyCML .editor-container .rc-CMLEditor button{display:block}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-plugin-placeholder{top:15px;left:22px}.rc-ReplyCML .passive{margin-right:8px}.c-comment-input-container .rc-ReplyCML.collapsed .rc-CMLEditor .scribe-editor{min-height:48px}.c-comment-input-container .rc-ReplyCML.collapsed button{display:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyComponent{position:relative;}.rc-ReplyComponent .reply-content{padding:12px 20px;}.rc-ReplyComponent .reply-content .action-area button,.rc-ReplyComponent .reply-content .metadata button{border:none;background-color:inherit;}.rc-ReplyComponent .reply-content .action-area button:hover,.rc-ReplyComponent .reply-content .metadata button:hover{color:#2a73cc}.rc-ReplyComponent .reply-content .reply-details{padding:0}.rc-ReplyComponent .profile{width:44px;margin:0 8px 0 0;padding-right:0}.rc-ReplyComponent .flag{text-decoration:line-through}.rc-ReplyComponent ol .reply-content{padding-left:72px}.rc-ReplyComponent .reply-load-button{margin-right:20px;margin-left:72px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyContainer{position:relative;}.rc-ReplyContainer .comment-input{margin:20px 20px 0 72px;}.rc-ReplyContainer .comment-input .ListBody{position:initial}.rc-ReplyContainer .comment-input .rc-ProfileArea{width:44px}.rc-ReplyContainer .comment-input .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:14px}.rc-MoveThreadModal button{margin:16px 0 0 16px}.rc-ThreadSettings{position:relative}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadDetail .back-area{margin-right:8px;}.rc-ThreadDetail .back-area .back-arrow{padding-left:4px;margin-right:4px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .back-area:hover .back-arrow{padding:0 4px 0 0;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .discussion-content{margin-top:20px;}.rc-ThreadDetail .discussion-content .frost-container{position:relative}.rc-ThreadDetail .mentor-message{line-height:30px;height:30px;width:100%;background-color:#fff5c3;border:1px solid #f19a0b}.rc-ThreadDetail .metadata{line-height:18px;}.rc-ThreadDetail .metadata .rc-NextViewName{margin-left:4px}.rc-ThreadDetail .action-area button{border:none;background-color:inherit;}.rc-ThreadDetail .action-area button:hover{color:#2a73cc}.rc-ThreadDetail .rc-CML{margin:8px 0 16px}.rc-ThreadDetail .rc-DetailedQuestion{margin-top:20px}.rc-ThreadDetail .rc-RepliesList{margin-top:20px;padding:0 0 20px 0}.rc-ThreadDetail .reply-container{padding:12px;margin-top:48px;-webkit-border-radius:3px;border-radius:3px;background-color:rgba(0,0,0,0.05);}.rc-ThreadDetail .reply-container .rc-ProfileArea{margin:4px}.rc-ThreadDetail .reply-container .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-DiscussionsSearchResults .back-area{margin:8px 0 10px;display:inline-block;}.rc-DiscussionsSearchResults .back-area .back-label{display:inline-block;margin:0 8px}.rc-DiscussionsSearchResults .back-area .back-arrow{display:inline-block;padding-left:4px;margin-left:8px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}.rc-DiscussionsSearchResults .back-area .back-arrow .back-arrow-image{margin-bottom:4px;height:12px;width:12px}.rc-DiscussionsSearchResults .back-area:hover .back-arrow{padding-left:0;padding-right:4px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-DiscussionsSearchResults .results-container .results-metadata{padding:16px 20px;}.rc-DiscussionsSearchResults .results-container .results-metadata .search-course-link{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry{cursor:pointer;border-bottom:1px solid rgba(0,0,0,0.06);list-style-type:none;}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry .c-result-title{margin-bottom:4px;font-weight:bold}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:hover .c-result-title{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:last-child{border-bottom:none}.rc-DiscussionsSearchResults .rc-ListBody{padding:0 16px 16px}');
