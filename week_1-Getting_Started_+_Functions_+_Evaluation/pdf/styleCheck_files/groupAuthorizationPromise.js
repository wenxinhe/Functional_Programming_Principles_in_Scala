define("pages/open-course/common/promises/groupAuthorizationPromise",["require","exports","module","q","underscore","bundles/groups/constants/GroupRoles","bundles/phoenix/template/models/userIdentity","bundles/groups/utils/GroupMembershipAPIUtils"],function(require,exports,module){"use strict";var e=require("q"),_=require("underscore"),o=require("bundles/groups/constants/GroupRoles"),n=require("bundles/phoenix/template/models/userIdentity"),s=require("bundles/groups/utils/GroupMembershipAPIUtils"),r={},t=function groupMembershipsPromise(t,u,i){if(!u)return e({canModerate:!1});if(i)return e({canModerate:!0});if(r[t])return e(r[t]);return s.getMembershipsForUser(n.id).then(function(n){var s=n.elements,u=_(s).find(function(e){return e.groupId===t&&(e.role===o.GroupManager||e.role===o.DerivedGroupManager)}),e={canModerate:!1};return u&&(e={canModerate:!0}),r[t]=e,e})};module.exports=t});